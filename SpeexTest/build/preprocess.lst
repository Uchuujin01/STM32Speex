ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m3
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.syntax unified
  15              		.file	"preprocess.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.spx_ilog2,"ax",%progbits
  20              		.align	2
  21              		.thumb
  22              		.thumb_func
  24              	spx_ilog2:
  25              	.LFB0:
  26              		.file 1 "STM32F10x_Speex_Lib/libspeex/math_approx.h"
   1:STM32F10x_Speex_Lib/libspeex/math_approx.h **** /* Copyright (C) 2002 Jean-Marc Valin */
   2:STM32F10x_Speex_Lib/libspeex/math_approx.h **** /**
   3:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    @file math_approx.h
   4:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    @brief Various math approximation functions for Speex
   5:STM32F10x_Speex_Lib/libspeex/math_approx.h **** */
   6:STM32F10x_Speex_Lib/libspeex/math_approx.h **** /*
   7:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    Redistribution and use in source and binary forms, with or without
   8:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    modification, are permitted provided that the following conditions
   9:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    are met:
  10:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    
  11:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    - Redistributions of source code must retain the above copyright
  12:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    notice, this list of conditions and the following disclaimer.
  13:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    
  14:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    - Redistributions in binary form must reproduce the above copyright
  15:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    notice, this list of conditions and the following disclaimer in the
  16:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    documentation and/or other materials provided with the distribution.
  17:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    
  18:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    - Neither the name of the Xiph.org Foundation nor the names of its
  19:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    contributors may be used to endorse or promote products derived from
  20:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    this software without specific prior written permission.
  21:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    
  22:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
  23:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    ``AS IS'' AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
  24:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
  25:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    A PARTICULAR PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE FOUNDATION OR
  26:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  27:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  28:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  29:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  30:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  31:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  32:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 2


  33:STM32F10x_Speex_Lib/libspeex/math_approx.h **** */
  34:STM32F10x_Speex_Lib/libspeex/math_approx.h **** 
  35:STM32F10x_Speex_Lib/libspeex/math_approx.h **** #ifndef MATH_APPROX_H
  36:STM32F10x_Speex_Lib/libspeex/math_approx.h **** #define MATH_APPROX_H
  37:STM32F10x_Speex_Lib/libspeex/math_approx.h **** 
  38:STM32F10x_Speex_Lib/libspeex/math_approx.h **** #include "arch.h"
  39:STM32F10x_Speex_Lib/libspeex/math_approx.h **** 
  40:STM32F10x_Speex_Lib/libspeex/math_approx.h **** #ifndef FIXED_POINT
  41:STM32F10x_Speex_Lib/libspeex/math_approx.h **** 
  42:STM32F10x_Speex_Lib/libspeex/math_approx.h **** #define spx_sqrt sqrt
  43:STM32F10x_Speex_Lib/libspeex/math_approx.h **** #define spx_acos acos
  44:STM32F10x_Speex_Lib/libspeex/math_approx.h **** #define spx_exp exp
  45:STM32F10x_Speex_Lib/libspeex/math_approx.h **** #define spx_cos_norm(x) (cos((.5f*M_PI)*(x)))
  46:STM32F10x_Speex_Lib/libspeex/math_approx.h **** #define spx_atan atan
  47:STM32F10x_Speex_Lib/libspeex/math_approx.h **** 
  48:STM32F10x_Speex_Lib/libspeex/math_approx.h **** /** Generate a pseudo-random number */
  49:STM32F10x_Speex_Lib/libspeex/math_approx.h **** static inline spx_word16_t speex_rand(spx_word16_t std, spx_int32_t *seed)
  50:STM32F10x_Speex_Lib/libspeex/math_approx.h **** {
  51:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    const unsigned int jflone = 0x3f800000;
  52:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    const unsigned int jflmsk = 0x007fffff;
  53:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    union {int i; float f;} ran;
  54:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    *seed = 1664525 * *seed + 1013904223;
  55:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    ran.i = jflone | (jflmsk & *seed);
  56:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    ran.f -= 1.5;
  57:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    return 3.4642*std*ran.f;
  58:STM32F10x_Speex_Lib/libspeex/math_approx.h **** }
  59:STM32F10x_Speex_Lib/libspeex/math_approx.h **** 
  60:STM32F10x_Speex_Lib/libspeex/math_approx.h **** 
  61:STM32F10x_Speex_Lib/libspeex/math_approx.h **** #endif
  62:STM32F10x_Speex_Lib/libspeex/math_approx.h **** 
  63:STM32F10x_Speex_Lib/libspeex/math_approx.h **** 
  64:STM32F10x_Speex_Lib/libspeex/math_approx.h **** static inline spx_int16_t spx_ilog2(spx_uint32_t x)
  65:STM32F10x_Speex_Lib/libspeex/math_approx.h **** {
  27              		.loc 1 65 0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 16
  30              		@ frame_needed = 1, uses_anonymous_args = 0
  31              		@ link register save eliminated.
  32 0000 80B4     		push	{r7}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 4
  35              		.cfi_offset 7, -4
  36 0002 85B0     		sub	sp, sp, #20
  37              	.LCFI1:
  38              		.cfi_def_cfa_offset 24
  39 0004 00AF     		add	r7, sp, #0
  40              	.LCFI2:
  41              		.cfi_def_cfa_register 7
  42 0006 7860     		str	r0, [r7, #4]
  66:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    int r=0;
  43              		.loc 1 66 0
  44 0008 0023     		movs	r3, #0
  45 000a FB60     		str	r3, [r7, #12]
  67:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    if (x>=(spx_int32_t)65536)
  46              		.loc 1 67 0
  47 000c 7B68     		ldr	r3, [r7, #4]
  48 000e B3F5803F 		cmp	r3, #65536
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 3


  49 0012 05D3     		bcc	.L2
  68:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    {
  69:STM32F10x_Speex_Lib/libspeex/math_approx.h ****       x >>= 16;
  50              		.loc 1 69 0
  51 0014 7B68     		ldr	r3, [r7, #4]
  52 0016 1B0C     		lsrs	r3, r3, #16
  53 0018 7B60     		str	r3, [r7, #4]
  70:STM32F10x_Speex_Lib/libspeex/math_approx.h ****       r += 16;
  54              		.loc 1 70 0
  55 001a FB68     		ldr	r3, [r7, #12]
  56 001c 1033     		adds	r3, r3, #16
  57 001e FB60     		str	r3, [r7, #12]
  58              	.L2:
  71:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    }
  72:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    if (x>=256)
  59              		.loc 1 72 0
  60 0020 7B68     		ldr	r3, [r7, #4]
  61 0022 FF2B     		cmp	r3, #255
  62 0024 05D9     		bls	.L3
  73:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    {
  74:STM32F10x_Speex_Lib/libspeex/math_approx.h ****       x >>= 8;
  63              		.loc 1 74 0
  64 0026 7B68     		ldr	r3, [r7, #4]
  65 0028 1B0A     		lsrs	r3, r3, #8
  66 002a 7B60     		str	r3, [r7, #4]
  75:STM32F10x_Speex_Lib/libspeex/math_approx.h ****       r += 8;
  67              		.loc 1 75 0
  68 002c FB68     		ldr	r3, [r7, #12]
  69 002e 0833     		adds	r3, r3, #8
  70 0030 FB60     		str	r3, [r7, #12]
  71              	.L3:
  76:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    }
  77:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    if (x>=16)
  72              		.loc 1 77 0
  73 0032 7B68     		ldr	r3, [r7, #4]
  74 0034 0F2B     		cmp	r3, #15
  75 0036 05D9     		bls	.L4
  78:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    {
  79:STM32F10x_Speex_Lib/libspeex/math_approx.h ****       x >>= 4;
  76              		.loc 1 79 0
  77 0038 7B68     		ldr	r3, [r7, #4]
  78 003a 1B09     		lsrs	r3, r3, #4
  79 003c 7B60     		str	r3, [r7, #4]
  80:STM32F10x_Speex_Lib/libspeex/math_approx.h ****       r += 4;
  80              		.loc 1 80 0
  81 003e FB68     		ldr	r3, [r7, #12]
  82 0040 0433     		adds	r3, r3, #4
  83 0042 FB60     		str	r3, [r7, #12]
  84              	.L4:
  81:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    }
  82:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    if (x>=4)
  85              		.loc 1 82 0
  86 0044 7B68     		ldr	r3, [r7, #4]
  87 0046 032B     		cmp	r3, #3
  88 0048 05D9     		bls	.L5
  83:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    {
  84:STM32F10x_Speex_Lib/libspeex/math_approx.h ****       x >>= 2;
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 4


  89              		.loc 1 84 0
  90 004a 7B68     		ldr	r3, [r7, #4]
  91 004c 9B08     		lsrs	r3, r3, #2
  92 004e 7B60     		str	r3, [r7, #4]
  85:STM32F10x_Speex_Lib/libspeex/math_approx.h ****       r += 2;
  93              		.loc 1 85 0
  94 0050 FB68     		ldr	r3, [r7, #12]
  95 0052 0233     		adds	r3, r3, #2
  96 0054 FB60     		str	r3, [r7, #12]
  97              	.L5:
  86:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    }
  87:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    if (x>=2)
  98              		.loc 1 87 0
  99 0056 7B68     		ldr	r3, [r7, #4]
 100 0058 012B     		cmp	r3, #1
 101 005a 02D9     		bls	.L6
  88:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    {
  89:STM32F10x_Speex_Lib/libspeex/math_approx.h ****       r += 1;
 102              		.loc 1 89 0
 103 005c FB68     		ldr	r3, [r7, #12]
 104 005e 0133     		adds	r3, r3, #1
 105 0060 FB60     		str	r3, [r7, #12]
 106              	.L6:
  90:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    }
  91:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    return r;
 107              		.loc 1 91 0
 108 0062 FB68     		ldr	r3, [r7, #12]
 109 0064 1BB2     		sxth	r3, r3
  92:STM32F10x_Speex_Lib/libspeex/math_approx.h **** }
 110              		.loc 1 92 0
 111 0066 1846     		mov	r0, r3
 112 0068 1437     		adds	r7, r7, #20
 113              	.LCFI3:
 114              		.cfi_def_cfa_offset 4
 115 006a BD46     		mov	sp, r7
 116              	.LCFI4:
 117              		.cfi_def_cfa_register 13
 118              		@ sp needed
 119 006c 80BC     		pop	{r7}
 120              	.LCFI5:
 121              		.cfi_restore 7
 122              		.cfi_def_cfa_offset 0
 123 006e 7047     		bx	lr
 124              		.cfi_endproc
 125              	.LFE0:
 127              		.section	.text.spx_ilog4,"ax",%progbits
 128              		.align	2
 129              		.thumb
 130              		.thumb_func
 132              	spx_ilog4:
 133              	.LFB1:
  93:STM32F10x_Speex_Lib/libspeex/math_approx.h **** 
  94:STM32F10x_Speex_Lib/libspeex/math_approx.h **** static inline spx_int16_t spx_ilog4(spx_uint32_t x)
  95:STM32F10x_Speex_Lib/libspeex/math_approx.h **** {
 134              		.loc 1 95 0
 135              		.cfi_startproc
 136              		@ args = 0, pretend = 0, frame = 16
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 5


 137              		@ frame_needed = 1, uses_anonymous_args = 0
 138              		@ link register save eliminated.
 139 0000 80B4     		push	{r7}
 140              	.LCFI6:
 141              		.cfi_def_cfa_offset 4
 142              		.cfi_offset 7, -4
 143 0002 85B0     		sub	sp, sp, #20
 144              	.LCFI7:
 145              		.cfi_def_cfa_offset 24
 146 0004 00AF     		add	r7, sp, #0
 147              	.LCFI8:
 148              		.cfi_def_cfa_register 7
 149 0006 7860     		str	r0, [r7, #4]
  96:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    int r=0;
 150              		.loc 1 96 0
 151 0008 0023     		movs	r3, #0
 152 000a FB60     		str	r3, [r7, #12]
  97:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    if (x>=(spx_int32_t)65536)
 153              		.loc 1 97 0
 154 000c 7B68     		ldr	r3, [r7, #4]
 155 000e B3F5803F 		cmp	r3, #65536
 156 0012 05D3     		bcc	.L9
  98:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    {
  99:STM32F10x_Speex_Lib/libspeex/math_approx.h ****       x >>= 16;
 157              		.loc 1 99 0
 158 0014 7B68     		ldr	r3, [r7, #4]
 159 0016 1B0C     		lsrs	r3, r3, #16
 160 0018 7B60     		str	r3, [r7, #4]
 100:STM32F10x_Speex_Lib/libspeex/math_approx.h ****       r += 8;
 161              		.loc 1 100 0
 162 001a FB68     		ldr	r3, [r7, #12]
 163 001c 0833     		adds	r3, r3, #8
 164 001e FB60     		str	r3, [r7, #12]
 165              	.L9:
 101:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    }
 102:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    if (x>=256)
 166              		.loc 1 102 0
 167 0020 7B68     		ldr	r3, [r7, #4]
 168 0022 FF2B     		cmp	r3, #255
 169 0024 05D9     		bls	.L10
 103:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    {
 104:STM32F10x_Speex_Lib/libspeex/math_approx.h ****       x >>= 8;
 170              		.loc 1 104 0
 171 0026 7B68     		ldr	r3, [r7, #4]
 172 0028 1B0A     		lsrs	r3, r3, #8
 173 002a 7B60     		str	r3, [r7, #4]
 105:STM32F10x_Speex_Lib/libspeex/math_approx.h ****       r += 4;
 174              		.loc 1 105 0
 175 002c FB68     		ldr	r3, [r7, #12]
 176 002e 0433     		adds	r3, r3, #4
 177 0030 FB60     		str	r3, [r7, #12]
 178              	.L10:
 106:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    }
 107:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    if (x>=16)
 179              		.loc 1 107 0
 180 0032 7B68     		ldr	r3, [r7, #4]
 181 0034 0F2B     		cmp	r3, #15
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 6


 182 0036 05D9     		bls	.L11
 108:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    {
 109:STM32F10x_Speex_Lib/libspeex/math_approx.h ****       x >>= 4;
 183              		.loc 1 109 0
 184 0038 7B68     		ldr	r3, [r7, #4]
 185 003a 1B09     		lsrs	r3, r3, #4
 186 003c 7B60     		str	r3, [r7, #4]
 110:STM32F10x_Speex_Lib/libspeex/math_approx.h ****       r += 2;
 187              		.loc 1 110 0
 188 003e FB68     		ldr	r3, [r7, #12]
 189 0040 0233     		adds	r3, r3, #2
 190 0042 FB60     		str	r3, [r7, #12]
 191              	.L11:
 111:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    }
 112:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    if (x>=4)
 192              		.loc 1 112 0
 193 0044 7B68     		ldr	r3, [r7, #4]
 194 0046 032B     		cmp	r3, #3
 195 0048 02D9     		bls	.L12
 113:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    {
 114:STM32F10x_Speex_Lib/libspeex/math_approx.h ****       r += 1;
 196              		.loc 1 114 0
 197 004a FB68     		ldr	r3, [r7, #12]
 198 004c 0133     		adds	r3, r3, #1
 199 004e FB60     		str	r3, [r7, #12]
 200              	.L12:
 115:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    }
 116:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    return r;
 201              		.loc 1 116 0
 202 0050 FB68     		ldr	r3, [r7, #12]
 203 0052 1BB2     		sxth	r3, r3
 117:STM32F10x_Speex_Lib/libspeex/math_approx.h **** }
 204              		.loc 1 117 0
 205 0054 1846     		mov	r0, r3
 206 0056 1437     		adds	r7, r7, #20
 207              	.LCFI9:
 208              		.cfi_def_cfa_offset 4
 209 0058 BD46     		mov	sp, r7
 210              	.LCFI10:
 211              		.cfi_def_cfa_register 13
 212              		@ sp needed
 213 005a 80BC     		pop	{r7}
 214              	.LCFI11:
 215              		.cfi_restore 7
 216              		.cfi_def_cfa_offset 0
 217 005c 7047     		bx	lr
 218              		.cfi_endproc
 219              	.LFE1:
 221 005e 00BF     		.section	.text.spx_sqrt,"ax",%progbits
 222              		.align	2
 223              		.thumb
 224              		.thumb_func
 226              	spx_sqrt:
 227              	.LFB3:
 118:STM32F10x_Speex_Lib/libspeex/math_approx.h **** 
 119:STM32F10x_Speex_Lib/libspeex/math_approx.h **** #ifdef FIXED_POINT
 120:STM32F10x_Speex_Lib/libspeex/math_approx.h **** 
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 7


 121:STM32F10x_Speex_Lib/libspeex/math_approx.h **** /** Generate a pseudo-random number */
 122:STM32F10x_Speex_Lib/libspeex/math_approx.h **** static inline spx_word16_t speex_rand(spx_word16_t std, spx_int32_t *seed)
 123:STM32F10x_Speex_Lib/libspeex/math_approx.h **** {
 124:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    spx_word32_t res;
 125:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    *seed = 1664525 * *seed + 1013904223;
 126:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    res = MULT16_16(EXTRACT16(SHR32(*seed,16)),std);
 127:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    return EXTRACT16(PSHR32(SUB32(res, SHR32(res, 3)),14));
 128:STM32F10x_Speex_Lib/libspeex/math_approx.h **** }
 129:STM32F10x_Speex_Lib/libspeex/math_approx.h **** 
 130:STM32F10x_Speex_Lib/libspeex/math_approx.h **** /* sqrt(x) ~= 0.22178 + 1.29227*x - 0.77070*x^2 + 0.25723*x^3 (for .25 < x < 1) */
 131:STM32F10x_Speex_Lib/libspeex/math_approx.h **** /*#define C0 3634
 132:STM32F10x_Speex_Lib/libspeex/math_approx.h **** #define C1 21173
 133:STM32F10x_Speex_Lib/libspeex/math_approx.h **** #define C2 -12627
 134:STM32F10x_Speex_Lib/libspeex/math_approx.h **** #define C3 4215*/
 135:STM32F10x_Speex_Lib/libspeex/math_approx.h **** 
 136:STM32F10x_Speex_Lib/libspeex/math_approx.h **** /* sqrt(x) ~= 0.22178 + 1.29227*x - 0.77070*x^2 + 0.25659*x^3 (for .25 < x < 1) */
 137:STM32F10x_Speex_Lib/libspeex/math_approx.h **** #define C0 3634
 138:STM32F10x_Speex_Lib/libspeex/math_approx.h **** #define C1 21173
 139:STM32F10x_Speex_Lib/libspeex/math_approx.h **** #define C2 -12627
 140:STM32F10x_Speex_Lib/libspeex/math_approx.h **** #define C3 4204
 141:STM32F10x_Speex_Lib/libspeex/math_approx.h **** 
 142:STM32F10x_Speex_Lib/libspeex/math_approx.h **** static inline spx_word16_t spx_sqrt(spx_word32_t x)
 143:STM32F10x_Speex_Lib/libspeex/math_approx.h **** {
 228              		.loc 1 143 0
 229              		.cfi_startproc
 230              		@ args = 0, pretend = 0, frame = 16
 231              		@ frame_needed = 1, uses_anonymous_args = 0
 232 0000 80B5     		push	{r7, lr}
 233              	.LCFI12:
 234              		.cfi_def_cfa_offset 8
 235              		.cfi_offset 7, -8
 236              		.cfi_offset 14, -4
 237 0002 84B0     		sub	sp, sp, #16
 238              	.LCFI13:
 239              		.cfi_def_cfa_offset 24
 240 0004 00AF     		add	r7, sp, #0
 241              	.LCFI14:
 242              		.cfi_def_cfa_register 7
 243 0006 7860     		str	r0, [r7, #4]
 144:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    int k;
 145:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    spx_word32_t rt;
 146:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    k = spx_ilog4(x)-6;
 244              		.loc 1 146 0
 245 0008 7B68     		ldr	r3, [r7, #4]
 246 000a 1846     		mov	r0, r3
 247 000c FFF7FEFF 		bl	spx_ilog4
 248 0010 0346     		mov	r3, r0
 249 0012 063B     		subs	r3, r3, #6
 250 0014 FB60     		str	r3, [r7, #12]
 147:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    x = VSHR32(x, (k<<1));
 251              		.loc 1 147 0
 252 0016 FB68     		ldr	r3, [r7, #12]
 253 0018 5B00     		lsls	r3, r3, #1
 254 001a 002B     		cmp	r3, #0
 255 001c 05DD     		ble	.L15
 256              		.loc 1 147 0 is_stmt 0 discriminator 1
 257 001e FB68     		ldr	r3, [r7, #12]
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 8


 258 0020 5B00     		lsls	r3, r3, #1
 259 0022 7A68     		ldr	r2, [r7, #4]
 260 0024 42FA03F3 		asr	r3, r2, r3
 261 0028 05E0     		b	.L16
 262              	.L15:
 263              		.loc 1 147 0 discriminator 2
 264 002a FB68     		ldr	r3, [r7, #12]
 265 002c 5B00     		lsls	r3, r3, #1
 266 002e 5B42     		negs	r3, r3
 267 0030 7A68     		ldr	r2, [r7, #4]
 268 0032 02FA03F3 		lsl	r3, r2, r3
 269              	.L16:
 270              		.loc 1 147 0 discriminator 4
 271 0036 7B60     		str	r3, [r7, #4]
 148:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    rt = ADD16(C0, MULT16_16_Q14(x, ADD16(C1, MULT16_16_Q14(x, ADD16(C2, MULT16_16_Q14(x, (C3)))))))
 272              		.loc 1 148 0 is_stmt 1 discriminator 4
 273 0038 7B68     		ldr	r3, [r7, #4]
 274 003a 1BB2     		sxth	r3, r3
 275 003c 1A46     		mov	r2, r3
 276 003e 7B68     		ldr	r3, [r7, #4]
 277 0040 1BB2     		sxth	r3, r3
 278 0042 1946     		mov	r1, r3
 279 0044 7B68     		ldr	r3, [r7, #4]
 280 0046 1BB2     		sxth	r3, r3
 281 0048 1846     		mov	r0, r3
 282 004a 41F26C03 		movw	r3, #4204
 283 004e 03FB00F3 		mul	r3, r3, r0
 284 0052 9B13     		asrs	r3, r3, #14
 285 0054 9BB2     		uxth	r3, r3
 286 0056 A3F54553 		sub	r3, r3, #12608
 287 005a 133B     		subs	r3, r3, #19
 288 005c 9BB2     		uxth	r3, r3
 289 005e 1BB2     		sxth	r3, r3
 290 0060 03FB01F3 		mul	r3, r3, r1
 291 0064 9B13     		asrs	r3, r3, #14
 292 0066 9BB2     		uxth	r3, r3
 293 0068 03F5A543 		add	r3, r3, #21120
 294 006c 3533     		adds	r3, r3, #53
 295 006e 9BB2     		uxth	r3, r3
 296 0070 1BB2     		sxth	r3, r3
 297 0072 03FB02F3 		mul	r3, r3, r2
 298 0076 9B13     		asrs	r3, r3, #14
 299 0078 9BB2     		uxth	r3, r3
 300 007a 03F63263 		addw	r3, r3, #3634
 301 007e 9BB2     		uxth	r3, r3
 302 0080 1BB2     		sxth	r3, r3
 303 0082 BB60     		str	r3, [r7, #8]
 149:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    rt = VSHR32(rt,7-k);
 304              		.loc 1 149 0 discriminator 4
 305 0084 FB68     		ldr	r3, [r7, #12]
 306 0086 C3F10703 		rsb	r3, r3, #7
 307 008a 002B     		cmp	r3, #0
 308 008c 06DD     		ble	.L17
 309              		.loc 1 149 0 is_stmt 0 discriminator 1
 310 008e FB68     		ldr	r3, [r7, #12]
 311 0090 C3F10703 		rsb	r3, r3, #7
 312 0094 BA68     		ldr	r2, [r7, #8]
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 9


 313 0096 42FA03F3 		asr	r3, r2, r3
 314 009a 04E0     		b	.L18
 315              	.L17:
 316              		.loc 1 149 0 discriminator 2
 317 009c FB68     		ldr	r3, [r7, #12]
 318 009e 073B     		subs	r3, r3, #7
 319 00a0 BA68     		ldr	r2, [r7, #8]
 320 00a2 02FA03F3 		lsl	r3, r2, r3
 321              	.L18:
 322              		.loc 1 149 0 discriminator 4
 323 00a6 BB60     		str	r3, [r7, #8]
 150:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    return rt;
 324              		.loc 1 150 0 is_stmt 1 discriminator 4
 325 00a8 BB68     		ldr	r3, [r7, #8]
 326 00aa 1BB2     		sxth	r3, r3
 151:STM32F10x_Speex_Lib/libspeex/math_approx.h **** }
 327              		.loc 1 151 0 discriminator 4
 328 00ac 1846     		mov	r0, r3
 329 00ae 1037     		adds	r7, r7, #16
 330              	.LCFI15:
 331              		.cfi_def_cfa_offset 8
 332 00b0 BD46     		mov	sp, r7
 333              	.LCFI16:
 334              		.cfi_def_cfa_register 13
 335              		@ sp needed
 336 00b2 80BD     		pop	{r7, pc}
 337              		.cfi_endproc
 338              	.LFE3:
 340              		.section	.text._spx_cos_pi_2,"ax",%progbits
 341              		.align	2
 342              		.thumb
 343              		.thumb_func
 345              	_spx_cos_pi_2:
 346              	.LFB6:
 152:STM32F10x_Speex_Lib/libspeex/math_approx.h **** 
 153:STM32F10x_Speex_Lib/libspeex/math_approx.h **** /* log(x) ~= -2.18151 + 4.20592*x - 2.88938*x^2 + 0.86535*x^3 (for .5 < x < 1) */
 154:STM32F10x_Speex_Lib/libspeex/math_approx.h **** 
 155:STM32F10x_Speex_Lib/libspeex/math_approx.h **** 
 156:STM32F10x_Speex_Lib/libspeex/math_approx.h **** #define A1 16469
 157:STM32F10x_Speex_Lib/libspeex/math_approx.h **** #define A2 2242
 158:STM32F10x_Speex_Lib/libspeex/math_approx.h **** #define A3 1486
 159:STM32F10x_Speex_Lib/libspeex/math_approx.h **** 
 160:STM32F10x_Speex_Lib/libspeex/math_approx.h **** static inline spx_word16_t spx_acos(spx_word16_t x)
 161:STM32F10x_Speex_Lib/libspeex/math_approx.h **** {
 162:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    int s=0;
 163:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    spx_word16_t ret;
 164:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    spx_word16_t sq;
 165:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    if (x<0)
 166:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    {
 167:STM32F10x_Speex_Lib/libspeex/math_approx.h ****       s=1;
 168:STM32F10x_Speex_Lib/libspeex/math_approx.h ****       x = NEG16(x);
 169:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    }
 170:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    x = SUB16(16384,x);
 171:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    
 172:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    x = x >> 1;
 173:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    sq = MULT16_16_Q13(x, ADD16(A1, MULT16_16_Q13(x, ADD16(A2, MULT16_16_Q13(x, (A3))))));
 174:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    ret = spx_sqrt(SHL32(EXTEND32(sq),13));
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 10


 175:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    
 176:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    /*ret = spx_sqrt(67108864*(-1.6129e-04 + 2.0104e+00*f + 2.7373e-01*f*f + 1.8136e-01*f*f*f));*/
 177:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    if (s)
 178:STM32F10x_Speex_Lib/libspeex/math_approx.h ****       ret = SUB16(25736,ret);
 179:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    return ret;
 180:STM32F10x_Speex_Lib/libspeex/math_approx.h **** }
 181:STM32F10x_Speex_Lib/libspeex/math_approx.h **** 
 182:STM32F10x_Speex_Lib/libspeex/math_approx.h **** 
 183:STM32F10x_Speex_Lib/libspeex/math_approx.h **** #define K1 8192
 184:STM32F10x_Speex_Lib/libspeex/math_approx.h **** #define K2 -4096
 185:STM32F10x_Speex_Lib/libspeex/math_approx.h **** #define K3 340
 186:STM32F10x_Speex_Lib/libspeex/math_approx.h **** #define K4 -10
 187:STM32F10x_Speex_Lib/libspeex/math_approx.h **** 
 188:STM32F10x_Speex_Lib/libspeex/math_approx.h **** static inline spx_word16_t spx_cos(spx_word16_t x)
 189:STM32F10x_Speex_Lib/libspeex/math_approx.h **** {
 190:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    spx_word16_t x2;
 191:STM32F10x_Speex_Lib/libspeex/math_approx.h **** 
 192:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    if (x<12868)
 193:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    {
 194:STM32F10x_Speex_Lib/libspeex/math_approx.h ****       x2 = MULT16_16_P13(x,x);
 195:STM32F10x_Speex_Lib/libspeex/math_approx.h ****       return ADD32(K1, MULT16_16_P13(x2, ADD32(K2, MULT16_16_P13(x2, ADD32(K3, MULT16_16_P13(K4, x2
 196:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    } else {
 197:STM32F10x_Speex_Lib/libspeex/math_approx.h ****       x = SUB16(25736,x);
 198:STM32F10x_Speex_Lib/libspeex/math_approx.h ****       x2 = MULT16_16_P13(x,x);
 199:STM32F10x_Speex_Lib/libspeex/math_approx.h ****       return SUB32(-K1, MULT16_16_P13(x2, ADD32(K2, MULT16_16_P13(x2, ADD32(K3, MULT16_16_P13(K4, x
 200:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    }
 201:STM32F10x_Speex_Lib/libspeex/math_approx.h **** }
 202:STM32F10x_Speex_Lib/libspeex/math_approx.h **** 
 203:STM32F10x_Speex_Lib/libspeex/math_approx.h **** #define L1 32767
 204:STM32F10x_Speex_Lib/libspeex/math_approx.h **** #define L2 -7651
 205:STM32F10x_Speex_Lib/libspeex/math_approx.h **** #define L3 8277
 206:STM32F10x_Speex_Lib/libspeex/math_approx.h **** #define L4 -626
 207:STM32F10x_Speex_Lib/libspeex/math_approx.h **** 
 208:STM32F10x_Speex_Lib/libspeex/math_approx.h **** static inline spx_word16_t _spx_cos_pi_2(spx_word16_t x)
 209:STM32F10x_Speex_Lib/libspeex/math_approx.h **** {
 347              		.loc 1 209 0
 348              		.cfi_startproc
 349              		@ args = 0, pretend = 0, frame = 16
 350              		@ frame_needed = 1, uses_anonymous_args = 0
 351              		@ link register save eliminated.
 352 0000 90B4     		push	{r4, r7}
 353              	.LCFI17:
 354              		.cfi_def_cfa_offset 8
 355              		.cfi_offset 4, -8
 356              		.cfi_offset 7, -4
 357 0002 84B0     		sub	sp, sp, #16
 358              	.LCFI18:
 359              		.cfi_def_cfa_offset 24
 360 0004 00AF     		add	r7, sp, #0
 361              	.LCFI19:
 362              		.cfi_def_cfa_register 7
 363 0006 0346     		mov	r3, r0
 364 0008 FB80     		strh	r3, [r7, #6]	@ movhi
 210:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    spx_word16_t x2;
 211:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    
 212:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    x2 = MULT16_16_P15(x,x);
 365              		.loc 1 212 0
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 11


 366 000a B7F90630 		ldrsh	r3, [r7, #6]
 367 000e B7F90620 		ldrsh	r2, [r7, #6]
 368 0012 02FB03F3 		mul	r3, r2, r3
 369 0016 03F58043 		add	r3, r3, #16384
 370 001a DB13     		asrs	r3, r3, #15
 371 001c FB81     		strh	r3, [r7, #14]	@ movhi
 213:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    return ADD16(1,MIN16(32766,ADD32(SUB16(L1,x2), MULT16_16_P15(x2, ADD32(L2, MULT16_16_P15(x2, ADD
 372              		.loc 1 213 0
 373 001e B7F90E30 		ldrsh	r3, [r7, #14]
 374 0022 C3F5FF43 		rsb	r3, r3, #32640
 375 0026 7F33     		adds	r3, r3, #127
 376 0028 B7F90E10 		ldrsh	r1, [r7, #14]
 377 002c B7F90E00 		ldrsh	r0, [r7, #14]
 378 0030 B7F90E20 		ldrsh	r2, [r7, #14]
 379 0034 294C     		ldr	r4, .L24
 380 0036 04FB02F2 		mul	r2, r4, r2
 381 003a 02F58042 		add	r2, r2, #16384
 382 003e D213     		asrs	r2, r2, #15
 383 0040 92B2     		uxth	r2, r2
 384 0042 02F50152 		add	r2, r2, #8256
 385 0046 1532     		adds	r2, r2, #21
 386 0048 92B2     		uxth	r2, r2
 387 004a 12B2     		sxth	r2, r2
 388 004c 02FB00F2 		mul	r2, r2, r0
 389 0050 02F58042 		add	r2, r2, #16384
 390 0054 D213     		asrs	r2, r2, #15
 391 0056 92B2     		uxth	r2, r2
 392 0058 A2F5EF52 		sub	r2, r2, #7648
 393 005c 033A     		subs	r2, r2, #3
 394 005e 92B2     		uxth	r2, r2
 395 0060 12B2     		sxth	r2, r2
 396 0062 02FB01F2 		mul	r2, r2, r1
 397 0066 02F58042 		add	r2, r2, #16384
 398 006a D213     		asrs	r2, r2, #15
 399 006c 1344     		add	r3, r3, r2
 400 006e 47F6FE72 		movw	r2, #32766
 401 0072 9342     		cmp	r3, r2
 402 0074 2ADC     		bgt	.L21
 403              		.loc 1 213 0 is_stmt 0 discriminator 1
 404 0076 B7F90E20 		ldrsh	r2, [r7, #14]
 405 007a B7F90E10 		ldrsh	r1, [r7, #14]
 406 007e B7F90E30 		ldrsh	r3, [r7, #14]
 407 0082 1648     		ldr	r0, .L24
 408 0084 00FB03F3 		mul	r3, r0, r3
 409 0088 03F58043 		add	r3, r3, #16384
 410 008c DB13     		asrs	r3, r3, #15
 411 008e 9BB2     		uxth	r3, r3
 412 0090 03F50153 		add	r3, r3, #8256
 413 0094 1533     		adds	r3, r3, #21
 414 0096 9BB2     		uxth	r3, r3
 415 0098 1BB2     		sxth	r3, r3
 416 009a 03FB01F3 		mul	r3, r3, r1
 417 009e 03F58043 		add	r3, r3, #16384
 418 00a2 DB13     		asrs	r3, r3, #15
 419 00a4 9BB2     		uxth	r3, r3
 420 00a6 A3F5EF53 		sub	r3, r3, #7648
 421 00aa 033B     		subs	r3, r3, #3
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 12


 422 00ac 9BB2     		uxth	r3, r3
 423 00ae 1BB2     		sxth	r3, r3
 424 00b0 03FB02F3 		mul	r3, r3, r2
 425 00b4 03F58043 		add	r3, r3, #16384
 426 00b8 DB13     		asrs	r3, r3, #15
 427 00ba 9AB2     		uxth	r2, r3
 428 00bc FB89     		ldrh	r3, [r7, #14]
 429 00be D31A     		subs	r3, r2, r3
 430 00c0 9BB2     		uxth	r3, r3
 431 00c2 A3F50043 		sub	r3, r3, #32768
 432 00c6 9BB2     		uxth	r3, r3
 433 00c8 1BB2     		sxth	r3, r3
 434 00ca 01E0     		b	.L22
 435              	.L21:
 436              		.loc 1 213 0 discriminator 2
 437 00cc 47F6FF73 		movw	r3, #32767
 438              	.L22:
 214:STM32F10x_Speex_Lib/libspeex/math_approx.h **** }
 439              		.loc 1 214 0 is_stmt 1 discriminator 4
 440 00d0 1846     		mov	r0, r3
 441 00d2 1037     		adds	r7, r7, #16
 442              	.LCFI20:
 443              		.cfi_def_cfa_offset 8
 444 00d4 BD46     		mov	sp, r7
 445              	.LCFI21:
 446              		.cfi_def_cfa_register 13
 447              		@ sp needed
 448 00d6 90BC     		pop	{r4, r7}
 449              	.LCFI22:
 450              		.cfi_restore 7
 451              		.cfi_restore 4
 452              		.cfi_def_cfa_offset 0
 453 00d8 7047     		bx	lr
 454              	.L25:
 455 00da 00BF     		.align	2
 456              	.L24:
 457 00dc 8EFDFFFF 		.word	-626
 458              		.cfi_endproc
 459              	.LFE6:
 461              		.section	.text.spx_cos_norm,"ax",%progbits
 462              		.align	2
 463              		.thumb
 464              		.thumb_func
 466              	spx_cos_norm:
 467              	.LFB7:
 215:STM32F10x_Speex_Lib/libspeex/math_approx.h **** 
 216:STM32F10x_Speex_Lib/libspeex/math_approx.h **** static inline spx_word16_t spx_cos_norm(spx_word32_t x)
 217:STM32F10x_Speex_Lib/libspeex/math_approx.h **** {
 468              		.loc 1 217 0
 469              		.cfi_startproc
 470              		@ args = 0, pretend = 0, frame = 8
 471              		@ frame_needed = 1, uses_anonymous_args = 0
 472 0000 80B5     		push	{r7, lr}
 473              	.LCFI23:
 474              		.cfi_def_cfa_offset 8
 475              		.cfi_offset 7, -8
 476              		.cfi_offset 14, -4
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 13


 477 0002 82B0     		sub	sp, sp, #8
 478              	.LCFI24:
 479              		.cfi_def_cfa_offset 16
 480 0004 00AF     		add	r7, sp, #0
 481              	.LCFI25:
 482              		.cfi_def_cfa_register 7
 483 0006 7860     		str	r0, [r7, #4]
 218:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    x = x&0x0001ffff;
 484              		.loc 1 218 0
 485 0008 7B68     		ldr	r3, [r7, #4]
 486 000a C3F31003 		ubfx	r3, r3, #0, #17
 487 000e 7B60     		str	r3, [r7, #4]
 219:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    if (x>SHL32(EXTEND32(1), 16))
 488              		.loc 1 219 0
 489 0010 7B68     		ldr	r3, [r7, #4]
 490 0012 B3F5803F 		cmp	r3, #65536
 491 0016 03DD     		ble	.L27
 220:STM32F10x_Speex_Lib/libspeex/math_approx.h ****       x = SUB32(SHL32(EXTEND32(1), 17),x);
 492              		.loc 1 220 0
 493 0018 7B68     		ldr	r3, [r7, #4]
 494 001a C3F50033 		rsb	r3, r3, #131072
 495 001e 7B60     		str	r3, [r7, #4]
 496              	.L27:
 221:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    if (x&0x00007fff)
 497              		.loc 1 221 0
 498 0020 7B68     		ldr	r3, [r7, #4]
 499 0022 C3F30E03 		ubfx	r3, r3, #0, #15
 500 0026 002B     		cmp	r3, #0
 501 0028 18D0     		beq	.L28
 222:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    {
 223:STM32F10x_Speex_Lib/libspeex/math_approx.h ****       if (x<SHL32(EXTEND32(1), 15))
 502              		.loc 1 223 0
 503 002a 7B68     		ldr	r3, [r7, #4]
 504 002c B3F5004F 		cmp	r3, #32768
 505 0030 06DA     		bge	.L29
 224:STM32F10x_Speex_Lib/libspeex/math_approx.h ****       {
 225:STM32F10x_Speex_Lib/libspeex/math_approx.h ****          return _spx_cos_pi_2(EXTRACT16(x));
 506              		.loc 1 225 0
 507 0032 7B68     		ldr	r3, [r7, #4]
 508 0034 1BB2     		sxth	r3, r3
 509 0036 1846     		mov	r0, r3
 510 0038 FFF7FEFF 		bl	_spx_cos_pi_2
 511 003c 0346     		mov	r3, r0
 512 003e 1CE0     		b	.L30
 513              	.L29:
 226:STM32F10x_Speex_Lib/libspeex/math_approx.h ****       } else {
 227:STM32F10x_Speex_Lib/libspeex/math_approx.h ****          return NEG32(_spx_cos_pi_2(EXTRACT16(65536-x)));
 514              		.loc 1 227 0
 515 0040 7B68     		ldr	r3, [r7, #4]
 516 0042 9BB2     		uxth	r3, r3
 517 0044 5B42     		negs	r3, r3
 518 0046 9BB2     		uxth	r3, r3
 519 0048 1BB2     		sxth	r3, r3
 520 004a 1846     		mov	r0, r3
 521 004c FFF7FEFF 		bl	_spx_cos_pi_2
 522 0050 0346     		mov	r3, r0
 523 0052 9BB2     		uxth	r3, r3
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 14


 524 0054 5B42     		negs	r3, r3
 525 0056 9BB2     		uxth	r3, r3
 526 0058 1BB2     		sxth	r3, r3
 527 005a 0EE0     		b	.L30
 528              	.L28:
 228:STM32F10x_Speex_Lib/libspeex/math_approx.h ****       }
 229:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    } else {
 230:STM32F10x_Speex_Lib/libspeex/math_approx.h ****       if (x&0x0000ffff)
 529              		.loc 1 230 0
 530 005c 7B68     		ldr	r3, [r7, #4]
 531 005e 9BB2     		uxth	r3, r3
 532 0060 002B     		cmp	r3, #0
 533 0062 01D0     		beq	.L31
 231:STM32F10x_Speex_Lib/libspeex/math_approx.h ****          return 0;
 534              		.loc 1 231 0
 535 0064 0023     		movs	r3, #0
 536 0066 08E0     		b	.L30
 537              	.L31:
 232:STM32F10x_Speex_Lib/libspeex/math_approx.h ****       else if (x&0x0001ffff)
 538              		.loc 1 232 0
 539 0068 7B68     		ldr	r3, [r7, #4]
 540 006a C3F31003 		ubfx	r3, r3, #0, #17
 541 006e 002B     		cmp	r3, #0
 542 0070 01D0     		beq	.L32
 233:STM32F10x_Speex_Lib/libspeex/math_approx.h ****          return -32767;
 543              		.loc 1 233 0
 544 0072 044B     		ldr	r3, .L33
 545 0074 01E0     		b	.L30
 546              	.L32:
 234:STM32F10x_Speex_Lib/libspeex/math_approx.h ****       else
 235:STM32F10x_Speex_Lib/libspeex/math_approx.h ****          return 32767;
 547              		.loc 1 235 0
 548 0076 47F6FF73 		movw	r3, #32767
 549              	.L30:
 236:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    }
 237:STM32F10x_Speex_Lib/libspeex/math_approx.h **** }
 550              		.loc 1 237 0
 551 007a 1846     		mov	r0, r3
 552 007c 0837     		adds	r7, r7, #8
 553              	.LCFI26:
 554              		.cfi_def_cfa_offset 8
 555 007e BD46     		mov	sp, r7
 556              	.LCFI27:
 557              		.cfi_def_cfa_register 13
 558              		@ sp needed
 559 0080 80BD     		pop	{r7, pc}
 560              	.L34:
 561 0082 00BF     		.align	2
 562              	.L33:
 563 0084 0180FFFF 		.word	-32767
 564              		.cfi_endproc
 565              	.LFE7:
 567              		.section	.text.spx_exp2,"ax",%progbits
 568              		.align	2
 569              		.thumb
 570              		.thumb_func
 572              	spx_exp2:
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 15


 573              	.LFB8:
 238:STM32F10x_Speex_Lib/libspeex/math_approx.h **** 
 239:STM32F10x_Speex_Lib/libspeex/math_approx.h **** /*
 240:STM32F10x_Speex_Lib/libspeex/math_approx.h ****  K0 = 1
 241:STM32F10x_Speex_Lib/libspeex/math_approx.h ****  K1 = log(2)
 242:STM32F10x_Speex_Lib/libspeex/math_approx.h ****  K2 = 3-4*log(2)
 243:STM32F10x_Speex_Lib/libspeex/math_approx.h ****  K3 = 3*log(2) - 2
 244:STM32F10x_Speex_Lib/libspeex/math_approx.h **** */
 245:STM32F10x_Speex_Lib/libspeex/math_approx.h **** #define D0 16384
 246:STM32F10x_Speex_Lib/libspeex/math_approx.h **** #define D1 11356
 247:STM32F10x_Speex_Lib/libspeex/math_approx.h **** #define D2 3726
 248:STM32F10x_Speex_Lib/libspeex/math_approx.h **** #define D3 1301
 249:STM32F10x_Speex_Lib/libspeex/math_approx.h **** /* Input in Q11 format, output in Q16 */
 250:STM32F10x_Speex_Lib/libspeex/math_approx.h **** static inline spx_word32_t spx_exp2(spx_word16_t x)
 251:STM32F10x_Speex_Lib/libspeex/math_approx.h **** {
 574              		.loc 1 251 0
 575              		.cfi_startproc
 576              		@ args = 0, pretend = 0, frame = 16
 577              		@ frame_needed = 1, uses_anonymous_args = 0
 578              		@ link register save eliminated.
 579 0000 80B4     		push	{r7}
 580              	.LCFI28:
 581              		.cfi_def_cfa_offset 4
 582              		.cfi_offset 7, -4
 583 0002 85B0     		sub	sp, sp, #20
 584              	.LCFI29:
 585              		.cfi_def_cfa_offset 24
 586 0004 00AF     		add	r7, sp, #0
 587              	.LCFI30:
 588              		.cfi_def_cfa_register 7
 589 0006 0346     		mov	r3, r0
 590 0008 FB80     		strh	r3, [r7, #6]	@ movhi
 252:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    int integer;
 253:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    spx_word16_t frac;
 254:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    integer = SHR16(x,11);
 591              		.loc 1 254 0
 592 000a B7F90630 		ldrsh	r3, [r7, #6]
 593 000e DB12     		asrs	r3, r3, #11
 594 0010 1BB2     		sxth	r3, r3
 595 0012 FB60     		str	r3, [r7, #12]
 255:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    if (integer>14)
 596              		.loc 1 255 0
 597 0014 FB68     		ldr	r3, [r7, #12]
 598 0016 0E2B     		cmp	r3, #14
 599 0018 02DD     		ble	.L36
 256:STM32F10x_Speex_Lib/libspeex/math_approx.h ****       return 0x7fffffff;
 600              		.loc 1 256 0
 601 001a 6FF00043 		mvn	r3, #-2147483648
 602 001e 43E0     		b	.L37
 603              	.L36:
 257:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    else if (integer < -15)
 604              		.loc 1 257 0
 605 0020 FB68     		ldr	r3, [r7, #12]
 606 0022 13F10F0F 		cmn	r3, #15
 607 0026 01DA     		bge	.L38
 258:STM32F10x_Speex_Lib/libspeex/math_approx.h ****       return 0;
 608              		.loc 1 258 0
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 16


 609 0028 0023     		movs	r3, #0
 610 002a 3DE0     		b	.L37
 611              	.L38:
 259:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    frac = SHL16(x-SHL16(integer,11),3);
 612              		.loc 1 259 0
 613 002c B7F90620 		ldrsh	r2, [r7, #6]
 614 0030 FB68     		ldr	r3, [r7, #12]
 615 0032 DB02     		lsls	r3, r3, #11
 616 0034 D31A     		subs	r3, r2, r3
 617 0036 DB00     		lsls	r3, r3, #3
 618 0038 7B81     		strh	r3, [r7, #10]	@ movhi
 260:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    frac = ADD16(D0, MULT16_16_Q14(frac, ADD16(D1, MULT16_16_Q14(frac, ADD16(D2 , MULT16_16_Q14(D3,f
 619              		.loc 1 260 0
 620 003a B7F90A20 		ldrsh	r2, [r7, #10]
 621 003e B7F90A30 		ldrsh	r3, [r7, #10]
 622 0042 B7F90A10 		ldrsh	r1, [r7, #10]
 623 0046 40F21550 		movw	r0, #1301
 624 004a 00FB01F1 		mul	r1, r0, r1
 625 004e 8913     		asrs	r1, r1, #14
 626 0050 89B2     		uxth	r1, r1
 627 0052 01F68E61 		addw	r1, r1, #3726
 628 0056 89B2     		uxth	r1, r1
 629 0058 09B2     		sxth	r1, r1
 630 005a 01FB03F3 		mul	r3, r1, r3
 631 005e 9B13     		asrs	r3, r3, #14
 632 0060 9BB2     		uxth	r3, r3
 633 0062 03F53153 		add	r3, r3, #11328
 634 0066 1C33     		adds	r3, r3, #28
 635 0068 9BB2     		uxth	r3, r3
 636 006a 1BB2     		sxth	r3, r3
 637 006c 03FB02F3 		mul	r3, r3, r2
 638 0070 9B13     		asrs	r3, r3, #14
 639 0072 9BB2     		uxth	r3, r3
 640 0074 03F58043 		add	r3, r3, #16384
 641 0078 9BB2     		uxth	r3, r3
 642 007a 7B81     		strh	r3, [r7, #10]	@ movhi
 261:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    return VSHR32(EXTEND32(frac), -integer-2);
 643              		.loc 1 261 0
 644 007c FA68     		ldr	r2, [r7, #12]
 645 007e 6FF00103 		mvn	r3, #1
 646 0082 9B1A     		subs	r3, r3, r2
 647 0084 002B     		cmp	r3, #0
 648 0086 08DD     		ble	.L39
 649              		.loc 1 261 0 is_stmt 0 discriminator 1
 650 0088 B7F90A20 		ldrsh	r2, [r7, #10]
 651 008c F968     		ldr	r1, [r7, #12]
 652 008e 6FF00103 		mvn	r3, #1
 653 0092 5B1A     		subs	r3, r3, r1
 654 0094 42FA03F3 		asr	r3, r2, r3
 655 0098 05E0     		b	.L41
 656              	.L39:
 657              		.loc 1 261 0 discriminator 2
 658 009a B7F90A20 		ldrsh	r2, [r7, #10]
 659 009e FB68     		ldr	r3, [r7, #12]
 660 00a0 0233     		adds	r3, r3, #2
 661 00a2 02FA03F3 		lsl	r3, r2, r3
 662              	.L41:
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 17


 663              		.loc 1 261 0
 664 00a6 00BF     		nop
 665              	.L37:
 262:STM32F10x_Speex_Lib/libspeex/math_approx.h **** }
 666              		.loc 1 262 0 is_stmt 1
 667 00a8 1846     		mov	r0, r3
 668 00aa 1437     		adds	r7, r7, #20
 669              	.LCFI31:
 670              		.cfi_def_cfa_offset 4
 671 00ac BD46     		mov	sp, r7
 672              	.LCFI32:
 673              		.cfi_def_cfa_register 13
 674              		@ sp needed
 675 00ae 80BC     		pop	{r7}
 676              	.LCFI33:
 677              		.cfi_restore 7
 678              		.cfi_def_cfa_offset 0
 679 00b0 7047     		bx	lr
 680              		.cfi_endproc
 681              	.LFE8:
 683 00b2 00BF     		.section	.text.spx_exp,"ax",%progbits
 684              		.align	2
 685              		.thumb
 686              		.thumb_func
 688              	spx_exp:
 689              	.LFB9:
 263:STM32F10x_Speex_Lib/libspeex/math_approx.h **** 
 264:STM32F10x_Speex_Lib/libspeex/math_approx.h **** /* Input in Q11 format, output in Q16 */
 265:STM32F10x_Speex_Lib/libspeex/math_approx.h **** static inline spx_word32_t spx_exp(spx_word16_t x)
 266:STM32F10x_Speex_Lib/libspeex/math_approx.h **** {
 690              		.loc 1 266 0
 691              		.cfi_startproc
 692              		@ args = 0, pretend = 0, frame = 8
 693              		@ frame_needed = 1, uses_anonymous_args = 0
 694 0000 80B5     		push	{r7, lr}
 695              	.LCFI34:
 696              		.cfi_def_cfa_offset 8
 697              		.cfi_offset 7, -8
 698              		.cfi_offset 14, -4
 699 0002 82B0     		sub	sp, sp, #8
 700              	.LCFI35:
 701              		.cfi_def_cfa_offset 16
 702 0004 00AF     		add	r7, sp, #0
 703              	.LCFI36:
 704              		.cfi_def_cfa_register 7
 705 0006 0346     		mov	r3, r0
 706 0008 FB80     		strh	r3, [r7, #6]	@ movhi
 267:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    if (x>21290)
 707              		.loc 1 267 0
 708 000a B7F90630 		ldrsh	r3, [r7, #6]
 709 000e 45F22A32 		movw	r2, #21290
 710 0012 9342     		cmp	r3, r2
 711 0014 02DD     		ble	.L43
 268:STM32F10x_Speex_Lib/libspeex/math_approx.h ****       return 0x7fffffff;
 712              		.loc 1 268 0
 713 0016 6FF00043 		mvn	r3, #-2147483648
 714 001a 14E0     		b	.L44
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 18


 715              	.L43:
 269:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    else if (x<-21290)
 716              		.loc 1 269 0
 717 001c B7F90630 		ldrsh	r3, [r7, #6]
 718 0020 0B4A     		ldr	r2, .L46
 719 0022 9342     		cmp	r3, r2
 720 0024 01DA     		bge	.L45
 270:STM32F10x_Speex_Lib/libspeex/math_approx.h ****       return 0;
 721              		.loc 1 270 0
 722 0026 0023     		movs	r3, #0
 723 0028 0DE0     		b	.L44
 724              	.L45:
 271:STM32F10x_Speex_Lib/libspeex/math_approx.h ****    else
 272:STM32F10x_Speex_Lib/libspeex/math_approx.h ****       return spx_exp2(MULT16_16_P14(23637,x));
 725              		.loc 1 272 0
 726 002a B7F90630 		ldrsh	r3, [r7, #6]
 727 002e 45F65542 		movw	r2, #23637
 728 0032 02FB03F3 		mul	r3, r2, r3
 729 0036 03F50053 		add	r3, r3, #8192
 730 003a 9B13     		asrs	r3, r3, #14
 731 003c 1BB2     		sxth	r3, r3
 732 003e 1846     		mov	r0, r3
 733 0040 FFF7FEFF 		bl	spx_exp2
 734 0044 0346     		mov	r3, r0
 735              	.L44:
 273:STM32F10x_Speex_Lib/libspeex/math_approx.h **** }
 736              		.loc 1 273 0
 737 0046 1846     		mov	r0, r3
 738 0048 0837     		adds	r7, r7, #8
 739              	.LCFI37:
 740              		.cfi_def_cfa_offset 8
 741 004a BD46     		mov	sp, r7
 742              	.LCFI38:
 743              		.cfi_def_cfa_register 13
 744              		@ sp needed
 745 004c 80BD     		pop	{r7, pc}
 746              	.L47:
 747 004e 00BF     		.align	2
 748              	.L46:
 749 0050 D6ACFFFF 		.word	-21290
 750              		.cfi_endproc
 751              	.LFE9:
 753              		.section	.text.speex_alloc,"ax",%progbits
 754              		.align	2
 755              		.thumb
 756              		.thumb_func
 758              	speex_alloc:
 759              	.LFB13:
 760              		.file 2 "STM32F10x_Speex_Lib/libspeex/os_support.h"
   1:STM32F10x_Speex_Lib/libspeex/os_support.h **** /* Copyright (C) 2007 Jean-Marc Valin
   2:STM32F10x_Speex_Lib/libspeex/os_support.h ****       
   3:STM32F10x_Speex_Lib/libspeex/os_support.h ****    File: os_support.h
   4:STM32F10x_Speex_Lib/libspeex/os_support.h ****    This is the (tiny) OS abstraction layer. Aside from math.h, this is the
   5:STM32F10x_Speex_Lib/libspeex/os_support.h ****    only place where system headers are allowed.
   6:STM32F10x_Speex_Lib/libspeex/os_support.h **** 
   7:STM32F10x_Speex_Lib/libspeex/os_support.h ****    Redistribution and use in source and binary forms, with or without
   8:STM32F10x_Speex_Lib/libspeex/os_support.h ****    modification, are permitted provided that the following conditions are
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 19


   9:STM32F10x_Speex_Lib/libspeex/os_support.h ****    met:
  10:STM32F10x_Speex_Lib/libspeex/os_support.h **** 
  11:STM32F10x_Speex_Lib/libspeex/os_support.h ****    1. Redistributions of source code must retain the above copyright notice,
  12:STM32F10x_Speex_Lib/libspeex/os_support.h ****    this list of conditions and the following disclaimer.
  13:STM32F10x_Speex_Lib/libspeex/os_support.h **** 
  14:STM32F10x_Speex_Lib/libspeex/os_support.h ****    2. Redistributions in binary form must reproduce the above copyright
  15:STM32F10x_Speex_Lib/libspeex/os_support.h ****    notice, this list of conditions and the following disclaimer in the
  16:STM32F10x_Speex_Lib/libspeex/os_support.h ****    documentation and/or other materials provided with the distribution.
  17:STM32F10x_Speex_Lib/libspeex/os_support.h **** 
  18:STM32F10x_Speex_Lib/libspeex/os_support.h ****    3. The name of the author may not be used to endorse or promote products
  19:STM32F10x_Speex_Lib/libspeex/os_support.h ****    derived from this software without specific prior written permission.
  20:STM32F10x_Speex_Lib/libspeex/os_support.h **** 
  21:STM32F10x_Speex_Lib/libspeex/os_support.h ****    THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR
  22:STM32F10x_Speex_Lib/libspeex/os_support.h ****    IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
  23:STM32F10x_Speex_Lib/libspeex/os_support.h ****    OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
  24:STM32F10x_Speex_Lib/libspeex/os_support.h ****    DISCLAIMED. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT,
  25:STM32F10x_Speex_Lib/libspeex/os_support.h ****    INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
  26:STM32F10x_Speex_Lib/libspeex/os_support.h ****    (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
  27:STM32F10x_Speex_Lib/libspeex/os_support.h ****    SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
  28:STM32F10x_Speex_Lib/libspeex/os_support.h ****    HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
  29:STM32F10x_Speex_Lib/libspeex/os_support.h ****    STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
  30:STM32F10x_Speex_Lib/libspeex/os_support.h ****    ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
  31:STM32F10x_Speex_Lib/libspeex/os_support.h ****    POSSIBILITY OF SUCH DAMAGE.
  32:STM32F10x_Speex_Lib/libspeex/os_support.h **** */
  33:STM32F10x_Speex_Lib/libspeex/os_support.h **** 
  34:STM32F10x_Speex_Lib/libspeex/os_support.h **** #ifndef OS_SUPPORT_H
  35:STM32F10x_Speex_Lib/libspeex/os_support.h **** #define OS_SUPPORT_H
  36:STM32F10x_Speex_Lib/libspeex/os_support.h **** 
  37:STM32F10x_Speex_Lib/libspeex/os_support.h **** #include <string.h>
  38:STM32F10x_Speex_Lib/libspeex/os_support.h **** #include <stdio.h>
  39:STM32F10x_Speex_Lib/libspeex/os_support.h **** #include <stdlib.h>
  40:STM32F10x_Speex_Lib/libspeex/os_support.h **** 
  41:STM32F10x_Speex_Lib/libspeex/os_support.h **** // #ifdef HAVE_CONFIG_H
  42:STM32F10x_Speex_Lib/libspeex/os_support.h **** #include "config.h"
  43:STM32F10x_Speex_Lib/libspeex/os_support.h **** // #endif
  44:STM32F10x_Speex_Lib/libspeex/os_support.h **** #ifdef OS_SUPPORT_CUSTOM
  45:STM32F10x_Speex_Lib/libspeex/os_support.h **** #include "os_support_custom.h"
  46:STM32F10x_Speex_Lib/libspeex/os_support.h **** #endif
  47:STM32F10x_Speex_Lib/libspeex/os_support.h **** 
  48:STM32F10x_Speex_Lib/libspeex/os_support.h **** /** Speex wrapper for calloc. To do your own dynamic allocation, all you need to do is replace this
  49:STM32F10x_Speex_Lib/libspeex/os_support.h ****     NOTE: speex_alloc needs to CLEAR THE MEMORY */
  50:STM32F10x_Speex_Lib/libspeex/os_support.h **** #ifndef OVERRIDE_SPEEX_ALLOC
  51:STM32F10x_Speex_Lib/libspeex/os_support.h **** static inline void *speex_alloc (int size)
  52:STM32F10x_Speex_Lib/libspeex/os_support.h **** {
 761              		.loc 2 52 0
 762              		.cfi_startproc
 763              		@ args = 0, pretend = 0, frame = 8
 764              		@ frame_needed = 1, uses_anonymous_args = 0
 765 0000 80B5     		push	{r7, lr}
 766              	.LCFI39:
 767              		.cfi_def_cfa_offset 8
 768              		.cfi_offset 7, -8
 769              		.cfi_offset 14, -4
 770 0002 82B0     		sub	sp, sp, #8
 771              	.LCFI40:
 772              		.cfi_def_cfa_offset 16
 773 0004 00AF     		add	r7, sp, #0
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 20


 774              	.LCFI41:
 775              		.cfi_def_cfa_register 7
 776 0006 7860     		str	r0, [r7, #4]
  53:STM32F10x_Speex_Lib/libspeex/os_support.h ****    /* WARNING: this is not equivalent to malloc(). If you want to use malloc() 
  54:STM32F10x_Speex_Lib/libspeex/os_support.h ****       or your own allocator, YOU NEED TO CLEAR THE MEMORY ALLOCATED. Otherwise
  55:STM32F10x_Speex_Lib/libspeex/os_support.h ****       you will experience strange bugs */
  56:STM32F10x_Speex_Lib/libspeex/os_support.h ****    return calloc(size,1);
 777              		.loc 2 56 0
 778 0008 7B68     		ldr	r3, [r7, #4]
 779 000a 0121     		movs	r1, #1
 780 000c 1846     		mov	r0, r3
 781 000e FFF7FEFF 		bl	calloc
 782 0012 0346     		mov	r3, r0
  57:STM32F10x_Speex_Lib/libspeex/os_support.h **** }
 783              		.loc 2 57 0
 784 0014 1846     		mov	r0, r3
 785 0016 0837     		adds	r7, r7, #8
 786              	.LCFI42:
 787              		.cfi_def_cfa_offset 8
 788 0018 BD46     		mov	sp, r7
 789              	.LCFI43:
 790              		.cfi_def_cfa_register 13
 791              		@ sp needed
 792 001a 80BD     		pop	{r7, pc}
 793              		.cfi_endproc
 794              	.LFE13:
 796              		.section	.text.speex_free,"ax",%progbits
 797              		.align	2
 798              		.thumb
 799              		.thumb_func
 801              	speex_free:
 802              	.LFB16:
  58:STM32F10x_Speex_Lib/libspeex/os_support.h **** #endif
  59:STM32F10x_Speex_Lib/libspeex/os_support.h **** 
  60:STM32F10x_Speex_Lib/libspeex/os_support.h **** /** Same as speex_alloc, except that the area is only needed inside a Speex call (might cause probl
  61:STM32F10x_Speex_Lib/libspeex/os_support.h **** #ifndef OVERRIDE_SPEEX_ALLOC_SCRATCH
  62:STM32F10x_Speex_Lib/libspeex/os_support.h **** static inline void *speex_alloc_scratch (int size)
  63:STM32F10x_Speex_Lib/libspeex/os_support.h **** {
  64:STM32F10x_Speex_Lib/libspeex/os_support.h ****    /* Scratch space doesn't need to be cleared */
  65:STM32F10x_Speex_Lib/libspeex/os_support.h ****    return calloc(size,1);
  66:STM32F10x_Speex_Lib/libspeex/os_support.h **** }
  67:STM32F10x_Speex_Lib/libspeex/os_support.h **** #endif
  68:STM32F10x_Speex_Lib/libspeex/os_support.h **** 
  69:STM32F10x_Speex_Lib/libspeex/os_support.h **** /** Speex wrapper for realloc. To do your own dynamic allocation, all you need to do is replace thi
  70:STM32F10x_Speex_Lib/libspeex/os_support.h **** #ifndef OVERRIDE_SPEEX_REALLOC
  71:STM32F10x_Speex_Lib/libspeex/os_support.h **** static inline void *speex_realloc (void *ptr, int size)
  72:STM32F10x_Speex_Lib/libspeex/os_support.h **** {
  73:STM32F10x_Speex_Lib/libspeex/os_support.h ****    return realloc(ptr, size);
  74:STM32F10x_Speex_Lib/libspeex/os_support.h **** }
  75:STM32F10x_Speex_Lib/libspeex/os_support.h **** #endif
  76:STM32F10x_Speex_Lib/libspeex/os_support.h **** 
  77:STM32F10x_Speex_Lib/libspeex/os_support.h **** /** Speex wrapper for calloc. To do your own dynamic allocation, all you need to do is replace this
  78:STM32F10x_Speex_Lib/libspeex/os_support.h **** #ifndef OVERRIDE_SPEEX_FREE
  79:STM32F10x_Speex_Lib/libspeex/os_support.h **** static inline void speex_free (void *ptr)
  80:STM32F10x_Speex_Lib/libspeex/os_support.h **** {
 803              		.loc 2 80 0
 804              		.cfi_startproc
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 21


 805              		@ args = 0, pretend = 0, frame = 8
 806              		@ frame_needed = 1, uses_anonymous_args = 0
 807 0000 80B5     		push	{r7, lr}
 808              	.LCFI44:
 809              		.cfi_def_cfa_offset 8
 810              		.cfi_offset 7, -8
 811              		.cfi_offset 14, -4
 812 0002 82B0     		sub	sp, sp, #8
 813              	.LCFI45:
 814              		.cfi_def_cfa_offset 16
 815 0004 00AF     		add	r7, sp, #0
 816              	.LCFI46:
 817              		.cfi_def_cfa_register 7
 818 0006 7860     		str	r0, [r7, #4]
  81:STM32F10x_Speex_Lib/libspeex/os_support.h ****    free(ptr);
 819              		.loc 2 81 0
 820 0008 7868     		ldr	r0, [r7, #4]
 821 000a FFF7FEFF 		bl	free
  82:STM32F10x_Speex_Lib/libspeex/os_support.h **** }
 822              		.loc 2 82 0
 823 000e 00BF     		nop
 824 0010 0837     		adds	r7, r7, #8
 825              	.LCFI47:
 826              		.cfi_def_cfa_offset 8
 827 0012 BD46     		mov	sp, r7
 828              	.LCFI48:
 829              		.cfi_def_cfa_register 13
 830              		@ sp needed
 831 0014 80BD     		pop	{r7, pc}
 832              		.cfi_endproc
 833              	.LFE16:
 835 0016 00BF     		.section	.text.speex_warning,"ax",%progbits
 836              		.align	2
 837              		.thumb
 838              		.thumb_func
 840              	speex_warning:
 841              	.LFB18:
  83:STM32F10x_Speex_Lib/libspeex/os_support.h **** #endif
  84:STM32F10x_Speex_Lib/libspeex/os_support.h **** 
  85:STM32F10x_Speex_Lib/libspeex/os_support.h **** /** Same as speex_free, except that the area is only needed inside a Speex call (might cause proble
  86:STM32F10x_Speex_Lib/libspeex/os_support.h **** #ifndef OVERRIDE_SPEEX_FREE_SCRATCH
  87:STM32F10x_Speex_Lib/libspeex/os_support.h **** static inline void speex_free_scratch (void *ptr)
  88:STM32F10x_Speex_Lib/libspeex/os_support.h **** {
  89:STM32F10x_Speex_Lib/libspeex/os_support.h ****    free(ptr);
  90:STM32F10x_Speex_Lib/libspeex/os_support.h **** }
  91:STM32F10x_Speex_Lib/libspeex/os_support.h **** #endif
  92:STM32F10x_Speex_Lib/libspeex/os_support.h **** 
  93:STM32F10x_Speex_Lib/libspeex/os_support.h **** /** Copy n bytes of memory from src to dst. The 0* term provides compile-time type checking  */
  94:STM32F10x_Speex_Lib/libspeex/os_support.h **** #ifndef OVERRIDE_SPEEX_COPY
  95:STM32F10x_Speex_Lib/libspeex/os_support.h **** #define SPEEX_COPY(dst, src, n) (memcpy((dst), (src), (n)*sizeof(*(dst)) + 0*((dst)-(src)) ))
  96:STM32F10x_Speex_Lib/libspeex/os_support.h **** #endif
  97:STM32F10x_Speex_Lib/libspeex/os_support.h **** 
  98:STM32F10x_Speex_Lib/libspeex/os_support.h **** /** Copy n bytes of memory from src to dst, allowing overlapping regions. The 0* term 
  99:STM32F10x_Speex_Lib/libspeex/os_support.h ****     provides compile-time type checking */
 100:STM32F10x_Speex_Lib/libspeex/os_support.h **** #ifndef OVERRIDE_SPEEX_MOVE
 101:STM32F10x_Speex_Lib/libspeex/os_support.h **** #define SPEEX_MOVE(dst, src, n) (memmove((dst), (src), (n)*sizeof(*(dst)) + 0*((dst)-(src)) ))
 102:STM32F10x_Speex_Lib/libspeex/os_support.h **** #endif
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 22


 103:STM32F10x_Speex_Lib/libspeex/os_support.h **** 
 104:STM32F10x_Speex_Lib/libspeex/os_support.h **** /** Set n bytes of memory to value of c, starting at address s */
 105:STM32F10x_Speex_Lib/libspeex/os_support.h **** #ifndef OVERRIDE_SPEEX_MEMSET
 106:STM32F10x_Speex_Lib/libspeex/os_support.h **** #define SPEEX_MEMSET(dst, c, n) (memset((dst), (c), (n)*sizeof(*(dst))))
 107:STM32F10x_Speex_Lib/libspeex/os_support.h **** #endif
 108:STM32F10x_Speex_Lib/libspeex/os_support.h **** 
 109:STM32F10x_Speex_Lib/libspeex/os_support.h **** 
 110:STM32F10x_Speex_Lib/libspeex/os_support.h **** #ifndef OVERRIDE_SPEEX_FATAL
 111:STM32F10x_Speex_Lib/libspeex/os_support.h **** static inline void _speex_fatal(const char *str, const char *file, int line)
 112:STM32F10x_Speex_Lib/libspeex/os_support.h **** {
 113:STM32F10x_Speex_Lib/libspeex/os_support.h ****    fprintf (stderr, "Fatal (internal) error in %s, line %d: %s\n", file, line, str);
 114:STM32F10x_Speex_Lib/libspeex/os_support.h ****    exit(1);
 115:STM32F10x_Speex_Lib/libspeex/os_support.h **** }
 116:STM32F10x_Speex_Lib/libspeex/os_support.h **** #endif
 117:STM32F10x_Speex_Lib/libspeex/os_support.h **** 
 118:STM32F10x_Speex_Lib/libspeex/os_support.h **** #ifndef OVERRIDE_SPEEX_WARNING
 119:STM32F10x_Speex_Lib/libspeex/os_support.h **** static inline void speex_warning(const char *str)
 120:STM32F10x_Speex_Lib/libspeex/os_support.h **** {
 842              		.loc 2 120 0
 843              		.cfi_startproc
 844              		@ args = 0, pretend = 0, frame = 8
 845              		@ frame_needed = 1, uses_anonymous_args = 0
 846              		@ link register save eliminated.
 847 0000 80B4     		push	{r7}
 848              	.LCFI49:
 849              		.cfi_def_cfa_offset 4
 850              		.cfi_offset 7, -4
 851 0002 83B0     		sub	sp, sp, #12
 852              	.LCFI50:
 853              		.cfi_def_cfa_offset 16
 854 0004 00AF     		add	r7, sp, #0
 855              	.LCFI51:
 856              		.cfi_def_cfa_register 7
 857 0006 7860     		str	r0, [r7, #4]
 121:STM32F10x_Speex_Lib/libspeex/os_support.h **** #ifndef DISABLE_WARNINGS
 122:STM32F10x_Speex_Lib/libspeex/os_support.h ****    fprintf (stderr, "warning: %s\n", str);
 123:STM32F10x_Speex_Lib/libspeex/os_support.h **** #endif
 124:STM32F10x_Speex_Lib/libspeex/os_support.h **** }
 858              		.loc 2 124 0
 859 0008 00BF     		nop
 860 000a 0C37     		adds	r7, r7, #12
 861              	.LCFI52:
 862              		.cfi_def_cfa_offset 4
 863 000c BD46     		mov	sp, r7
 864              	.LCFI53:
 865              		.cfi_def_cfa_register 13
 866              		@ sp needed
 867 000e 80BC     		pop	{r7}
 868              	.LCFI54:
 869              		.cfi_restore 7
 870              		.cfi_def_cfa_offset 0
 871 0010 7047     		bx	lr
 872              		.cfi_endproc
 873              	.LFE18:
 875 0012 00BF     		.section	.text.speex_warning_int,"ax",%progbits
 876              		.align	2
 877              		.thumb
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 23


 878              		.thumb_func
 880              	speex_warning_int:
 881              	.LFB19:
 125:STM32F10x_Speex_Lib/libspeex/os_support.h **** #endif
 126:STM32F10x_Speex_Lib/libspeex/os_support.h **** 
 127:STM32F10x_Speex_Lib/libspeex/os_support.h **** #ifndef OVERRIDE_SPEEX_WARNING_INT
 128:STM32F10x_Speex_Lib/libspeex/os_support.h **** static inline void speex_warning_int(const char *str, int val)
 129:STM32F10x_Speex_Lib/libspeex/os_support.h **** {
 882              		.loc 2 129 0
 883              		.cfi_startproc
 884              		@ args = 0, pretend = 0, frame = 8
 885              		@ frame_needed = 1, uses_anonymous_args = 0
 886              		@ link register save eliminated.
 887 0000 80B4     		push	{r7}
 888              	.LCFI55:
 889              		.cfi_def_cfa_offset 4
 890              		.cfi_offset 7, -4
 891 0002 83B0     		sub	sp, sp, #12
 892              	.LCFI56:
 893              		.cfi_def_cfa_offset 16
 894 0004 00AF     		add	r7, sp, #0
 895              	.LCFI57:
 896              		.cfi_def_cfa_register 7
 897 0006 7860     		str	r0, [r7, #4]
 898 0008 3960     		str	r1, [r7]
 130:STM32F10x_Speex_Lib/libspeex/os_support.h **** #ifndef DISABLE_WARNINGS
 131:STM32F10x_Speex_Lib/libspeex/os_support.h ****    fprintf (stderr, "warning: %s %d\n", str, val);
 132:STM32F10x_Speex_Lib/libspeex/os_support.h **** #endif
 133:STM32F10x_Speex_Lib/libspeex/os_support.h **** }
 899              		.loc 2 133 0
 900 000a 00BF     		nop
 901 000c 0C37     		adds	r7, r7, #12
 902              	.LCFI58:
 903              		.cfi_def_cfa_offset 4
 904 000e BD46     		mov	sp, r7
 905              	.LCFI59:
 906              		.cfi_def_cfa_register 13
 907              		@ sp needed
 908 0010 80BC     		pop	{r7}
 909              	.LCFI60:
 910              		.cfi_restore 7
 911              		.cfi_def_cfa_offset 0
 912 0012 7047     		bx	lr
 913              		.cfi_endproc
 914              	.LFE19:
 916              		.section	.text.DIV32_16_Q8,"ax",%progbits
 917              		.align	2
 918              		.thumb
 919              		.thumb_func
 921              	DIV32_16_Q8:
 922              	.LFB21:
 923              		.file 3 "STM32F10x_Speex_Lib/libspeex/preprocess.c"
   1:STM32F10x_Speex_Lib/libspeex/preprocess.c **** /* Copyright (C) 2003 Epic Games (written by Jean-Marc Valin)
   2:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    Copyright (C) 2004-2006 Epic Games 
   3:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    
   4:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    File: preprocess.c
   5:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    Preprocessor with denoising based on the algorithm by Ephraim and Malah
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 24


   6:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
   7:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    Redistribution and use in source and binary forms, with or without
   8:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    modification, are permitted provided that the following conditions are
   9:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    met:
  10:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
  11:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    1. Redistributions of source code must retain the above copyright notice,
  12:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    this list of conditions and the following disclaimer.
  13:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
  14:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    2. Redistributions in binary form must reproduce the above copyright
  15:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    notice, this list of conditions and the following disclaimer in the
  16:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    documentation and/or other materials provided with the distribution.
  17:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
  18:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    3. The name of the author may not be used to endorse or promote products
  19:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    derived from this software without specific prior written permission.
  20:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
  21:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR
  22:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
  23:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
  24:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    DISCLAIMED. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT,
  25:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
  26:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
  27:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
  28:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
  29:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
  30:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
  31:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    POSSIBILITY OF SUCH DAMAGE.
  32:STM32F10x_Speex_Lib/libspeex/preprocess.c **** */
  33:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
  34:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
  35:STM32F10x_Speex_Lib/libspeex/preprocess.c **** /*
  36:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    Recommended papers:
  37:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    
  38:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    Y. Ephraim and D. Malah, "Speech enhancement using minimum mean-square error
  39:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    short-time spectral amplitude estimator". IEEE Transactions on Acoustics, 
  40:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    Speech and Signal Processing, vol. ASSP-32, no. 6, pp. 1109-1121, 1984.
  41:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    
  42:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    Y. Ephraim and D. Malah, "Speech enhancement using minimum mean-square error
  43:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    log-spectral amplitude estimator". IEEE Transactions on Acoustics, Speech and 
  44:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    Signal Processing, vol. ASSP-33, no. 2, pp. 443-445, 1985.
  45:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    
  46:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    I. Cohen and B. Berdugo, "Speech enhancement for non-stationary noise environments".
  47:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    Signal Processing, vol. 81, no. 2, pp. 2403-2418, 2001.
  48:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
  49:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    Stefan Gustafsson, Rainer Martin, Peter Jax, and Peter Vary. "A psychoacoustic 
  50:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    approach to combined acoustic echo cancellation and noise reduction". IEEE 
  51:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    Transactions on Speech and Audio Processing, 2002.
  52:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    
  53:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    J.-M. Valin, J. Rouat, and F. Michaud, "Microphone array post-filter for separation
  54:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    of simultaneous non-stationary sources". In Proceedings IEEE International 
  55:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    Conference on Acoustics, Speech, and Signal Processing, 2004.
  56:STM32F10x_Speex_Lib/libspeex/preprocess.c **** */
  57:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
  58:STM32F10x_Speex_Lib/libspeex/preprocess.c **** // #ifdef HAVE_CONFIG_H
  59:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #include "config.h"
  60:STM32F10x_Speex_Lib/libspeex/preprocess.c **** // #endif
  61:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
  62:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #include <math.h>
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 25


  63:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #include "speex/speex_preprocess.h"
  64:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #include "speex/speex_echo.h"
  65:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #include "arch.h"
  66:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #include "fftwrap.h"
  67:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #include "filterbank.h"
  68:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #include "math_approx.h"
  69:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #include "os_support.h"
  70:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
  71:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #ifndef M_PI
  72:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #define M_PI 3.14159263
  73:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #endif
  74:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
  75:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #define LOUDNESS_EXP 5.f
  76:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #define AMP_SCALE .001f
  77:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #define AMP_SCALE_1 1000.f
  78:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       
  79:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #define NB_BANDS 24
  80:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
  81:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #define SPEECH_PROB_START_DEFAULT       QCONST16(0.35f,15)
  82:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #define SPEECH_PROB_CONTINUE_DEFAULT    QCONST16(0.20f,15)
  83:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #define NOISE_SUPPRESS_DEFAULT       -15
  84:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #define ECHO_SUPPRESS_DEFAULT        -40
  85:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #define ECHO_SUPPRESS_ACTIVE_DEFAULT -15
  86:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
  87:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #ifndef NULL
  88:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #define NULL 0
  89:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #endif
  90:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
  91:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #define SQR(x) ((x)*(x))
  92:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #define SQR16(x) (MULT16_16((x),(x)))
  93:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #define SQR16_Q15(x) (MULT16_16_Q15((x),(x)))
  94:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
  95:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #ifdef FIXED_POINT
  96:STM32F10x_Speex_Lib/libspeex/preprocess.c **** static inline spx_word16_t DIV32_16_Q8(spx_word32_t a, spx_word32_t b)
  97:STM32F10x_Speex_Lib/libspeex/preprocess.c **** {
 924              		.loc 3 97 0
 925              		.cfi_startproc
 926              		@ args = 0, pretend = 0, frame = 8
 927              		@ frame_needed = 1, uses_anonymous_args = 0
 928              		@ link register save eliminated.
 929 0000 80B4     		push	{r7}
 930              	.LCFI61:
 931              		.cfi_def_cfa_offset 4
 932              		.cfi_offset 7, -4
 933 0002 83B0     		sub	sp, sp, #12
 934              	.LCFI62:
 935              		.cfi_def_cfa_offset 16
 936 0004 00AF     		add	r7, sp, #0
 937              	.LCFI63:
 938              		.cfi_def_cfa_register 7
 939 0006 7860     		str	r0, [r7, #4]
 940 0008 3960     		str	r1, [r7]
  98:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    if (SHR32(a,7) >= b)
 941              		.loc 3 98 0
 942 000a 7B68     		ldr	r3, [r7, #4]
 943 000c DA11     		asrs	r2, r3, #7
 944 000e 3B68     		ldr	r3, [r7]
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 26


 945 0010 9A42     		cmp	r2, r3
 946 0012 02DB     		blt	.L54
  99:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    {
 100:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       return 32767;
 947              		.loc 3 100 0
 948 0014 47F6FF73 		movw	r3, #32767
 949 0018 2CE0     		b	.L55
 950              	.L54:
 101:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    } else {
 102:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       if (b>=QCONST32(1,23))
 951              		.loc 3 102 0
 952 001a 3B68     		ldr	r3, [r7]
 953 001c B3F5000F 		cmp	r3, #8388608
 954 0020 05DB     		blt	.L56
 103:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       {
 104:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          a = SHR32(a,8);
 955              		.loc 3 104 0
 956 0022 7B68     		ldr	r3, [r7, #4]
 957 0024 1B12     		asrs	r3, r3, #8
 958 0026 7B60     		str	r3, [r7, #4]
 105:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          b = SHR32(b,8);
 959              		.loc 3 105 0
 960 0028 3B68     		ldr	r3, [r7]
 961 002a 1B12     		asrs	r3, r3, #8
 962 002c 3B60     		str	r3, [r7]
 963              	.L56:
 106:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       }
 107:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       if (b>=QCONST32(1,19))
 964              		.loc 3 107 0
 965 002e 3B68     		ldr	r3, [r7]
 966 0030 B3F5002F 		cmp	r3, #524288
 967 0034 05DB     		blt	.L57
 108:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       {
 109:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          a = SHR32(a,4);
 968              		.loc 3 109 0
 969 0036 7B68     		ldr	r3, [r7, #4]
 970 0038 1B11     		asrs	r3, r3, #4
 971 003a 7B60     		str	r3, [r7, #4]
 110:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          b = SHR32(b,4);
 972              		.loc 3 110 0
 973 003c 3B68     		ldr	r3, [r7]
 974 003e 1B11     		asrs	r3, r3, #4
 975 0040 3B60     		str	r3, [r7]
 976              	.L57:
 111:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       }
 112:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       if (b>=QCONST32(1,15))
 977              		.loc 3 112 0
 978 0042 3B68     		ldr	r3, [r7]
 979 0044 B3F5004F 		cmp	r3, #32768
 980 0048 05DB     		blt	.L58
 113:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       {
 114:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          a = SHR32(a,4);
 981              		.loc 3 114 0
 982 004a 7B68     		ldr	r3, [r7, #4]
 983 004c 1B11     		asrs	r3, r3, #4
 984 004e 7B60     		str	r3, [r7, #4]
 115:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          b = SHR32(b,4);
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 27


 985              		.loc 3 115 0
 986 0050 3B68     		ldr	r3, [r7]
 987 0052 1B11     		asrs	r3, r3, #4
 988 0054 3B60     		str	r3, [r7]
 989              	.L58:
 116:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       }
 117:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       a = SHL32(a,8);
 990              		.loc 3 117 0
 991 0056 7B68     		ldr	r3, [r7, #4]
 992 0058 1B02     		lsls	r3, r3, #8
 993 005a 7B60     		str	r3, [r7, #4]
 118:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       return PDIV32_16(a,b);
 994              		.loc 3 118 0
 995 005c 3B68     		ldr	r3, [r7]
 996 005e 1BB2     		sxth	r3, r3
 997 0060 5B10     		asrs	r3, r3, #1
 998 0062 1BB2     		sxth	r3, r3
 999 0064 1A46     		mov	r2, r3
 1000 0066 7B68     		ldr	r3, [r7, #4]
 1001 0068 1344     		add	r3, r3, r2
 1002 006a 3A68     		ldr	r2, [r7]
 1003 006c 12B2     		sxth	r2, r2
 1004 006e 93FBF2F3 		sdiv	r3, r3, r2
 1005 0072 1BB2     		sxth	r3, r3
 1006              	.L55:
 119:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    }
 120:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    
 121:STM32F10x_Speex_Lib/libspeex/preprocess.c **** }
 1007              		.loc 3 121 0
 1008 0074 1846     		mov	r0, r3
 1009 0076 0C37     		adds	r7, r7, #12
 1010              	.LCFI64:
 1011              		.cfi_def_cfa_offset 4
 1012 0078 BD46     		mov	sp, r7
 1013              	.LCFI65:
 1014              		.cfi_def_cfa_register 13
 1015              		@ sp needed
 1016 007a 80BC     		pop	{r7}
 1017              	.LCFI66:
 1018              		.cfi_restore 7
 1019              		.cfi_def_cfa_offset 0
 1020 007c 7047     		bx	lr
 1021              		.cfi_endproc
 1022              	.LFE21:
 1024 007e 00BF     		.section	.text.DIV32_16_Q15,"ax",%progbits
 1025              		.align	2
 1026              		.thumb
 1027              		.thumb_func
 1029              	DIV32_16_Q15:
 1030              	.LFB22:
 122:STM32F10x_Speex_Lib/libspeex/preprocess.c **** static inline spx_word16_t DIV32_16_Q15(spx_word32_t a, spx_word32_t b)
 123:STM32F10x_Speex_Lib/libspeex/preprocess.c **** {
 1031              		.loc 3 123 0
 1032              		.cfi_startproc
 1033              		@ args = 0, pretend = 0, frame = 8
 1034              		@ frame_needed = 1, uses_anonymous_args = 0
 1035              		@ link register save eliminated.
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 28


 1036 0000 80B4     		push	{r7}
 1037              	.LCFI67:
 1038              		.cfi_def_cfa_offset 4
 1039              		.cfi_offset 7, -4
 1040 0002 83B0     		sub	sp, sp, #12
 1041              	.LCFI68:
 1042              		.cfi_def_cfa_offset 16
 1043 0004 00AF     		add	r7, sp, #0
 1044              	.LCFI69:
 1045              		.cfi_def_cfa_register 7
 1046 0006 7860     		str	r0, [r7, #4]
 1047 0008 3960     		str	r1, [r7]
 124:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    if (SHR32(a,15) >= b)
 1048              		.loc 3 124 0
 1049 000a 7B68     		ldr	r3, [r7, #4]
 1050 000c DA13     		asrs	r2, r3, #15
 1051 000e 3B68     		ldr	r3, [r7]
 1052 0010 9A42     		cmp	r2, r3
 1053 0012 02DB     		blt	.L60
 125:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    {
 126:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       return 32767;
 1054              		.loc 3 126 0
 1055 0014 47F6FF73 		movw	r3, #32767
 1056 0018 29E0     		b	.L61
 1057              	.L60:
 127:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    } else {
 128:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       if (b>=QCONST32(1,23))
 1058              		.loc 3 128 0
 1059 001a 3B68     		ldr	r3, [r7]
 1060 001c B3F5000F 		cmp	r3, #8388608
 1061 0020 05DB     		blt	.L62
 129:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       {
 130:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          a = SHR32(a,8);
 1062              		.loc 3 130 0
 1063 0022 7B68     		ldr	r3, [r7, #4]
 1064 0024 1B12     		asrs	r3, r3, #8
 1065 0026 7B60     		str	r3, [r7, #4]
 131:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          b = SHR32(b,8);
 1066              		.loc 3 131 0
 1067 0028 3B68     		ldr	r3, [r7]
 1068 002a 1B12     		asrs	r3, r3, #8
 1069 002c 3B60     		str	r3, [r7]
 1070              	.L62:
 132:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       }
 133:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       if (b>=QCONST32(1,19))
 1071              		.loc 3 133 0
 1072 002e 3B68     		ldr	r3, [r7]
 1073 0030 B3F5002F 		cmp	r3, #524288
 1074 0034 05DB     		blt	.L63
 134:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       {
 135:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          a = SHR32(a,4);
 1075              		.loc 3 135 0
 1076 0036 7B68     		ldr	r3, [r7, #4]
 1077 0038 1B11     		asrs	r3, r3, #4
 1078 003a 7B60     		str	r3, [r7, #4]
 136:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          b = SHR32(b,4);
 1079              		.loc 3 136 0
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 29


 1080 003c 3B68     		ldr	r3, [r7]
 1081 003e 1B11     		asrs	r3, r3, #4
 1082 0040 3B60     		str	r3, [r7]
 1083              	.L63:
 137:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       }
 138:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       if (b>=QCONST32(1,15))
 1084              		.loc 3 138 0
 1085 0042 3B68     		ldr	r3, [r7]
 1086 0044 B3F5004F 		cmp	r3, #32768
 1087 0048 05DB     		blt	.L64
 139:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       {
 140:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          a = SHR32(a,4);
 1088              		.loc 3 140 0
 1089 004a 7B68     		ldr	r3, [r7, #4]
 1090 004c 1B11     		asrs	r3, r3, #4
 1091 004e 7B60     		str	r3, [r7, #4]
 141:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          b = SHR32(b,4);
 1092              		.loc 3 141 0
 1093 0050 3B68     		ldr	r3, [r7]
 1094 0052 1B11     		asrs	r3, r3, #4
 1095 0054 3B60     		str	r3, [r7]
 1096              	.L64:
 142:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       }
 143:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       a = SHL32(a,15)-a;
 1097              		.loc 3 143 0
 1098 0056 7B68     		ldr	r3, [r7, #4]
 1099 0058 DA03     		lsls	r2, r3, #15
 1100 005a 7B68     		ldr	r3, [r7, #4]
 1101 005c D31A     		subs	r3, r2, r3
 1102 005e 7B60     		str	r3, [r7, #4]
 144:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       return DIV32_16(a,b);
 1103              		.loc 3 144 0
 1104 0060 3B68     		ldr	r3, [r7]
 1105 0062 1BB2     		sxth	r3, r3
 1106 0064 1A46     		mov	r2, r3
 1107 0066 7B68     		ldr	r3, [r7, #4]
 1108 0068 93FBF2F3 		sdiv	r3, r3, r2
 1109 006c 1BB2     		sxth	r3, r3
 1110              	.L61:
 145:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    }
 146:STM32F10x_Speex_Lib/libspeex/preprocess.c **** }
 1111              		.loc 3 146 0
 1112 006e 1846     		mov	r0, r3
 1113 0070 0C37     		adds	r7, r7, #12
 1114              	.LCFI70:
 1115              		.cfi_def_cfa_offset 4
 1116 0072 BD46     		mov	sp, r7
 1117              	.LCFI71:
 1118              		.cfi_def_cfa_register 13
 1119              		@ sp needed
 1120 0074 80BC     		pop	{r7}
 1121              	.LCFI72:
 1122              		.cfi_restore 7
 1123              		.cfi_def_cfa_offset 0
 1124 0076 7047     		bx	lr
 1125              		.cfi_endproc
 1126              	.LFE22:
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 30


 1128              		.section	.text.conj_window,"ax",%progbits
 1129              		.align	2
 1130              		.thumb
 1131              		.thumb_func
 1133              	conj_window:
 1134              	.LFB23:
 147:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #define SNR_SCALING 256.f
 148:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #define SNR_SCALING_1 0.0039062f
 149:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #define SNR_SHIFT 8
 150:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 151:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #define FRAC_SCALING 32767.f
 152:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #define FRAC_SCALING_1 3.0518e-05
 153:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #define FRAC_SHIFT 1
 154:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 155:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #define EXPIN_SCALING 2048.f
 156:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #define EXPIN_SCALING_1 0.00048828f
 157:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #define EXPIN_SHIFT 11
 158:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #define EXPOUT_SCALING_1 1.5259e-05
 159:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 160:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #define NOISE_SHIFT 7
 161:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 162:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #else
 163:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 164:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #define DIV32_16_Q8(a,b) ((a)/(b))
 165:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #define DIV32_16_Q15(a,b) ((a)/(b))
 166:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #define SNR_SCALING 1.f
 167:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #define SNR_SCALING_1 1.f
 168:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #define SNR_SHIFT 0
 169:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #define FRAC_SCALING 1.f
 170:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #define FRAC_SCALING_1 1.f
 171:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #define FRAC_SHIFT 0
 172:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #define NOISE_SHIFT 0
 173:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 174:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #define EXPIN_SCALING 1.f
 175:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #define EXPIN_SCALING_1 1.f
 176:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #define EXPOUT_SCALING_1 1.f
 177:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 178:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #endif
 179:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 180:STM32F10x_Speex_Lib/libspeex/preprocess.c **** /** Speex pre-processor state. */
 181:STM32F10x_Speex_Lib/libspeex/preprocess.c **** struct SpeexPreprocessState_ {
 182:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    /* Basic info */
 183:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    int    frame_size;        /**< Number of samples processed each time */
 184:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    int    ps_size;           /**< Number of points in the power spectrum */
 185:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    int    sampling_rate;     /**< Sampling rate of the input/output */
 186:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    int    nbands;
 187:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    FilterBank *bank;
 188:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    
 189:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    /* Parameters */
 190:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    int    denoise_enabled;
 191:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    int    vad_enabled;
 192:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    int    dereverb_enabled;
 193:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    spx_word16_t  reverb_decay;
 194:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    spx_word16_t  reverb_level;
 195:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    spx_word16_t speech_prob_start;
 196:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    spx_word16_t speech_prob_continue;
 197:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    int    noise_suppress;
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 31


 198:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    int    echo_suppress;
 199:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    int    echo_suppress_active;
 200:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    SpeexEchoState *echo_state;
 201:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    
 202:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    spx_word16_t	speech_prob;  /**< Probability last frame was speech */
 203:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 204:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    /* DSP-related arrays */
 205:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    spx_word16_t *frame;      /**< Processing frame (2*ps_size) */
 206:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    spx_word16_t *ft;         /**< Processing frame in freq domain (2*ps_size) */
 207:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    spx_word32_t *ps;         /**< Current power spectrum */
 208:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    spx_word16_t *gain2;      /**< Adjusted gains */
 209:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    spx_word16_t *gain_floor; /**< Minimum gain allowed */
 210:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    spx_word16_t *window;     /**< Analysis/Synthesis window */
 211:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    spx_word32_t *noise;      /**< Noise estimate */
 212:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    spx_word32_t *reverb_estimate; /**< Estimate of reverb energy */
 213:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    spx_word32_t *old_ps;     /**< Power spectrum for last frame */
 214:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    spx_word16_t *gain;       /**< Ephraim Malah gain */
 215:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    spx_word16_t *prior;      /**< A-priori SNR */
 216:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    spx_word16_t *post;       /**< A-posteriori SNR */
 217:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 218:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    spx_word32_t *S;          /**< Smoothed power spectrum */
 219:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    spx_word32_t *Smin;       /**< See Cohen paper */
 220:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    spx_word32_t *Stmp;       /**< See Cohen paper */
 221:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    int *update_prob;         /**< Probability of speech presence for noise update */
 222:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 223:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    spx_word16_t *zeta;       /**< Smoothed a priori SNR */
 224:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    spx_word32_t *echo_noise;
 225:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    spx_word32_t *residual_echo;
 226:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 227:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    /* Misc */
 228:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    spx_word16_t *inbuf;      /**< Input buffer (overlapped analysis) */
 229:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    spx_word16_t *outbuf;     /**< Output buffer (for overlap and add) */
 230:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 231:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    /* AGC stuff, only for floating point for now */
 232:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #ifndef FIXED_POINT
 233:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    int    agc_enabled;
 234:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    float  agc_level;
 235:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    float  loudness_accum;
 236:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    float *loudness_weight;   /**< Perceptual loudness curve */
 237:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    float  loudness;          /**< Loudness estimate */
 238:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    float  agc_gain;          /**< Current AGC gain */
 239:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    float  max_gain;          /**< Maximum gain allowed */
 240:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    float  max_increase_step; /**< Maximum increase in gain from one frame to another */
 241:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    float  max_decrease_step; /**< Maximum decrease in gain from one frame to another */
 242:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    float  prev_loudness;     /**< Loudness of previous frame */
 243:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    float  init_max;          /**< Current gain limit during initialisation */
 244:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #endif
 245:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    int    nb_adapt;          /**< Number of frames used for adaptation so far */
 246:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    int    was_speech;
 247:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    int    min_count;         /**< Number of frames processed so far */
 248:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    void  *fft_lookup;        /**< Lookup table for the FFT */
 249:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #ifdef FIXED_POINT
 250:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    int    frame_shift;
 251:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #endif
 252:STM32F10x_Speex_Lib/libspeex/preprocess.c **** };
 253:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 254:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 32


 255:STM32F10x_Speex_Lib/libspeex/preprocess.c **** static void conj_window(spx_word16_t *w, int len)
 256:STM32F10x_Speex_Lib/libspeex/preprocess.c **** {
 1135              		.loc 3 256 0
 1136              		.cfi_startproc
 1137              		@ args = 0, pretend = 0, frame = 24
 1138              		@ frame_needed = 1, uses_anonymous_args = 0
 1139 0000 90B5     		push	{r4, r7, lr}
 1140              	.LCFI73:
 1141              		.cfi_def_cfa_offset 12
 1142              		.cfi_offset 4, -12
 1143              		.cfi_offset 7, -8
 1144              		.cfi_offset 14, -4
 1145 0002 87B0     		sub	sp, sp, #28
 1146              	.LCFI74:
 1147              		.cfi_def_cfa_offset 40
 1148 0004 00AF     		add	r7, sp, #0
 1149              	.LCFI75:
 1150              		.cfi_def_cfa_register 7
 1151 0006 7860     		str	r0, [r7, #4]
 1152 0008 3960     		str	r1, [r7]
 257:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    int i;
 258:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=0;i<len;i++)
 1153              		.loc 3 258 0
 1154 000a 0023     		movs	r3, #0
 1155 000c 7B61     		str	r3, [r7, #20]
 1156 000e 73E0     		b	.L66
 1157              	.L71:
 1158              	.LBB2:
 259:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    {
 260:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       spx_word16_t tmp;
 261:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #ifdef FIXED_POINT
 262:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       spx_word16_t x = DIV32_16(MULT16_16(32767,i),len);
 1159              		.loc 3 262 0
 1160 0010 7B69     		ldr	r3, [r7, #20]
 1161 0012 1BB2     		sxth	r3, r3
 1162 0014 1A46     		mov	r2, r3
 1163 0016 1346     		mov	r3, r2
 1164 0018 DB03     		lsls	r3, r3, #15
 1165 001a 9B1A     		subs	r3, r3, r2
 1166 001c 3A68     		ldr	r2, [r7]
 1167 001e 12B2     		sxth	r2, r2
 1168 0020 93FBF2F3 		sdiv	r3, r3, r2
 1169 0024 3B82     		strh	r3, [r7, #16]	@ movhi
 263:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #else      
 264:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       spx_word16_t x = DIV32_16(MULT16_16(QCONST16(4.f,13),i),len);
 265:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #endif
 266:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       int inv=0;
 1170              		.loc 3 266 0
 1171 0026 0023     		movs	r3, #0
 1172 0028 FB60     		str	r3, [r7, #12]
 267:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       if (x<QCONST16(1.f,13))
 1173              		.loc 3 267 0
 1174 002a B7F91030 		ldrsh	r3, [r7, #16]
 1175 002e B3F5005F 		cmp	r3, #8192
 1176 0032 1EDB     		blt	.L67
 268:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       {
 269:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       } else if (x<QCONST16(2.f,13))
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 33


 1177              		.loc 3 269 0
 1178 0034 B7F91030 		ldrsh	r3, [r7, #16]
 1179 0038 B3F5804F 		cmp	r3, #16384
 1180 003c 07DA     		bge	.L68
 270:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       {
 271:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          x=QCONST16(2.f,13)-x;
 1181              		.loc 3 271 0
 1182 003e 3B8A     		ldrh	r3, [r7, #16]
 1183 0040 C3F58043 		rsb	r3, r3, #16384
 1184 0044 9BB2     		uxth	r3, r3
 1185 0046 3B82     		strh	r3, [r7, #16]	@ movhi
 272:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          inv=1;
 1186              		.loc 3 272 0
 1187 0048 0123     		movs	r3, #1
 1188 004a FB60     		str	r3, [r7, #12]
 1189 004c 11E0     		b	.L67
 1190              	.L68:
 273:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       } else if (x<QCONST16(3.f,13))
 1191              		.loc 3 273 0
 1192 004e B7F91030 		ldrsh	r3, [r7, #16]
 1193 0052 B3F5C04F 		cmp	r3, #24576
 1194 0056 07DA     		bge	.L69
 274:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       {
 275:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          x=x-QCONST16(2.f,13);
 1195              		.loc 3 275 0
 1196 0058 3B8A     		ldrh	r3, [r7, #16]
 1197 005a A3F58043 		sub	r3, r3, #16384
 1198 005e 9BB2     		uxth	r3, r3
 1199 0060 3B82     		strh	r3, [r7, #16]	@ movhi
 276:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          inv=1;
 1200              		.loc 3 276 0
 1201 0062 0123     		movs	r3, #1
 1202 0064 FB60     		str	r3, [r7, #12]
 1203 0066 04E0     		b	.L67
 1204              	.L69:
 277:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       } else {
 278:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          x=QCONST16(2.f,13)-x+QCONST16(2.f,13); /* 4 - x */
 1205              		.loc 3 278 0
 1206 0068 3A8A     		ldrh	r2, [r7, #16]
 1207 006a 274B     		ldr	r3, .L72
 1208 006c 9B1A     		subs	r3, r3, r2
 1209 006e 9BB2     		uxth	r3, r3
 1210 0070 3B82     		strh	r3, [r7, #16]	@ movhi
 1211              	.L67:
 279:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       }
 280:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       x = MULT16_16_Q14(QCONST16(1.271903f,14), x);
 1212              		.loc 3 280 0
 1213 0072 B7F91030 		ldrsh	r3, [r7, #16]
 1214 0076 45F26712 		movw	r2, #20839
 1215 007a 02FB03F3 		mul	r3, r2, r3
 1216 007e 9B13     		asrs	r3, r3, #14
 1217 0080 3B82     		strh	r3, [r7, #16]	@ movhi
 281:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       tmp = SQR16_Q15(QCONST16(.5f,15)-MULT16_16_P15(QCONST16(.5f,15),spx_cos_norm(SHL32(EXTEND32(x
 1218              		.loc 3 281 0
 1219 0082 B7F91030 		ldrsh	r3, [r7, #16]
 1220 0086 9B00     		lsls	r3, r3, #2
 1221 0088 1846     		mov	r0, r3
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 34


 1222 008a FFF7FEFF 		bl	spx_cos_norm
 1223 008e 0346     		mov	r3, r0
 1224 0090 0133     		adds	r3, r3, #1
 1225 0092 9B03     		lsls	r3, r3, #14
 1226 0094 DB13     		asrs	r3, r3, #15
 1227 0096 9BB2     		uxth	r3, r3
 1228 0098 C3F58043 		rsb	r3, r3, #16384
 1229 009c 9BB2     		uxth	r3, r3
 1230 009e 1BB2     		sxth	r3, r3
 1231 00a0 1C46     		mov	r4, r3
 1232 00a2 B7F91030 		ldrsh	r3, [r7, #16]
 1233 00a6 9B00     		lsls	r3, r3, #2
 1234 00a8 1846     		mov	r0, r3
 1235 00aa FFF7FEFF 		bl	spx_cos_norm
 1236 00ae 0346     		mov	r3, r0
 1237 00b0 0133     		adds	r3, r3, #1
 1238 00b2 9B03     		lsls	r3, r3, #14
 1239 00b4 DB13     		asrs	r3, r3, #15
 1240 00b6 9BB2     		uxth	r3, r3
 1241 00b8 C3F58043 		rsb	r3, r3, #16384
 1242 00bc 9BB2     		uxth	r3, r3
 1243 00be 1BB2     		sxth	r3, r3
 1244 00c0 03FB04F3 		mul	r3, r3, r4
 1245 00c4 DB13     		asrs	r3, r3, #15
 1246 00c6 7B82     		strh	r3, [r7, #18]	@ movhi
 282:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       if (inv)
 1247              		.loc 3 282 0
 1248 00c8 FB68     		ldr	r3, [r7, #12]
 1249 00ca 002B     		cmp	r3, #0
 1250 00cc 05D0     		beq	.L70
 283:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          tmp=SUB16(Q15_ONE,tmp);
 1251              		.loc 3 283 0
 1252 00ce 7B8A     		ldrh	r3, [r7, #18]
 1253 00d0 C3F5FF43 		rsb	r3, r3, #32640
 1254 00d4 7F33     		adds	r3, r3, #127
 1255 00d6 9BB2     		uxth	r3, r3
 1256 00d8 7B82     		strh	r3, [r7, #18]	@ movhi
 1257              	.L70:
 284:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       w[i]=spx_sqrt(SHL32(EXTEND32(tmp),15));
 1258              		.loc 3 284 0 discriminator 2
 1259 00da 7B69     		ldr	r3, [r7, #20]
 1260 00dc 5B00     		lsls	r3, r3, #1
 1261 00de 7A68     		ldr	r2, [r7, #4]
 1262 00e0 D418     		adds	r4, r2, r3
 1263 00e2 B7F91230 		ldrsh	r3, [r7, #18]
 1264 00e6 DB03     		lsls	r3, r3, #15
 1265 00e8 1846     		mov	r0, r3
 1266 00ea FFF7FEFF 		bl	spx_sqrt
 1267 00ee 0346     		mov	r3, r0
 1268 00f0 2380     		strh	r3, [r4]	@ movhi
 1269              	.LBE2:
 258:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    {
 1270              		.loc 3 258 0 discriminator 2
 1271 00f2 7B69     		ldr	r3, [r7, #20]
 1272 00f4 0133     		adds	r3, r3, #1
 1273 00f6 7B61     		str	r3, [r7, #20]
 1274              	.L66:
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 35


 258:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    {
 1275              		.loc 3 258 0 is_stmt 0 discriminator 1
 1276 00f8 7A69     		ldr	r2, [r7, #20]
 1277 00fa 3B68     		ldr	r3, [r7]
 1278 00fc 9A42     		cmp	r2, r3
 1279 00fe 87DB     		blt	.L71
 285:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    }
 286:STM32F10x_Speex_Lib/libspeex/preprocess.c **** }
 1280              		.loc 3 286 0 is_stmt 1
 1281 0100 00BF     		nop
 1282 0102 1C37     		adds	r7, r7, #28
 1283              	.LCFI76:
 1284              		.cfi_def_cfa_offset 12
 1285 0104 BD46     		mov	sp, r7
 1286              	.LCFI77:
 1287              		.cfi_def_cfa_register 13
 1288              		@ sp needed
 1289 0106 90BD     		pop	{r4, r7, pc}
 1290              	.L73:
 1291              		.align	2
 1292              	.L72:
 1293 0108 0080FFFF 		.word	-32768
 1294              		.cfi_endproc
 1295              	.LFE23:
 1297              		.section	.text.hypergeom_gain,"ax",%progbits
 1298              		.align	2
 1299              		.thumb
 1300              		.thumb_func
 1302              	hypergeom_gain:
 1303              	.LFB24:
 287:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 288:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       
 289:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #ifdef FIXED_POINT
 290:STM32F10x_Speex_Lib/libspeex/preprocess.c **** /* This function approximates the gain function 
 291:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    y = gamma(1.25)^2 * M(-.25;1;-x) / sqrt(x)  
 292:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    which multiplied by xi/(1+xi) is the optimal gain
 293:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    in the loudness domain ( sqrt[amplitude] )
 294:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    Input in Q11 format, output in Q15
 295:STM32F10x_Speex_Lib/libspeex/preprocess.c **** */
 296:STM32F10x_Speex_Lib/libspeex/preprocess.c **** static inline spx_word32_t hypergeom_gain(spx_word32_t xx)
 297:STM32F10x_Speex_Lib/libspeex/preprocess.c **** {
 1304              		.loc 3 297 0
 1305              		.cfi_startproc
 1306              		@ args = 0, pretend = 0, frame = 16
 1307              		@ frame_needed = 1, uses_anonymous_args = 0
 1308 0000 90B5     		push	{r4, r7, lr}
 1309              	.LCFI78:
 1310              		.cfi_def_cfa_offset 12
 1311              		.cfi_offset 4, -12
 1312              		.cfi_offset 7, -8
 1313              		.cfi_offset 14, -4
 1314 0002 85B0     		sub	sp, sp, #20
 1315              	.LCFI79:
 1316              		.cfi_def_cfa_offset 32
 1317 0004 00AF     		add	r7, sp, #0
 1318              	.LCFI80:
 1319              		.cfi_def_cfa_register 7
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 36


 1320 0006 7860     		str	r0, [r7, #4]
 298:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    int ind;
 299:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    spx_word16_t frac;
 300:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    /* Q13 table */
 301:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    static const spx_word16_t table[21] = {
 302:STM32F10x_Speex_Lib/libspeex/preprocess.c ****        6730,  8357,  9868, 11267, 12563, 13770, 14898,
 303:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       15959, 16961, 17911, 18816, 19682, 20512, 21311,
 304:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       22082, 22827, 23549, 24250, 24931, 25594, 26241};
 305:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       ind = SHR32(xx,10);
 1321              		.loc 3 305 0
 1322 0008 7B68     		ldr	r3, [r7, #4]
 1323 000a 9B12     		asrs	r3, r3, #10
 1324 000c FB60     		str	r3, [r7, #12]
 306:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       if (ind<0)
 1325              		.loc 3 306 0
 1326 000e FB68     		ldr	r3, [r7, #12]
 1327 0010 002B     		cmp	r3, #0
 1328 0012 02DA     		bge	.L75
 307:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          return Q15_ONE;
 1329              		.loc 3 307 0
 1330 0014 47F6FF73 		movw	r3, #32767
 1331 0018 3AE0     		b	.L76
 1332              	.L75:
 308:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       if (ind>19)
 1333              		.loc 3 308 0
 1334 001a FB68     		ldr	r3, [r7, #12]
 1335 001c 132B     		cmp	r3, #19
 1336 001e 0BDD     		ble	.L77
 309:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          return ADD32(EXTEND32(Q15_ONE),EXTEND32(DIV32_16(QCONST32(.1296,23), SHR32(xx,EXPIN_SHIFT-
 1337              		.loc 3 309 0
 1338 0020 7B68     		ldr	r3, [r7, #4]
 1339 0022 DB10     		asrs	r3, r3, #3
 1340 0024 1BB2     		sxth	r3, r3
 1341 0026 1A46     		mov	r2, r3
 1342 0028 1B4B     		ldr	r3, .L78
 1343 002a 93FBF2F3 		sdiv	r3, r3, r2
 1344 002e 1BB2     		sxth	r3, r3
 1345 0030 03F5FF43 		add	r3, r3, #32640
 1346 0034 7F33     		adds	r3, r3, #127
 1347 0036 2BE0     		b	.L76
 1348              	.L77:
 310:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       frac = SHL32(xx-SHL32(ind,10),5);
 1349              		.loc 3 310 0
 1350 0038 FB68     		ldr	r3, [r7, #12]
 1351 003a 9B02     		lsls	r3, r3, #10
 1352 003c 7A68     		ldr	r2, [r7, #4]
 1353 003e D31A     		subs	r3, r2, r3
 1354 0040 5B01     		lsls	r3, r3, #5
 1355 0042 7B81     		strh	r3, [r7, #10]	@ movhi
 311:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       return SHL32(DIV32_16(PSHR32(MULT16_16(Q15_ONE-frac,table[ind]) + MULT16_16(frac,table[ind+1]
 1356              		.loc 3 311 0
 1357 0044 7B89     		ldrh	r3, [r7, #10]
 1358 0046 C3F5FF43 		rsb	r3, r3, #32640
 1359 004a 7F33     		adds	r3, r3, #127
 1360 004c 9BB2     		uxth	r3, r3
 1361 004e 1BB2     		sxth	r3, r3
 1362 0050 1946     		mov	r1, r3
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 37


 1363 0052 124A     		ldr	r2, .L78+4
 1364 0054 FB68     		ldr	r3, [r7, #12]
 1365 0056 32F91330 		ldrsh	r3, [r2, r3, lsl #1]
 1366 005a 03FB01F2 		mul	r2, r3, r1
 1367 005e B7F90A30 		ldrsh	r3, [r7, #10]
 1368 0062 F968     		ldr	r1, [r7, #12]
 1369 0064 0131     		adds	r1, r1, #1
 1370 0066 0D48     		ldr	r0, .L78+4
 1371 0068 30F91110 		ldrsh	r1, [r0, r1, lsl #1]
 1372 006c 01FB03F3 		mul	r3, r1, r3
 1373 0070 1344     		add	r3, r3, r2
 1374 0072 4033     		adds	r3, r3, #64
 1375 0074 DC11     		asrs	r4, r3, #7
 1376 0076 7B68     		ldr	r3, [r7, #4]
 1377 0078 DB03     		lsls	r3, r3, #15
 1378 007a 03F5D153 		add	r3, r3, #6688
 1379 007e 1733     		adds	r3, r3, #23
 1380 0080 1846     		mov	r0, r3
 1381 0082 FFF7FEFF 		bl	spx_sqrt
 1382 0086 0346     		mov	r3, r0
 1383 0088 94FBF3F3 		sdiv	r3, r4, r3
 1384 008c 1BB2     		sxth	r3, r3
 1385 008e DB01     		lsls	r3, r3, #7
 1386              	.L76:
 312:STM32F10x_Speex_Lib/libspeex/preprocess.c **** }
 1387              		.loc 3 312 0
 1388 0090 1846     		mov	r0, r3
 1389 0092 1437     		adds	r7, r7, #20
 1390              	.LCFI81:
 1391              		.cfi_def_cfa_offset 12
 1392 0094 BD46     		mov	sp, r7
 1393              	.LCFI82:
 1394              		.cfi_def_cfa_register 13
 1395              		@ sp needed
 1396 0096 90BD     		pop	{r4, r7, pc}
 1397              	.L79:
 1398              		.align	2
 1399              	.L78:
 1400 0098 BC961000 		.word	1087164
 1401 009c 00000000 		.word	table.5856
 1402              		.cfi_endproc
 1403              	.LFE24:
 1405              		.section	.text.qcurve,"ax",%progbits
 1406              		.align	2
 1407              		.thumb
 1408              		.thumb_func
 1410              	qcurve:
 1411              	.LFB25:
 313:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 314:STM32F10x_Speex_Lib/libspeex/preprocess.c **** static inline spx_word16_t qcurve(spx_word16_t x)
 315:STM32F10x_Speex_Lib/libspeex/preprocess.c **** {
 1412              		.loc 3 315 0
 1413              		.cfi_startproc
 1414              		@ args = 0, pretend = 0, frame = 8
 1415              		@ frame_needed = 1, uses_anonymous_args = 0
 1416              		@ link register save eliminated.
 1417 0000 80B4     		push	{r7}
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 38


 1418              	.LCFI83:
 1419              		.cfi_def_cfa_offset 4
 1420              		.cfi_offset 7, -4
 1421 0002 83B0     		sub	sp, sp, #12
 1422              	.LCFI84:
 1423              		.cfi_def_cfa_offset 16
 1424 0004 00AF     		add	r7, sp, #0
 1425              	.LCFI85:
 1426              		.cfi_def_cfa_register 7
 1427 0006 0346     		mov	r3, r0
 1428 0008 FB80     		strh	r3, [r7, #6]	@ movhi
 316:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    x = MAX16(x, 1);
 1429              		.loc 3 316 0
 1430 000a B7F90630 		ldrsh	r3, [r7, #6]
 1431 000e 012B     		cmp	r3, #1
 1432 0010 B8BF     		it	lt
 1433 0012 0123     		movlt	r3, #1
 1434 0014 FB80     		strh	r3, [r7, #6]	@ movhi
 317:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    return DIV32_16(SHL32(EXTEND32(32767),9),ADD16(512,MULT16_16_Q15(QCONST16(.60f,15),DIV32_16(3276
 1435              		.loc 3 317 0
 1436 0016 B7F90630 		ldrsh	r3, [r7, #6]
 1437 001a 47F6FF72 		movw	r2, #32767
 1438 001e 92FBF3F3 		sdiv	r3, r2, r3
 1439 0022 1BB2     		sxth	r3, r3
 1440 0024 1A46     		mov	r2, r3
 1441 0026 44F6CD43 		movw	r3, #19661
 1442 002a 03FB02F3 		mul	r3, r3, r2
 1443 002e DB13     		asrs	r3, r3, #15
 1444 0030 9BB2     		uxth	r3, r3
 1445 0032 03F50073 		add	r3, r3, #512
 1446 0036 9BB2     		uxth	r3, r3
 1447 0038 1BB2     		sxth	r3, r3
 1448 003a 1A46     		mov	r2, r3
 1449 003c 044B     		ldr	r3, .L82
 1450 003e 93FBF2F3 		sdiv	r3, r3, r2
 1451 0042 1BB2     		sxth	r3, r3
 318:STM32F10x_Speex_Lib/libspeex/preprocess.c **** }
 1452              		.loc 3 318 0
 1453 0044 1846     		mov	r0, r3
 1454 0046 0C37     		adds	r7, r7, #12
 1455              	.LCFI86:
 1456              		.cfi_def_cfa_offset 4
 1457 0048 BD46     		mov	sp, r7
 1458              	.LCFI87:
 1459              		.cfi_def_cfa_register 13
 1460              		@ sp needed
 1461 004a 80BC     		pop	{r7}
 1462              	.LCFI88:
 1463              		.cfi_restore 7
 1464              		.cfi_def_cfa_offset 0
 1465 004c 7047     		bx	lr
 1466              	.L83:
 1467 004e 00BF     		.align	2
 1468              	.L82:
 1469 0050 00FEFF00 		.word	16776704
 1470              		.cfi_endproc
 1471              	.LFE25:
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 39


 1473              		.section	.text.compute_gain_floor,"ax",%progbits
 1474              		.align	2
 1475              		.thumb
 1476              		.thumb_func
 1478              	compute_gain_floor:
 1479              	.LFB26:
 319:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 320:STM32F10x_Speex_Lib/libspeex/preprocess.c **** /* Compute the gain floor based on different floors for the background noise and residual echo */
 321:STM32F10x_Speex_Lib/libspeex/preprocess.c **** static void compute_gain_floor(int noise_suppress, int effective_echo_suppress, spx_word32_t *noise
 322:STM32F10x_Speex_Lib/libspeex/preprocess.c **** {
 1480              		.loc 3 322 0
 1481              		.cfi_startproc
 1482              		@ args = 8, pretend = 0, frame = 32
 1483              		@ frame_needed = 1, uses_anonymous_args = 0
 1484 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1485              	.LCFI89:
 1486              		.cfi_def_cfa_offset 20
 1487              		.cfi_offset 4, -20
 1488              		.cfi_offset 5, -16
 1489              		.cfi_offset 6, -12
 1490              		.cfi_offset 7, -8
 1491              		.cfi_offset 14, -4
 1492 0002 89B0     		sub	sp, sp, #36
 1493              	.LCFI90:
 1494              		.cfi_def_cfa_offset 56
 1495 0004 00AF     		add	r7, sp, #0
 1496              	.LCFI91:
 1497              		.cfi_def_cfa_register 7
 1498 0006 F860     		str	r0, [r7, #12]
 1499 0008 B960     		str	r1, [r7, #8]
 1500 000a 7A60     		str	r2, [r7, #4]
 1501 000c 3B60     		str	r3, [r7]
 323:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    int i;
 324:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    
 325:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    if (noise_suppress > effective_echo_suppress)
 1502              		.loc 3 325 0
 1503 000e FA68     		ldr	r2, [r7, #12]
 1504 0010 BB68     		ldr	r3, [r7, #8]
 1505 0012 9A42     		cmp	r2, r3
 1506 0014 40F3A180 		ble	.L85
 1507              	.LBB3:
 326:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    {
 327:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       spx_word16_t noise_gain, gain_ratio;
 328:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       noise_gain = EXTRACT16(MIN32(Q15_ONE,SHR32(spx_exp(MULT16_16(QCONST16(0.11513,11),noise_suppr
 1508              		.loc 3 328 0
 1509 0018 FB68     		ldr	r3, [r7, #12]
 1510 001a 9BB2     		uxth	r3, r3
 1511 001c 1A46     		mov	r2, r3	@ movhi
 1512 001e 1201     		lsls	r2, r2, #4
 1513 0020 D21A     		subs	r2, r2, r3
 1514 0022 9200     		lsls	r2, r2, #2
 1515 0024 D31A     		subs	r3, r2, r3
 1516 0026 9B00     		lsls	r3, r3, #2
 1517 0028 9BB2     		uxth	r3, r3
 1518 002a 1BB2     		sxth	r3, r3
 1519 002c 1846     		mov	r0, r3
 1520 002e FFF7FEFF 		bl	spx_exp
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 40


 1521 0032 0346     		mov	r3, r0
 1522 0034 5B10     		asrs	r3, r3, #1
 1523 0036 B3F5004F 		cmp	r3, #32768
 1524 003a 10DA     		bge	.L86
 1525              		.loc 3 328 0 is_stmt 0 discriminator 1
 1526 003c FB68     		ldr	r3, [r7, #12]
 1527 003e 9BB2     		uxth	r3, r3
 1528 0040 1A46     		mov	r2, r3	@ movhi
 1529 0042 1201     		lsls	r2, r2, #4
 1530 0044 D21A     		subs	r2, r2, r3
 1531 0046 9200     		lsls	r2, r2, #2
 1532 0048 D31A     		subs	r3, r2, r3
 1533 004a 9B00     		lsls	r3, r3, #2
 1534 004c 9BB2     		uxth	r3, r3
 1535 004e 1BB2     		sxth	r3, r3
 1536 0050 1846     		mov	r0, r3
 1537 0052 FFF7FEFF 		bl	spx_exp
 1538 0056 0346     		mov	r3, r0
 1539 0058 5B10     		asrs	r3, r3, #1
 1540 005a 1BB2     		sxth	r3, r3
 1541 005c 01E0     		b	.L87
 1542              	.L86:
 1543              		.loc 3 328 0 discriminator 2
 1544 005e 47F6FF73 		movw	r3, #32767
 1545              	.L87:
 1546              		.loc 3 328 0 discriminator 4
 1547 0062 7B83     		strh	r3, [r7, #26]	@ movhi
 329:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       gain_ratio = EXTRACT16(MIN32(Q15_ONE,SHR32(spx_exp(MULT16_16(QCONST16(.2302585f,11),effective
 1548              		.loc 3 329 0 is_stmt 1 discriminator 4
 1549 0064 BB68     		ldr	r3, [r7, #8]
 1550 0066 9AB2     		uxth	r2, r3
 1551 0068 FB68     		ldr	r3, [r7, #12]
 1552 006a 9BB2     		uxth	r3, r3
 1553 006c D31A     		subs	r3, r2, r3
 1554 006e 9BB2     		uxth	r3, r3
 1555 0070 1A46     		mov	r2, r3	@ movhi
 1556 0072 1201     		lsls	r2, r2, #4
 1557 0074 D21A     		subs	r2, r2, r3
 1558 0076 9200     		lsls	r2, r2, #2
 1559 0078 D31A     		subs	r3, r2, r3
 1560 007a DB00     		lsls	r3, r3, #3
 1561 007c 9BB2     		uxth	r3, r3
 1562 007e 1BB2     		sxth	r3, r3
 1563 0080 1846     		mov	r0, r3
 1564 0082 FFF7FEFF 		bl	spx_exp
 1565 0086 0346     		mov	r3, r0
 1566 0088 5B10     		asrs	r3, r3, #1
 1567 008a B3F5004F 		cmp	r3, #32768
 1568 008e 14DA     		bge	.L88
 1569              		.loc 3 329 0 is_stmt 0 discriminator 1
 1570 0090 BB68     		ldr	r3, [r7, #8]
 1571 0092 9AB2     		uxth	r2, r3
 1572 0094 FB68     		ldr	r3, [r7, #12]
 1573 0096 9BB2     		uxth	r3, r3
 1574 0098 D31A     		subs	r3, r2, r3
 1575 009a 9BB2     		uxth	r3, r3
 1576 009c 1A46     		mov	r2, r3	@ movhi
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 41


 1577 009e 1201     		lsls	r2, r2, #4
 1578 00a0 D21A     		subs	r2, r2, r3
 1579 00a2 9200     		lsls	r2, r2, #2
 1580 00a4 D31A     		subs	r3, r2, r3
 1581 00a6 DB00     		lsls	r3, r3, #3
 1582 00a8 9BB2     		uxth	r3, r3
 1583 00aa 1BB2     		sxth	r3, r3
 1584 00ac 1846     		mov	r0, r3
 1585 00ae FFF7FEFF 		bl	spx_exp
 1586 00b2 0346     		mov	r3, r0
 1587 00b4 5B10     		asrs	r3, r3, #1
 1588 00b6 1BB2     		sxth	r3, r3
 1589 00b8 01E0     		b	.L89
 1590              	.L88:
 1591              		.loc 3 329 0 discriminator 2
 1592 00ba 47F6FF73 		movw	r3, #32767
 1593              	.L89:
 1594              		.loc 3 329 0 discriminator 4
 1595 00be 3B83     		strh	r3, [r7, #24]	@ movhi
 330:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 331:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       /* gain_floor = sqrt [ (noise*noise_floor + echo*echo_floor) / (noise+echo) ] */
 332:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       for (i=0;i<len;i++)
 1596              		.loc 3 332 0 is_stmt 1 discriminator 4
 1597 00c0 0023     		movs	r3, #0
 1598 00c2 FB61     		str	r3, [r7, #28]
 1599 00c4 44E0     		b	.L90
 1600              	.L91:
 333:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          gain_floor[i] = MULT16_16_Q15(noise_gain,
 1601              		.loc 3 333 0 discriminator 3
 1602 00c6 FB69     		ldr	r3, [r7, #28]
 1603 00c8 5B00     		lsls	r3, r3, #1
 1604 00ca BA6B     		ldr	r2, [r7, #56]
 1605 00cc D418     		adds	r4, r2, r3
 1606 00ce B7F91A50 		ldrsh	r5, [r7, #26]
 1607 00d2 FB69     		ldr	r3, [r7, #28]
 1608 00d4 9B00     		lsls	r3, r3, #2
 1609 00d6 7A68     		ldr	r2, [r7, #4]
 1610 00d8 1344     		add	r3, r3, r2
 1611 00da 1B68     		ldr	r3, [r3]
 1612 00dc 4033     		adds	r3, r3, #64
 1613 00de DA11     		asrs	r2, r3, #7
 1614 00e0 B7F91830 		ldrsh	r3, [r7, #24]
 1615 00e4 F969     		ldr	r1, [r7, #28]
 1616 00e6 8900     		lsls	r1, r1, #2
 1617 00e8 3868     		ldr	r0, [r7]
 1618 00ea 0144     		add	r1, r1, r0
 1619 00ec 0968     		ldr	r1, [r1]
 1620 00ee C913     		asrs	r1, r1, #15
 1621 00f0 09B2     		sxth	r1, r1
 1622 00f2 01FB03F1 		mul	r1, r1, r3
 1623 00f6 B7F91830 		ldrsh	r3, [r7, #24]
 1624 00fa F869     		ldr	r0, [r7, #28]
 1625 00fc 8000     		lsls	r0, r0, #2
 1626 00fe 3E68     		ldr	r6, [r7]
 1627 0100 3044     		add	r0, r0, r6
 1628 0102 0068     		ldr	r0, [r0]
 1629 0104 C0F30E00 		ubfx	r0, r0, #0, #15
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 42


 1630 0108 00FB03F3 		mul	r3, r0, r3
 1631 010c DB13     		asrs	r3, r3, #15
 1632 010e 0B44     		add	r3, r3, r1
 1633 0110 D018     		adds	r0, r2, r3
 1634 0112 FB69     		ldr	r3, [r7, #28]
 1635 0114 9B00     		lsls	r3, r3, #2
 1636 0116 7A68     		ldr	r2, [r7, #4]
 1637 0118 1344     		add	r3, r3, r2
 1638 011a 1B68     		ldr	r3, [r3]
 1639 011c 4033     		adds	r3, r3, #64
 1640 011e DB11     		asrs	r3, r3, #7
 1641 0120 5A1C     		adds	r2, r3, #1
 1642 0122 FB69     		ldr	r3, [r7, #28]
 1643 0124 9B00     		lsls	r3, r3, #2
 1644 0126 3968     		ldr	r1, [r7]
 1645 0128 0B44     		add	r3, r3, r1
 1646 012a 1B68     		ldr	r3, [r3]
 1647 012c 1344     		add	r3, r3, r2
 1648 012e 1946     		mov	r1, r3
 1649 0130 FFF7FEFF 		bl	DIV32_16_Q15
 1650 0134 0346     		mov	r3, r0
 1651 0136 DB03     		lsls	r3, r3, #15
 1652 0138 1846     		mov	r0, r3
 1653 013a FFF7FEFF 		bl	spx_sqrt
 1654 013e 0346     		mov	r3, r0
 1655 0140 03FB05F3 		mul	r3, r3, r5
 1656 0144 DB13     		asrs	r3, r3, #15
 1657 0146 1BB2     		sxth	r3, r3
 1658 0148 2380     		strh	r3, [r4]	@ movhi
 332:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          gain_floor[i] = MULT16_16_Q15(noise_gain,
 1659              		.loc 3 332 0 discriminator 3
 1660 014a FB69     		ldr	r3, [r7, #28]
 1661 014c 0133     		adds	r3, r3, #1
 1662 014e FB61     		str	r3, [r7, #28]
 1663              	.L90:
 332:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          gain_floor[i] = MULT16_16_Q15(noise_gain,
 1664              		.loc 3 332 0 is_stmt 0 discriminator 1
 1665 0150 FA69     		ldr	r2, [r7, #28]
 1666 0152 FB6B     		ldr	r3, [r7, #60]
 1667 0154 9A42     		cmp	r2, r3
 1668 0156 B6DB     		blt	.L91
 1669              	.LBE3:
 334:STM32F10x_Speex_Lib/libspeex/preprocess.c ****                                        spx_sqrt(SHL32(EXTEND32(DIV32_16_Q15(PSHR32(noise[i],NOISE_S
 335:STM32F10x_Speex_Lib/libspeex/preprocess.c ****                                              (1+PSHR32(noise[i],NOISE_SHIFT) + echo[i]) )),15)));
 336:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    } else {
 337:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       spx_word16_t echo_gain, gain_ratio;
 338:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       echo_gain = EXTRACT16(MIN32(Q15_ONE,SHR32(spx_exp(MULT16_16(QCONST16(0.11513,11),effective_ec
 339:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       gain_ratio = EXTRACT16(MIN32(Q15_ONE,SHR32(spx_exp(MULT16_16(QCONST16(.2302585f,11),noise_sup
 340:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 341:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       /* gain_floor = sqrt [ (noise*noise_floor + echo*echo_floor) / (noise+echo) ] */
 342:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       for (i=0;i<len;i++)
 343:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          gain_floor[i] = MULT16_16_Q15(echo_gain,
 344:STM32F10x_Speex_Lib/libspeex/preprocess.c ****                                        spx_sqrt(SHL32(EXTEND32(DIV32_16_Q15(MULT16_32_Q15(gain_rati
 345:STM32F10x_Speex_Lib/libspeex/preprocess.c ****                                              (1+PSHR32(noise[i],NOISE_SHIFT) + echo[i]) )),15)));
 346:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    }
 347:STM32F10x_Speex_Lib/libspeex/preprocess.c **** }
 1670              		.loc 3 347 0 is_stmt 1
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 43


 1671 0158 A0E0     		b	.L99
 1672              	.L85:
 1673              	.LBB4:
 338:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       gain_ratio = EXTRACT16(MIN32(Q15_ONE,SHR32(spx_exp(MULT16_16(QCONST16(.2302585f,11),noise_sup
 1674              		.loc 3 338 0
 1675 015a BB68     		ldr	r3, [r7, #8]
 1676 015c 9BB2     		uxth	r3, r3
 1677 015e 1A46     		mov	r2, r3	@ movhi
 1678 0160 1201     		lsls	r2, r2, #4
 1679 0162 D21A     		subs	r2, r2, r3
 1680 0164 9200     		lsls	r2, r2, #2
 1681 0166 D31A     		subs	r3, r2, r3
 1682 0168 9B00     		lsls	r3, r3, #2
 1683 016a 9BB2     		uxth	r3, r3
 1684 016c 1BB2     		sxth	r3, r3
 1685 016e 1846     		mov	r0, r3
 1686 0170 FFF7FEFF 		bl	spx_exp
 1687 0174 0346     		mov	r3, r0
 1688 0176 5B10     		asrs	r3, r3, #1
 1689 0178 B3F5004F 		cmp	r3, #32768
 1690 017c 10DA     		bge	.L93
 338:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       gain_ratio = EXTRACT16(MIN32(Q15_ONE,SHR32(spx_exp(MULT16_16(QCONST16(.2302585f,11),noise_sup
 1691              		.loc 3 338 0 is_stmt 0 discriminator 1
 1692 017e BB68     		ldr	r3, [r7, #8]
 1693 0180 9BB2     		uxth	r3, r3
 1694 0182 1A46     		mov	r2, r3	@ movhi
 1695 0184 1201     		lsls	r2, r2, #4
 1696 0186 D21A     		subs	r2, r2, r3
 1697 0188 9200     		lsls	r2, r2, #2
 1698 018a D31A     		subs	r3, r2, r3
 1699 018c 9B00     		lsls	r3, r3, #2
 1700 018e 9BB2     		uxth	r3, r3
 1701 0190 1BB2     		sxth	r3, r3
 1702 0192 1846     		mov	r0, r3
 1703 0194 FFF7FEFF 		bl	spx_exp
 1704 0198 0346     		mov	r3, r0
 1705 019a 5B10     		asrs	r3, r3, #1
 1706 019c 1BB2     		sxth	r3, r3
 1707 019e 01E0     		b	.L94
 1708              	.L93:
 338:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       gain_ratio = EXTRACT16(MIN32(Q15_ONE,SHR32(spx_exp(MULT16_16(QCONST16(.2302585f,11),noise_sup
 1709              		.loc 3 338 0 discriminator 2
 1710 01a0 47F6FF73 		movw	r3, #32767
 1711              	.L94:
 338:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       gain_ratio = EXTRACT16(MIN32(Q15_ONE,SHR32(spx_exp(MULT16_16(QCONST16(.2302585f,11),noise_sup
 1712              		.loc 3 338 0 discriminator 4
 1713 01a4 FB82     		strh	r3, [r7, #22]	@ movhi
 339:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 1714              		.loc 3 339 0 is_stmt 1 discriminator 4
 1715 01a6 FB68     		ldr	r3, [r7, #12]
 1716 01a8 9AB2     		uxth	r2, r3
 1717 01aa BB68     		ldr	r3, [r7, #8]
 1718 01ac 9BB2     		uxth	r3, r3
 1719 01ae D31A     		subs	r3, r2, r3
 1720 01b0 9BB2     		uxth	r3, r3
 1721 01b2 1A46     		mov	r2, r3	@ movhi
 1722 01b4 1201     		lsls	r2, r2, #4
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 44


 1723 01b6 D21A     		subs	r2, r2, r3
 1724 01b8 9200     		lsls	r2, r2, #2
 1725 01ba D31A     		subs	r3, r2, r3
 1726 01bc DB00     		lsls	r3, r3, #3
 1727 01be 9BB2     		uxth	r3, r3
 1728 01c0 1BB2     		sxth	r3, r3
 1729 01c2 1846     		mov	r0, r3
 1730 01c4 FFF7FEFF 		bl	spx_exp
 1731 01c8 0346     		mov	r3, r0
 1732 01ca 5B10     		asrs	r3, r3, #1
 1733 01cc B3F5004F 		cmp	r3, #32768
 1734 01d0 14DA     		bge	.L95
 339:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 1735              		.loc 3 339 0 is_stmt 0 discriminator 1
 1736 01d2 FB68     		ldr	r3, [r7, #12]
 1737 01d4 9AB2     		uxth	r2, r3
 1738 01d6 BB68     		ldr	r3, [r7, #8]
 1739 01d8 9BB2     		uxth	r3, r3
 1740 01da D31A     		subs	r3, r2, r3
 1741 01dc 9BB2     		uxth	r3, r3
 1742 01de 1A46     		mov	r2, r3	@ movhi
 1743 01e0 1201     		lsls	r2, r2, #4
 1744 01e2 D21A     		subs	r2, r2, r3
 1745 01e4 9200     		lsls	r2, r2, #2
 1746 01e6 D31A     		subs	r3, r2, r3
 1747 01e8 DB00     		lsls	r3, r3, #3
 1748 01ea 9BB2     		uxth	r3, r3
 1749 01ec 1BB2     		sxth	r3, r3
 1750 01ee 1846     		mov	r0, r3
 1751 01f0 FFF7FEFF 		bl	spx_exp
 1752 01f4 0346     		mov	r3, r0
 1753 01f6 5B10     		asrs	r3, r3, #1
 1754 01f8 1BB2     		sxth	r3, r3
 1755 01fa 01E0     		b	.L96
 1756              	.L95:
 339:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 1757              		.loc 3 339 0 discriminator 2
 1758 01fc 47F6FF73 		movw	r3, #32767
 1759              	.L96:
 339:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 1760              		.loc 3 339 0 discriminator 4
 1761 0200 BB82     		strh	r3, [r7, #20]	@ movhi
 342:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          gain_floor[i] = MULT16_16_Q15(echo_gain,
 1762              		.loc 3 342 0 is_stmt 1 discriminator 4
 1763 0202 0023     		movs	r3, #0
 1764 0204 FB61     		str	r3, [r7, #28]
 1765 0206 45E0     		b	.L97
 1766              	.L98:
 343:STM32F10x_Speex_Lib/libspeex/preprocess.c ****                                        spx_sqrt(SHL32(EXTEND32(DIV32_16_Q15(MULT16_32_Q15(gain_rati
 1767              		.loc 3 343 0 discriminator 3
 1768 0208 FB69     		ldr	r3, [r7, #28]
 1769 020a 5B00     		lsls	r3, r3, #1
 1770 020c BA6B     		ldr	r2, [r7, #56]
 1771 020e D418     		adds	r4, r2, r3
 1772 0210 B7F91650 		ldrsh	r5, [r7, #22]
 1773 0214 B7F91430 		ldrsh	r3, [r7, #20]
 1774 0218 FA69     		ldr	r2, [r7, #28]
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 45


 1775 021a 9200     		lsls	r2, r2, #2
 1776 021c 7968     		ldr	r1, [r7, #4]
 1777 021e 0A44     		add	r2, r2, r1
 1778 0220 1268     		ldr	r2, [r2]
 1779 0222 4032     		adds	r2, r2, #64
 1780 0224 9215     		asrs	r2, r2, #22
 1781 0226 12B2     		sxth	r2, r2
 1782 0228 02FB03F2 		mul	r2, r2, r3
 1783 022c B7F91430 		ldrsh	r3, [r7, #20]
 1784 0230 F969     		ldr	r1, [r7, #28]
 1785 0232 8900     		lsls	r1, r1, #2
 1786 0234 7868     		ldr	r0, [r7, #4]
 1787 0236 0144     		add	r1, r1, r0
 1788 0238 0968     		ldr	r1, [r1]
 1789 023a 4031     		adds	r1, r1, #64
 1790 023c C911     		asrs	r1, r1, #7
 1791 023e C1F30E01 		ubfx	r1, r1, #0, #15
 1792 0242 01FB03F3 		mul	r3, r1, r3
 1793 0246 DB13     		asrs	r3, r3, #15
 1794 0248 1A44     		add	r2, r2, r3
 1795 024a FB69     		ldr	r3, [r7, #28]
 1796 024c 9B00     		lsls	r3, r3, #2
 1797 024e 3968     		ldr	r1, [r7]
 1798 0250 0B44     		add	r3, r3, r1
 1799 0252 1B68     		ldr	r3, [r3]
 1800 0254 D018     		adds	r0, r2, r3
 1801 0256 FB69     		ldr	r3, [r7, #28]
 1802 0258 9B00     		lsls	r3, r3, #2
 1803 025a 7A68     		ldr	r2, [r7, #4]
 1804 025c 1344     		add	r3, r3, r2
 1805 025e 1B68     		ldr	r3, [r3]
 1806 0260 4033     		adds	r3, r3, #64
 1807 0262 DB11     		asrs	r3, r3, #7
 1808 0264 5A1C     		adds	r2, r3, #1
 1809 0266 FB69     		ldr	r3, [r7, #28]
 1810 0268 9B00     		lsls	r3, r3, #2
 1811 026a 3968     		ldr	r1, [r7]
 1812 026c 0B44     		add	r3, r3, r1
 1813 026e 1B68     		ldr	r3, [r3]
 1814 0270 1344     		add	r3, r3, r2
 1815 0272 1946     		mov	r1, r3
 1816 0274 FFF7FEFF 		bl	DIV32_16_Q15
 1817 0278 0346     		mov	r3, r0
 1818 027a DB03     		lsls	r3, r3, #15
 1819 027c 1846     		mov	r0, r3
 1820 027e FFF7FEFF 		bl	spx_sqrt
 1821 0282 0346     		mov	r3, r0
 1822 0284 03FB05F3 		mul	r3, r3, r5
 1823 0288 DB13     		asrs	r3, r3, #15
 1824 028a 1BB2     		sxth	r3, r3
 1825 028c 2380     		strh	r3, [r4]	@ movhi
 342:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          gain_floor[i] = MULT16_16_Q15(echo_gain,
 1826              		.loc 3 342 0 discriminator 3
 1827 028e FB69     		ldr	r3, [r7, #28]
 1828 0290 0133     		adds	r3, r3, #1
 1829 0292 FB61     		str	r3, [r7, #28]
 1830              	.L97:
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 46


 342:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          gain_floor[i] = MULT16_16_Q15(echo_gain,
 1831              		.loc 3 342 0 is_stmt 0 discriminator 1
 1832 0294 FA69     		ldr	r2, [r7, #28]
 1833 0296 FB6B     		ldr	r3, [r7, #60]
 1834 0298 9A42     		cmp	r2, r3
 1835 029a B5DB     		blt	.L98
 1836              	.L99:
 1837              	.LBE4:
 1838              		.loc 3 347 0 is_stmt 1
 1839 029c 00BF     		nop
 1840 029e 2437     		adds	r7, r7, #36
 1841              	.LCFI92:
 1842              		.cfi_def_cfa_offset 20
 1843 02a0 BD46     		mov	sp, r7
 1844              	.LCFI93:
 1845              		.cfi_def_cfa_register 13
 1846              		@ sp needed
 1847 02a2 F0BD     		pop	{r4, r5, r6, r7, pc}
 1848              		.cfi_endproc
 1849              	.LFE26:
 1851              		.section	.text.speex_preprocess_state_init,"ax",%progbits
 1852              		.align	2
 1853              		.global	speex_preprocess_state_init
 1854              		.thumb
 1855              		.thumb_func
 1857              	speex_preprocess_state_init:
 1858              	.LFB27:
 348:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 349:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #else
 350:STM32F10x_Speex_Lib/libspeex/preprocess.c **** /* This function approximates the gain function 
 351:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    y = gamma(1.25)^2 * M(-.25;1;-x) / sqrt(x)  
 352:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    which multiplied by xi/(1+xi) is the optimal gain
 353:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    in the loudness domain ( sqrt[amplitude] )
 354:STM32F10x_Speex_Lib/libspeex/preprocess.c **** */
 355:STM32F10x_Speex_Lib/libspeex/preprocess.c **** static inline spx_word32_t hypergeom_gain(spx_word32_t xx)
 356:STM32F10x_Speex_Lib/libspeex/preprocess.c **** {
 357:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    int ind;
 358:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    float integer, frac;
 359:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    float x;
 360:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    static const float table[21] = {
 361:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       0.82157f, 1.02017f, 1.20461f, 1.37534f, 1.53363f, 1.68092f, 1.81865f,
 362:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       1.94811f, 2.07038f, 2.18638f, 2.29688f, 2.40255f, 2.50391f, 2.60144f,
 363:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       2.69551f, 2.78647f, 2.87458f, 2.96015f, 3.04333f, 3.12431f, 3.20326f};
 364:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       x = EXPIN_SCALING_1*xx;
 365:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       integer = floor(2*x);
 366:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       ind = (int)integer;
 367:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       if (ind<0)
 368:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          return FRAC_SCALING;
 369:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       if (ind>19)
 370:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          return FRAC_SCALING*(1+.1296/x);
 371:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       frac = 2*x-integer;
 372:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       return FRAC_SCALING*((1-frac)*table[ind] + frac*table[ind+1])/sqrt(x+.0001f);
 373:STM32F10x_Speex_Lib/libspeex/preprocess.c **** }
 374:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 375:STM32F10x_Speex_Lib/libspeex/preprocess.c **** static inline spx_word16_t qcurve(spx_word16_t x)
 376:STM32F10x_Speex_Lib/libspeex/preprocess.c **** {
 377:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    return 1.f/(1.f+.15f/(SNR_SCALING_1*x));
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 47


 378:STM32F10x_Speex_Lib/libspeex/preprocess.c **** }
 379:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 380:STM32F10x_Speex_Lib/libspeex/preprocess.c **** static void compute_gain_floor(int noise_suppress, int effective_echo_suppress, spx_word32_t *noise
 381:STM32F10x_Speex_Lib/libspeex/preprocess.c **** {
 382:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    int i;
 383:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    float echo_floor;
 384:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    float noise_floor;
 385:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 386:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    noise_floor = exp(.2302585f*noise_suppress);
 387:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    echo_floor = exp(.2302585f*effective_echo_suppress);
 388:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 389:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    /* Compute the gain floor based on different floors for the background noise and residual echo *
 390:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=0;i<len;i++)
 391:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       gain_floor[i] = FRAC_SCALING*sqrt(noise_floor*PSHR32(noise[i],NOISE_SHIFT) + echo_floor*echo[
 392:STM32F10x_Speex_Lib/libspeex/preprocess.c **** }
 393:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 394:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #endif
 395:STM32F10x_Speex_Lib/libspeex/preprocess.c **** EXPORT SpeexPreprocessState *speex_preprocess_state_init(int frame_size, int sampling_rate)
 396:STM32F10x_Speex_Lib/libspeex/preprocess.c **** {
 1859              		.loc 3 396 0
 1860              		.cfi_startproc
 1861              		@ args = 0, pretend = 0, frame = 32
 1862              		@ frame_needed = 1, uses_anonymous_args = 0
 1863 0000 80B5     		push	{r7, lr}
 1864              	.LCFI94:
 1865              		.cfi_def_cfa_offset 8
 1866              		.cfi_offset 7, -8
 1867              		.cfi_offset 14, -4
 1868 0002 88B0     		sub	sp, sp, #32
 1869              	.LCFI95:
 1870              		.cfi_def_cfa_offset 40
 1871 0004 00AF     		add	r7, sp, #0
 1872              	.LCFI96:
 1873              		.cfi_def_cfa_register 7
 1874 0006 7860     		str	r0, [r7, #4]
 1875 0008 3960     		str	r1, [r7]
 397:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    int i;
 398:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    int N, N3, N4, M;
 399:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 400:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    SpeexPreprocessState *st = (SpeexPreprocessState *)speex_alloc(sizeof(SpeexPreprocessState));
 1876              		.loc 3 400 0
 1877 000a A420     		movs	r0, #164
 1878 000c FFF7FEFF 		bl	speex_alloc
 1879 0010 B861     		str	r0, [r7, #24]
 401:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->frame_size = frame_size;
 1880              		.loc 3 401 0
 1881 0012 BB69     		ldr	r3, [r7, #24]
 1882 0014 7A68     		ldr	r2, [r7, #4]
 1883 0016 1A60     		str	r2, [r3]
 402:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 403:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    /* Round ps_size down to the nearest power of two */
 404:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #if 0
 405:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    i=1;
 406:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->ps_size = st->frame_size;
 407:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    while(1)
 408:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    {
 409:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       if (st->ps_size & ~i)
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 48


 410:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       {
 411:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          st->ps_size &= ~i;
 412:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          i<<=1;
 413:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       } else {
 414:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          break;
 415:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       }
 416:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    }
 417:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    
 418:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    
 419:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    if (st->ps_size < 3*st->frame_size/4)
 420:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->ps_size = st->ps_size * 3 / 2;
 421:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #else
 422:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->ps_size = st->frame_size;
 1884              		.loc 3 422 0
 1885 0018 BB69     		ldr	r3, [r7, #24]
 1886 001a 1A68     		ldr	r2, [r3]
 1887 001c BB69     		ldr	r3, [r7, #24]
 1888 001e 5A60     		str	r2, [r3, #4]
 423:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #endif
 424:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 425:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    N = st->ps_size;
 1889              		.loc 3 425 0
 1890 0020 BB69     		ldr	r3, [r7, #24]
 1891 0022 5B68     		ldr	r3, [r3, #4]
 1892 0024 7B61     		str	r3, [r7, #20]
 426:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    N3 = 2*N - st->frame_size;
 1893              		.loc 3 426 0
 1894 0026 7B69     		ldr	r3, [r7, #20]
 1895 0028 5A00     		lsls	r2, r3, #1
 1896 002a BB69     		ldr	r3, [r7, #24]
 1897 002c 1B68     		ldr	r3, [r3]
 1898 002e D31A     		subs	r3, r2, r3
 1899 0030 3B61     		str	r3, [r7, #16]
 427:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    N4 = st->frame_size - N3;
 1900              		.loc 3 427 0
 1901 0032 BB69     		ldr	r3, [r7, #24]
 1902 0034 1A68     		ldr	r2, [r3]
 1903 0036 3B69     		ldr	r3, [r7, #16]
 1904 0038 D31A     		subs	r3, r2, r3
 1905 003a FB60     		str	r3, [r7, #12]
 428:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    
 429:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->sampling_rate = sampling_rate;
 1906              		.loc 3 429 0
 1907 003c BB69     		ldr	r3, [r7, #24]
 1908 003e 3A68     		ldr	r2, [r7]
 1909 0040 9A60     		str	r2, [r3, #8]
 430:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->denoise_enabled = 1;
 1910              		.loc 3 430 0
 1911 0042 BB69     		ldr	r3, [r7, #24]
 1912 0044 0122     		movs	r2, #1
 1913 0046 5A61     		str	r2, [r3, #20]
 431:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->vad_enabled = 0;
 1914              		.loc 3 431 0
 1915 0048 BB69     		ldr	r3, [r7, #24]
 1916 004a 0022     		movs	r2, #0
 1917 004c 9A61     		str	r2, [r3, #24]
 432:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->dereverb_enabled = 0;
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 49


 1918              		.loc 3 432 0
 1919 004e BB69     		ldr	r3, [r7, #24]
 1920 0050 0022     		movs	r2, #0
 1921 0052 DA61     		str	r2, [r3, #28]
 433:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->reverb_decay = 0;
 1922              		.loc 3 433 0
 1923 0054 BB69     		ldr	r3, [r7, #24]
 1924 0056 0022     		movs	r2, #0
 1925 0058 1A84     		strh	r2, [r3, #32]	@ movhi
 434:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->reverb_level = 0;
 1926              		.loc 3 434 0
 1927 005a BB69     		ldr	r3, [r7, #24]
 1928 005c 0022     		movs	r2, #0
 1929 005e 5A84     		strh	r2, [r3, #34]	@ movhi
 435:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->noise_suppress = NOISE_SUPPRESS_DEFAULT;
 1930              		.loc 3 435 0
 1931 0060 BB69     		ldr	r3, [r7, #24]
 1932 0062 6FF00E02 		mvn	r2, #14
 1933 0066 9A62     		str	r2, [r3, #40]
 436:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->echo_suppress = ECHO_SUPPRESS_DEFAULT;
 1934              		.loc 3 436 0
 1935 0068 BB69     		ldr	r3, [r7, #24]
 1936 006a 6FF02702 		mvn	r2, #39
 1937 006e DA62     		str	r2, [r3, #44]
 437:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->echo_suppress_active = ECHO_SUPPRESS_ACTIVE_DEFAULT;
 1938              		.loc 3 437 0
 1939 0070 BB69     		ldr	r3, [r7, #24]
 1940 0072 6FF00E02 		mvn	r2, #14
 1941 0076 1A63     		str	r2, [r3, #48]
 438:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 439:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->speech_prob_start = SPEECH_PROB_START_DEFAULT;
 1942              		.loc 3 439 0
 1943 0078 BB69     		ldr	r3, [r7, #24]
 1944 007a 42F6CD42 		movw	r2, #11469
 1945 007e 9A84     		strh	r2, [r3, #36]	@ movhi
 440:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->speech_prob_continue = SPEECH_PROB_CONTINUE_DEFAULT;
 1946              		.loc 3 440 0
 1947 0080 BB69     		ldr	r3, [r7, #24]
 1948 0082 41F69A12 		movw	r2, #6554
 1949 0086 DA84     		strh	r2, [r3, #38]	@ movhi
 441:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 442:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->echo_state = NULL;
 1950              		.loc 3 442 0
 1951 0088 BB69     		ldr	r3, [r7, #24]
 1952 008a 0022     		movs	r2, #0
 1953 008c 5A63     		str	r2, [r3, #52]
 443:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    
 444:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->nbands = NB_BANDS;
 1954              		.loc 3 444 0
 1955 008e BB69     		ldr	r3, [r7, #24]
 1956 0090 1822     		movs	r2, #24
 1957 0092 DA60     		str	r2, [r3, #12]
 445:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    M = st->nbands;
 1958              		.loc 3 445 0
 1959 0094 BB69     		ldr	r3, [r7, #24]
 1960 0096 DB68     		ldr	r3, [r3, #12]
 1961 0098 BB60     		str	r3, [r7, #8]
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 50


 446:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->bank = filterbank_new(M, sampling_rate, N, 1);
 1962              		.loc 3 446 0
 1963 009a 0123     		movs	r3, #1
 1964 009c 7A69     		ldr	r2, [r7, #20]
 1965 009e 3968     		ldr	r1, [r7]
 1966 00a0 B868     		ldr	r0, [r7, #8]
 1967 00a2 FFF7FEFF 		bl	filterbank_new
 1968 00a6 0246     		mov	r2, r0
 1969 00a8 BB69     		ldr	r3, [r7, #24]
 1970 00aa 1A61     		str	r2, [r3, #16]
 447:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    
 448:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->frame = (spx_word16_t*)speex_alloc(2*N*sizeof(spx_word16_t));
 1971              		.loc 3 448 0
 1972 00ac 7B69     		ldr	r3, [r7, #20]
 1973 00ae 9B00     		lsls	r3, r3, #2
 1974 00b0 1846     		mov	r0, r3
 1975 00b2 FFF7FEFF 		bl	speex_alloc
 1976 00b6 0246     		mov	r2, r0
 1977 00b8 BB69     		ldr	r3, [r7, #24]
 1978 00ba DA63     		str	r2, [r3, #60]
 449:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->window = (spx_word16_t*)speex_alloc(2*N*sizeof(spx_word16_t));
 1979              		.loc 3 449 0
 1980 00bc 7B69     		ldr	r3, [r7, #20]
 1981 00be 9B00     		lsls	r3, r3, #2
 1982 00c0 1846     		mov	r0, r3
 1983 00c2 FFF7FEFF 		bl	speex_alloc
 1984 00c6 0246     		mov	r2, r0
 1985 00c8 BB69     		ldr	r3, [r7, #24]
 1986 00ca 1A65     		str	r2, [r3, #80]
 450:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->ft = (spx_word16_t*)speex_alloc(2*N*sizeof(spx_word16_t));
 1987              		.loc 3 450 0
 1988 00cc 7B69     		ldr	r3, [r7, #20]
 1989 00ce 9B00     		lsls	r3, r3, #2
 1990 00d0 1846     		mov	r0, r3
 1991 00d2 FFF7FEFF 		bl	speex_alloc
 1992 00d6 0246     		mov	r2, r0
 1993 00d8 BB69     		ldr	r3, [r7, #24]
 1994 00da 1A64     		str	r2, [r3, #64]
 451:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    
 452:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->ps = (spx_word32_t*)speex_alloc((N+M)*sizeof(spx_word32_t));
 1995              		.loc 3 452 0
 1996 00dc 7A69     		ldr	r2, [r7, #20]
 1997 00de BB68     		ldr	r3, [r7, #8]
 1998 00e0 1344     		add	r3, r3, r2
 1999 00e2 9B00     		lsls	r3, r3, #2
 2000 00e4 1846     		mov	r0, r3
 2001 00e6 FFF7FEFF 		bl	speex_alloc
 2002 00ea 0246     		mov	r2, r0
 2003 00ec BB69     		ldr	r3, [r7, #24]
 2004 00ee 5A64     		str	r2, [r3, #68]
 453:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->noise = (spx_word32_t*)speex_alloc((N+M)*sizeof(spx_word32_t));
 2005              		.loc 3 453 0
 2006 00f0 7A69     		ldr	r2, [r7, #20]
 2007 00f2 BB68     		ldr	r3, [r7, #8]
 2008 00f4 1344     		add	r3, r3, r2
 2009 00f6 9B00     		lsls	r3, r3, #2
 2010 00f8 1846     		mov	r0, r3
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 51


 2011 00fa FFF7FEFF 		bl	speex_alloc
 2012 00fe 0246     		mov	r2, r0
 2013 0100 BB69     		ldr	r3, [r7, #24]
 2014 0102 5A65     		str	r2, [r3, #84]
 454:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->echo_noise = (spx_word32_t*)speex_alloc((N+M)*sizeof(spx_word32_t));
 2015              		.loc 3 454 0
 2016 0104 7A69     		ldr	r2, [r7, #20]
 2017 0106 BB68     		ldr	r3, [r7, #8]
 2018 0108 1344     		add	r3, r3, r2
 2019 010a 9B00     		lsls	r3, r3, #2
 2020 010c 1846     		mov	r0, r3
 2021 010e FFF7FEFF 		bl	speex_alloc
 2022 0112 0246     		mov	r2, r0
 2023 0114 BB69     		ldr	r3, [r7, #24]
 2024 0116 C3F88020 		str	r2, [r3, #128]
 455:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->residual_echo = (spx_word32_t*)speex_alloc((N+M)*sizeof(spx_word32_t));
 2025              		.loc 3 455 0
 2026 011a 7A69     		ldr	r2, [r7, #20]
 2027 011c BB68     		ldr	r3, [r7, #8]
 2028 011e 1344     		add	r3, r3, r2
 2029 0120 9B00     		lsls	r3, r3, #2
 2030 0122 1846     		mov	r0, r3
 2031 0124 FFF7FEFF 		bl	speex_alloc
 2032 0128 0246     		mov	r2, r0
 2033 012a BB69     		ldr	r3, [r7, #24]
 2034 012c C3F88420 		str	r2, [r3, #132]
 456:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->reverb_estimate = (spx_word32_t*)speex_alloc((N+M)*sizeof(spx_word32_t));
 2035              		.loc 3 456 0
 2036 0130 7A69     		ldr	r2, [r7, #20]
 2037 0132 BB68     		ldr	r3, [r7, #8]
 2038 0134 1344     		add	r3, r3, r2
 2039 0136 9B00     		lsls	r3, r3, #2
 2040 0138 1846     		mov	r0, r3
 2041 013a FFF7FEFF 		bl	speex_alloc
 2042 013e 0246     		mov	r2, r0
 2043 0140 BB69     		ldr	r3, [r7, #24]
 2044 0142 9A65     		str	r2, [r3, #88]
 457:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->old_ps = (spx_word32_t*)speex_alloc((N+M)*sizeof(spx_word32_t));
 2045              		.loc 3 457 0
 2046 0144 7A69     		ldr	r2, [r7, #20]
 2047 0146 BB68     		ldr	r3, [r7, #8]
 2048 0148 1344     		add	r3, r3, r2
 2049 014a 9B00     		lsls	r3, r3, #2
 2050 014c 1846     		mov	r0, r3
 2051 014e FFF7FEFF 		bl	speex_alloc
 2052 0152 0246     		mov	r2, r0
 2053 0154 BB69     		ldr	r3, [r7, #24]
 2054 0156 DA65     		str	r2, [r3, #92]
 458:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->prior = (spx_word16_t*)speex_alloc((N+M)*sizeof(spx_word16_t));
 2055              		.loc 3 458 0
 2056 0158 7A69     		ldr	r2, [r7, #20]
 2057 015a BB68     		ldr	r3, [r7, #8]
 2058 015c 1344     		add	r3, r3, r2
 2059 015e 5B00     		lsls	r3, r3, #1
 2060 0160 1846     		mov	r0, r3
 2061 0162 FFF7FEFF 		bl	speex_alloc
 2062 0166 0246     		mov	r2, r0
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 52


 2063 0168 BB69     		ldr	r3, [r7, #24]
 2064 016a 5A66     		str	r2, [r3, #100]
 459:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->post = (spx_word16_t*)speex_alloc((N+M)*sizeof(spx_word16_t));
 2065              		.loc 3 459 0
 2066 016c 7A69     		ldr	r2, [r7, #20]
 2067 016e BB68     		ldr	r3, [r7, #8]
 2068 0170 1344     		add	r3, r3, r2
 2069 0172 5B00     		lsls	r3, r3, #1
 2070 0174 1846     		mov	r0, r3
 2071 0176 FFF7FEFF 		bl	speex_alloc
 2072 017a 0246     		mov	r2, r0
 2073 017c BB69     		ldr	r3, [r7, #24]
 2074 017e 9A66     		str	r2, [r3, #104]
 460:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->gain = (spx_word16_t*)speex_alloc((N+M)*sizeof(spx_word16_t));
 2075              		.loc 3 460 0
 2076 0180 7A69     		ldr	r2, [r7, #20]
 2077 0182 BB68     		ldr	r3, [r7, #8]
 2078 0184 1344     		add	r3, r3, r2
 2079 0186 5B00     		lsls	r3, r3, #1
 2080 0188 1846     		mov	r0, r3
 2081 018a FFF7FEFF 		bl	speex_alloc
 2082 018e 0246     		mov	r2, r0
 2083 0190 BB69     		ldr	r3, [r7, #24]
 2084 0192 1A66     		str	r2, [r3, #96]
 461:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->gain2 = (spx_word16_t*)speex_alloc((N+M)*sizeof(spx_word16_t));
 2085              		.loc 3 461 0
 2086 0194 7A69     		ldr	r2, [r7, #20]
 2087 0196 BB68     		ldr	r3, [r7, #8]
 2088 0198 1344     		add	r3, r3, r2
 2089 019a 5B00     		lsls	r3, r3, #1
 2090 019c 1846     		mov	r0, r3
 2091 019e FFF7FEFF 		bl	speex_alloc
 2092 01a2 0246     		mov	r2, r0
 2093 01a4 BB69     		ldr	r3, [r7, #24]
 2094 01a6 9A64     		str	r2, [r3, #72]
 462:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->gain_floor = (spx_word16_t*)speex_alloc((N+M)*sizeof(spx_word16_t));
 2095              		.loc 3 462 0
 2096 01a8 7A69     		ldr	r2, [r7, #20]
 2097 01aa BB68     		ldr	r3, [r7, #8]
 2098 01ac 1344     		add	r3, r3, r2
 2099 01ae 5B00     		lsls	r3, r3, #1
 2100 01b0 1846     		mov	r0, r3
 2101 01b2 FFF7FEFF 		bl	speex_alloc
 2102 01b6 0246     		mov	r2, r0
 2103 01b8 BB69     		ldr	r3, [r7, #24]
 2104 01ba DA64     		str	r2, [r3, #76]
 463:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->zeta = (spx_word16_t*)speex_alloc((N+M)*sizeof(spx_word16_t));
 2105              		.loc 3 463 0
 2106 01bc 7A69     		ldr	r2, [r7, #20]
 2107 01be BB68     		ldr	r3, [r7, #8]
 2108 01c0 1344     		add	r3, r3, r2
 2109 01c2 5B00     		lsls	r3, r3, #1
 2110 01c4 1846     		mov	r0, r3
 2111 01c6 FFF7FEFF 		bl	speex_alloc
 2112 01ca 0246     		mov	r2, r0
 2113 01cc BB69     		ldr	r3, [r7, #24]
 2114 01ce DA67     		str	r2, [r3, #124]
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 53


 464:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    
 465:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->S = (spx_word32_t*)speex_alloc(N*sizeof(spx_word32_t));
 2115              		.loc 3 465 0
 2116 01d0 7B69     		ldr	r3, [r7, #20]
 2117 01d2 9B00     		lsls	r3, r3, #2
 2118 01d4 1846     		mov	r0, r3
 2119 01d6 FFF7FEFF 		bl	speex_alloc
 2120 01da 0246     		mov	r2, r0
 2121 01dc BB69     		ldr	r3, [r7, #24]
 2122 01de DA66     		str	r2, [r3, #108]
 466:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->Smin = (spx_word32_t*)speex_alloc(N*sizeof(spx_word32_t));
 2123              		.loc 3 466 0
 2124 01e0 7B69     		ldr	r3, [r7, #20]
 2125 01e2 9B00     		lsls	r3, r3, #2
 2126 01e4 1846     		mov	r0, r3
 2127 01e6 FFF7FEFF 		bl	speex_alloc
 2128 01ea 0246     		mov	r2, r0
 2129 01ec BB69     		ldr	r3, [r7, #24]
 2130 01ee 1A67     		str	r2, [r3, #112]
 467:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->Stmp = (spx_word32_t*)speex_alloc(N*sizeof(spx_word32_t));
 2131              		.loc 3 467 0
 2132 01f0 7B69     		ldr	r3, [r7, #20]
 2133 01f2 9B00     		lsls	r3, r3, #2
 2134 01f4 1846     		mov	r0, r3
 2135 01f6 FFF7FEFF 		bl	speex_alloc
 2136 01fa 0246     		mov	r2, r0
 2137 01fc BB69     		ldr	r3, [r7, #24]
 2138 01fe 5A67     		str	r2, [r3, #116]
 468:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->update_prob = (int*)speex_alloc(N*sizeof(int));
 2139              		.loc 3 468 0
 2140 0200 7B69     		ldr	r3, [r7, #20]
 2141 0202 9B00     		lsls	r3, r3, #2
 2142 0204 1846     		mov	r0, r3
 2143 0206 FFF7FEFF 		bl	speex_alloc
 2144 020a 0246     		mov	r2, r0
 2145 020c BB69     		ldr	r3, [r7, #24]
 2146 020e 9A67     		str	r2, [r3, #120]
 469:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    
 470:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->inbuf = (spx_word16_t*)speex_alloc(N3*sizeof(spx_word16_t));
 2147              		.loc 3 470 0
 2148 0210 3B69     		ldr	r3, [r7, #16]
 2149 0212 5B00     		lsls	r3, r3, #1
 2150 0214 1846     		mov	r0, r3
 2151 0216 FFF7FEFF 		bl	speex_alloc
 2152 021a 0246     		mov	r2, r0
 2153 021c BB69     		ldr	r3, [r7, #24]
 2154 021e C3F88820 		str	r2, [r3, #136]
 471:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->outbuf = (spx_word16_t*)speex_alloc(N3*sizeof(spx_word16_t));
 2155              		.loc 3 471 0
 2156 0222 3B69     		ldr	r3, [r7, #16]
 2157 0224 5B00     		lsls	r3, r3, #1
 2158 0226 1846     		mov	r0, r3
 2159 0228 FFF7FEFF 		bl	speex_alloc
 2160 022c 0246     		mov	r2, r0
 2161 022e BB69     		ldr	r3, [r7, #24]
 2162 0230 C3F88C20 		str	r2, [r3, #140]
 472:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 54


 473:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    conj_window(st->window, 2*N3);
 2163              		.loc 3 473 0
 2164 0234 BB69     		ldr	r3, [r7, #24]
 2165 0236 1A6D     		ldr	r2, [r3, #80]
 2166 0238 3B69     		ldr	r3, [r7, #16]
 2167 023a 5B00     		lsls	r3, r3, #1
 2168 023c 1946     		mov	r1, r3
 2169 023e 1046     		mov	r0, r2
 2170 0240 FFF7FEFF 		bl	conj_window
 474:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=2*N3;i<2*st->ps_size;i++)
 2171              		.loc 3 474 0
 2172 0244 3B69     		ldr	r3, [r7, #16]
 2173 0246 5B00     		lsls	r3, r3, #1
 2174 0248 FB61     		str	r3, [r7, #28]
 2175 024a 0AE0     		b	.L101
 2176              	.L102:
 475:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->window[i]=Q15_ONE;
 2177              		.loc 3 475 0 discriminator 3
 2178 024c BB69     		ldr	r3, [r7, #24]
 2179 024e 1A6D     		ldr	r2, [r3, #80]
 2180 0250 FB69     		ldr	r3, [r7, #28]
 2181 0252 5B00     		lsls	r3, r3, #1
 2182 0254 1344     		add	r3, r3, r2
 2183 0256 47F6FF72 		movw	r2, #32767
 2184 025a 1A80     		strh	r2, [r3]	@ movhi
 474:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=2*N3;i<2*st->ps_size;i++)
 2185              		.loc 3 474 0 discriminator 3
 2186 025c FB69     		ldr	r3, [r7, #28]
 2187 025e 0133     		adds	r3, r3, #1
 2188 0260 FB61     		str	r3, [r7, #28]
 2189              	.L101:
 474:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=2*N3;i<2*st->ps_size;i++)
 2190              		.loc 3 474 0 is_stmt 0 discriminator 1
 2191 0262 BB69     		ldr	r3, [r7, #24]
 2192 0264 5B68     		ldr	r3, [r3, #4]
 2193 0266 5A00     		lsls	r2, r3, #1
 2194 0268 FB69     		ldr	r3, [r7, #28]
 2195 026a 9A42     		cmp	r2, r3
 2196 026c EEDC     		bgt	.L102
 476:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    
 477:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    if (N4>0)
 2197              		.loc 3 477 0 is_stmt 1
 2198 026e FB68     		ldr	r3, [r7, #12]
 2199 0270 002B     		cmp	r3, #0
 2200 0272 25DD     		ble	.L103
 478:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    {
 479:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       for (i=N3-1;i>=0;i--)
 2201              		.loc 3 479 0
 2202 0274 3B69     		ldr	r3, [r7, #16]
 2203 0276 013B     		subs	r3, r3, #1
 2204 0278 FB61     		str	r3, [r7, #28]
 2205 027a 1EE0     		b	.L104
 2206              	.L105:
 480:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       {
 481:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          st->window[i+N3+N4]=st->window[i+N3];
 2207              		.loc 3 481 0 discriminator 3
 2208 027c BB69     		ldr	r3, [r7, #24]
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 55


 2209 027e 1A6D     		ldr	r2, [r3, #80]
 2210 0280 F969     		ldr	r1, [r7, #28]
 2211 0282 3B69     		ldr	r3, [r7, #16]
 2212 0284 1944     		add	r1, r1, r3
 2213 0286 FB68     		ldr	r3, [r7, #12]
 2214 0288 0B44     		add	r3, r3, r1
 2215 028a 5B00     		lsls	r3, r3, #1
 2216 028c 1344     		add	r3, r3, r2
 2217 028e BA69     		ldr	r2, [r7, #24]
 2218 0290 116D     		ldr	r1, [r2, #80]
 2219 0292 F869     		ldr	r0, [r7, #28]
 2220 0294 3A69     		ldr	r2, [r7, #16]
 2221 0296 0244     		add	r2, r2, r0
 2222 0298 5200     		lsls	r2, r2, #1
 2223 029a 0A44     		add	r2, r2, r1
 2224 029c B2F90020 		ldrsh	r2, [r2]
 2225 02a0 1A80     		strh	r2, [r3]	@ movhi
 482:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          st->window[i+N3]=1;
 2226              		.loc 3 482 0 discriminator 3
 2227 02a2 BB69     		ldr	r3, [r7, #24]
 2228 02a4 1A6D     		ldr	r2, [r3, #80]
 2229 02a6 F969     		ldr	r1, [r7, #28]
 2230 02a8 3B69     		ldr	r3, [r7, #16]
 2231 02aa 0B44     		add	r3, r3, r1
 2232 02ac 5B00     		lsls	r3, r3, #1
 2233 02ae 1344     		add	r3, r3, r2
 2234 02b0 0122     		movs	r2, #1
 2235 02b2 1A80     		strh	r2, [r3]	@ movhi
 479:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       {
 2236              		.loc 3 479 0 discriminator 3
 2237 02b4 FB69     		ldr	r3, [r7, #28]
 2238 02b6 013B     		subs	r3, r3, #1
 2239 02b8 FB61     		str	r3, [r7, #28]
 2240              	.L104:
 479:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       {
 2241              		.loc 3 479 0 is_stmt 0 discriminator 1
 2242 02ba FB69     		ldr	r3, [r7, #28]
 2243 02bc 002B     		cmp	r3, #0
 2244 02be DDDA     		bge	.L105
 2245              	.L103:
 483:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       }
 484:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    }
 485:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=0;i<N+M;i++)
 2246              		.loc 3 485 0 is_stmt 1
 2247 02c0 0023     		movs	r3, #0
 2248 02c2 FB61     		str	r3, [r7, #28]
 2249 02c4 2FE0     		b	.L106
 2250              	.L107:
 486:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    {
 487:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->noise[i]=QCONST32(1.f,NOISE_SHIFT);
 2251              		.loc 3 487 0 discriminator 3
 2252 02c6 BB69     		ldr	r3, [r7, #24]
 2253 02c8 5A6D     		ldr	r2, [r3, #84]
 2254 02ca FB69     		ldr	r3, [r7, #28]
 2255 02cc 9B00     		lsls	r3, r3, #2
 2256 02ce 1344     		add	r3, r3, r2
 2257 02d0 8022     		movs	r2, #128
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 56


 2258 02d2 1A60     		str	r2, [r3]
 488:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->reverb_estimate[i]=0;
 2259              		.loc 3 488 0 discriminator 3
 2260 02d4 BB69     		ldr	r3, [r7, #24]
 2261 02d6 9A6D     		ldr	r2, [r3, #88]
 2262 02d8 FB69     		ldr	r3, [r7, #28]
 2263 02da 9B00     		lsls	r3, r3, #2
 2264 02dc 1344     		add	r3, r3, r2
 2265 02de 0022     		movs	r2, #0
 2266 02e0 1A60     		str	r2, [r3]
 489:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->old_ps[i]=1;
 2267              		.loc 3 489 0 discriminator 3
 2268 02e2 BB69     		ldr	r3, [r7, #24]
 2269 02e4 DA6D     		ldr	r2, [r3, #92]
 2270 02e6 FB69     		ldr	r3, [r7, #28]
 2271 02e8 9B00     		lsls	r3, r3, #2
 2272 02ea 1344     		add	r3, r3, r2
 2273 02ec 0122     		movs	r2, #1
 2274 02ee 1A60     		str	r2, [r3]
 490:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->gain[i]=Q15_ONE;
 2275              		.loc 3 490 0 discriminator 3
 2276 02f0 BB69     		ldr	r3, [r7, #24]
 2277 02f2 1A6E     		ldr	r2, [r3, #96]
 2278 02f4 FB69     		ldr	r3, [r7, #28]
 2279 02f6 5B00     		lsls	r3, r3, #1
 2280 02f8 1344     		add	r3, r3, r2
 2281 02fa 47F6FF72 		movw	r2, #32767
 2282 02fe 1A80     		strh	r2, [r3]	@ movhi
 491:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->post[i]=SHL16(1, SNR_SHIFT);
 2283              		.loc 3 491 0 discriminator 3
 2284 0300 BB69     		ldr	r3, [r7, #24]
 2285 0302 9A6E     		ldr	r2, [r3, #104]
 2286 0304 FB69     		ldr	r3, [r7, #28]
 2287 0306 5B00     		lsls	r3, r3, #1
 2288 0308 1344     		add	r3, r3, r2
 2289 030a 4FF48072 		mov	r2, #256
 2290 030e 1A80     		strh	r2, [r3]	@ movhi
 492:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->prior[i]=SHL16(1, SNR_SHIFT);
 2291              		.loc 3 492 0 discriminator 3
 2292 0310 BB69     		ldr	r3, [r7, #24]
 2293 0312 5A6E     		ldr	r2, [r3, #100]
 2294 0314 FB69     		ldr	r3, [r7, #28]
 2295 0316 5B00     		lsls	r3, r3, #1
 2296 0318 1344     		add	r3, r3, r2
 2297 031a 4FF48072 		mov	r2, #256
 2298 031e 1A80     		strh	r2, [r3]	@ movhi
 485:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    {
 2299              		.loc 3 485 0 discriminator 3
 2300 0320 FB69     		ldr	r3, [r7, #28]
 2301 0322 0133     		adds	r3, r3, #1
 2302 0324 FB61     		str	r3, [r7, #28]
 2303              	.L106:
 485:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    {
 2304              		.loc 3 485 0 is_stmt 0 discriminator 1
 2305 0326 7A69     		ldr	r2, [r7, #20]
 2306 0328 BB68     		ldr	r3, [r7, #8]
 2307 032a 1A44     		add	r2, r2, r3
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 57


 2308 032c FB69     		ldr	r3, [r7, #28]
 2309 032e 9A42     		cmp	r2, r3
 2310 0330 C9DC     		bgt	.L107
 493:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    }
 494:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 495:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=0;i<N;i++)
 2311              		.loc 3 495 0 is_stmt 1
 2312 0332 0023     		movs	r3, #0
 2313 0334 FB61     		str	r3, [r7, #28]
 2314 0336 09E0     		b	.L108
 2315              	.L109:
 496:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->update_prob[i] = 1;
 2316              		.loc 3 496 0 discriminator 3
 2317 0338 BB69     		ldr	r3, [r7, #24]
 2318 033a 9A6F     		ldr	r2, [r3, #120]
 2319 033c FB69     		ldr	r3, [r7, #28]
 2320 033e 9B00     		lsls	r3, r3, #2
 2321 0340 1344     		add	r3, r3, r2
 2322 0342 0122     		movs	r2, #1
 2323 0344 1A60     		str	r2, [r3]
 495:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->update_prob[i] = 1;
 2324              		.loc 3 495 0 discriminator 3
 2325 0346 FB69     		ldr	r3, [r7, #28]
 2326 0348 0133     		adds	r3, r3, #1
 2327 034a FB61     		str	r3, [r7, #28]
 2328              	.L108:
 495:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->update_prob[i] = 1;
 2329              		.loc 3 495 0 is_stmt 0 discriminator 1
 2330 034c FA69     		ldr	r2, [r7, #28]
 2331 034e 7B69     		ldr	r3, [r7, #20]
 2332 0350 9A42     		cmp	r2, r3
 2333 0352 F1DB     		blt	.L109
 497:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=0;i<N3;i++)
 2334              		.loc 3 497 0 is_stmt 1
 2335 0354 0023     		movs	r3, #0
 2336 0356 FB61     		str	r3, [r7, #28]
 2337 0358 12E0     		b	.L110
 2338              	.L111:
 498:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    {
 499:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->inbuf[i]=0;
 2339              		.loc 3 499 0 discriminator 3
 2340 035a BB69     		ldr	r3, [r7, #24]
 2341 035c D3F88820 		ldr	r2, [r3, #136]
 2342 0360 FB69     		ldr	r3, [r7, #28]
 2343 0362 5B00     		lsls	r3, r3, #1
 2344 0364 1344     		add	r3, r3, r2
 2345 0366 0022     		movs	r2, #0
 2346 0368 1A80     		strh	r2, [r3]	@ movhi
 500:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->outbuf[i]=0;
 2347              		.loc 3 500 0 discriminator 3
 2348 036a BB69     		ldr	r3, [r7, #24]
 2349 036c D3F88C20 		ldr	r2, [r3, #140]
 2350 0370 FB69     		ldr	r3, [r7, #28]
 2351 0372 5B00     		lsls	r3, r3, #1
 2352 0374 1344     		add	r3, r3, r2
 2353 0376 0022     		movs	r2, #0
 2354 0378 1A80     		strh	r2, [r3]	@ movhi
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 58


 497:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=0;i<N3;i++)
 2355              		.loc 3 497 0 discriminator 3
 2356 037a FB69     		ldr	r3, [r7, #28]
 2357 037c 0133     		adds	r3, r3, #1
 2358 037e FB61     		str	r3, [r7, #28]
 2359              	.L110:
 497:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=0;i<N3;i++)
 2360              		.loc 3 497 0 is_stmt 0 discriminator 1
 2361 0380 FA69     		ldr	r2, [r7, #28]
 2362 0382 3B69     		ldr	r3, [r7, #16]
 2363 0384 9A42     		cmp	r2, r3
 2364 0386 E8DB     		blt	.L111
 501:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    }
 502:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #ifndef FIXED_POINT
 503:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->agc_enabled = 0;
 504:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->agc_level = 8000;
 505:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->loudness_weight = (float*)speex_alloc(N*sizeof(float));
 506:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=0;i<N;i++)
 507:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    {
 508:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       float ff=((float)i)*.5*sampling_rate/((float)N);
 509:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       /*st->loudness_weight[i] = .5f*(1.f/(1.f+ff/8000.f))+1.f*exp(-.5f*(ff-3800.f)*(ff-3800.f)/9e5
 510:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->loudness_weight[i] = .35f-.35f*ff/16000.f+.73f*exp(-.5f*(ff-3800)*(ff-3800)/9e5f);
 511:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       if (st->loudness_weight[i]<.01f)
 512:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          st->loudness_weight[i]=.01f;
 513:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->loudness_weight[i] *= st->loudness_weight[i];
 514:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    }
 515:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    /*st->loudness = pow(AMP_SCALE*st->agc_level,LOUDNESS_EXP);*/
 516:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->loudness = 1e-15;
 517:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->agc_gain = 1;
 518:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->max_gain = 30;
 519:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->max_increase_step = exp(0.11513f * 12.*st->frame_size / st->sampling_rate);
 520:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->max_decrease_step = exp(-0.11513f * 40.*st->frame_size / st->sampling_rate);
 521:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->prev_loudness = 1;
 522:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->init_max = 1;
 523:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #endif
 524:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->was_speech = 0;
 2365              		.loc 3 524 0 is_stmt 1
 2366 0388 BB69     		ldr	r3, [r7, #24]
 2367 038a 0022     		movs	r2, #0
 2368 038c C3F89420 		str	r2, [r3, #148]
 525:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 526:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->fft_lookup = spx_fft_init(2*N);
 2369              		.loc 3 526 0
 2370 0390 7B69     		ldr	r3, [r7, #20]
 2371 0392 5B00     		lsls	r3, r3, #1
 2372 0394 1846     		mov	r0, r3
 2373 0396 FFF7FEFF 		bl	spx_fft_init
 2374 039a 0246     		mov	r2, r0
 2375 039c BB69     		ldr	r3, [r7, #24]
 2376 039e C3F89C20 		str	r2, [r3, #156]
 527:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 528:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->nb_adapt=0;
 2377              		.loc 3 528 0
 2378 03a2 BB69     		ldr	r3, [r7, #24]
 2379 03a4 0022     		movs	r2, #0
 2380 03a6 C3F89020 		str	r2, [r3, #144]
 529:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->min_count=0;
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 59


 2381              		.loc 3 529 0
 2382 03aa BB69     		ldr	r3, [r7, #24]
 2383 03ac 0022     		movs	r2, #0
 2384 03ae C3F89820 		str	r2, [r3, #152]
 530:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    return st;
 2385              		.loc 3 530 0
 2386 03b2 BB69     		ldr	r3, [r7, #24]
 531:STM32F10x_Speex_Lib/libspeex/preprocess.c **** }
 2387              		.loc 3 531 0
 2388 03b4 1846     		mov	r0, r3
 2389 03b6 2037     		adds	r7, r7, #32
 2390              	.LCFI97:
 2391              		.cfi_def_cfa_offset 8
 2392 03b8 BD46     		mov	sp, r7
 2393              	.LCFI98:
 2394              		.cfi_def_cfa_register 13
 2395              		@ sp needed
 2396 03ba 80BD     		pop	{r7, pc}
 2397              		.cfi_endproc
 2398              	.LFE27:
 2400              		.section	.text.speex_preprocess_state_destroy,"ax",%progbits
 2401              		.align	2
 2402              		.global	speex_preprocess_state_destroy
 2403              		.thumb
 2404              		.thumb_func
 2406              	speex_preprocess_state_destroy:
 2407              	.LFB28:
 532:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 533:STM32F10x_Speex_Lib/libspeex/preprocess.c **** EXPORT void speex_preprocess_state_destroy(SpeexPreprocessState *st)
 534:STM32F10x_Speex_Lib/libspeex/preprocess.c **** {
 2408              		.loc 3 534 0
 2409              		.cfi_startproc
 2410              		@ args = 0, pretend = 0, frame = 8
 2411              		@ frame_needed = 1, uses_anonymous_args = 0
 2412 0000 80B5     		push	{r7, lr}
 2413              	.LCFI99:
 2414              		.cfi_def_cfa_offset 8
 2415              		.cfi_offset 7, -8
 2416              		.cfi_offset 14, -4
 2417 0002 82B0     		sub	sp, sp, #8
 2418              	.LCFI100:
 2419              		.cfi_def_cfa_offset 16
 2420 0004 00AF     		add	r7, sp, #0
 2421              	.LCFI101:
 2422              		.cfi_def_cfa_register 7
 2423 0006 7860     		str	r0, [r7, #4]
 535:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    speex_free(st->frame);
 2424              		.loc 3 535 0
 2425 0008 7B68     		ldr	r3, [r7, #4]
 2426 000a DB6B     		ldr	r3, [r3, #60]
 2427 000c 1846     		mov	r0, r3
 2428 000e FFF7FEFF 		bl	speex_free
 536:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    speex_free(st->ft);
 2429              		.loc 3 536 0
 2430 0012 7B68     		ldr	r3, [r7, #4]
 2431 0014 1B6C     		ldr	r3, [r3, #64]
 2432 0016 1846     		mov	r0, r3
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 60


 2433 0018 FFF7FEFF 		bl	speex_free
 537:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    speex_free(st->ps);
 2434              		.loc 3 537 0
 2435 001c 7B68     		ldr	r3, [r7, #4]
 2436 001e 5B6C     		ldr	r3, [r3, #68]
 2437 0020 1846     		mov	r0, r3
 2438 0022 FFF7FEFF 		bl	speex_free
 538:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    speex_free(st->gain2);
 2439              		.loc 3 538 0
 2440 0026 7B68     		ldr	r3, [r7, #4]
 2441 0028 9B6C     		ldr	r3, [r3, #72]
 2442 002a 1846     		mov	r0, r3
 2443 002c FFF7FEFF 		bl	speex_free
 539:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    speex_free(st->gain_floor);
 2444              		.loc 3 539 0
 2445 0030 7B68     		ldr	r3, [r7, #4]
 2446 0032 DB6C     		ldr	r3, [r3, #76]
 2447 0034 1846     		mov	r0, r3
 2448 0036 FFF7FEFF 		bl	speex_free
 540:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    speex_free(st->window);
 2449              		.loc 3 540 0
 2450 003a 7B68     		ldr	r3, [r7, #4]
 2451 003c 1B6D     		ldr	r3, [r3, #80]
 2452 003e 1846     		mov	r0, r3
 2453 0040 FFF7FEFF 		bl	speex_free
 541:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    speex_free(st->noise);
 2454              		.loc 3 541 0
 2455 0044 7B68     		ldr	r3, [r7, #4]
 2456 0046 5B6D     		ldr	r3, [r3, #84]
 2457 0048 1846     		mov	r0, r3
 2458 004a FFF7FEFF 		bl	speex_free
 542:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    speex_free(st->reverb_estimate);
 2459              		.loc 3 542 0
 2460 004e 7B68     		ldr	r3, [r7, #4]
 2461 0050 9B6D     		ldr	r3, [r3, #88]
 2462 0052 1846     		mov	r0, r3
 2463 0054 FFF7FEFF 		bl	speex_free
 543:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    speex_free(st->old_ps);
 2464              		.loc 3 543 0
 2465 0058 7B68     		ldr	r3, [r7, #4]
 2466 005a DB6D     		ldr	r3, [r3, #92]
 2467 005c 1846     		mov	r0, r3
 2468 005e FFF7FEFF 		bl	speex_free
 544:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    speex_free(st->gain);
 2469              		.loc 3 544 0
 2470 0062 7B68     		ldr	r3, [r7, #4]
 2471 0064 1B6E     		ldr	r3, [r3, #96]
 2472 0066 1846     		mov	r0, r3
 2473 0068 FFF7FEFF 		bl	speex_free
 545:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    speex_free(st->prior);
 2474              		.loc 3 545 0
 2475 006c 7B68     		ldr	r3, [r7, #4]
 2476 006e 5B6E     		ldr	r3, [r3, #100]
 2477 0070 1846     		mov	r0, r3
 2478 0072 FFF7FEFF 		bl	speex_free
 546:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    speex_free(st->post);
 2479              		.loc 3 546 0
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 61


 2480 0076 7B68     		ldr	r3, [r7, #4]
 2481 0078 9B6E     		ldr	r3, [r3, #104]
 2482 007a 1846     		mov	r0, r3
 2483 007c FFF7FEFF 		bl	speex_free
 547:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #ifndef FIXED_POINT
 548:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    speex_free(st->loudness_weight);
 549:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #endif
 550:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    speex_free(st->echo_noise);
 2484              		.loc 3 550 0
 2485 0080 7B68     		ldr	r3, [r7, #4]
 2486 0082 D3F88030 		ldr	r3, [r3, #128]
 2487 0086 1846     		mov	r0, r3
 2488 0088 FFF7FEFF 		bl	speex_free
 551:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    speex_free(st->residual_echo);
 2489              		.loc 3 551 0
 2490 008c 7B68     		ldr	r3, [r7, #4]
 2491 008e D3F88430 		ldr	r3, [r3, #132]
 2492 0092 1846     		mov	r0, r3
 2493 0094 FFF7FEFF 		bl	speex_free
 552:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 553:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    speex_free(st->S);
 2494              		.loc 3 553 0
 2495 0098 7B68     		ldr	r3, [r7, #4]
 2496 009a DB6E     		ldr	r3, [r3, #108]
 2497 009c 1846     		mov	r0, r3
 2498 009e FFF7FEFF 		bl	speex_free
 554:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    speex_free(st->Smin);
 2499              		.loc 3 554 0
 2500 00a2 7B68     		ldr	r3, [r7, #4]
 2501 00a4 1B6F     		ldr	r3, [r3, #112]
 2502 00a6 1846     		mov	r0, r3
 2503 00a8 FFF7FEFF 		bl	speex_free
 555:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    speex_free(st->Stmp);
 2504              		.loc 3 555 0
 2505 00ac 7B68     		ldr	r3, [r7, #4]
 2506 00ae 5B6F     		ldr	r3, [r3, #116]
 2507 00b0 1846     		mov	r0, r3
 2508 00b2 FFF7FEFF 		bl	speex_free
 556:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    speex_free(st->update_prob);
 2509              		.loc 3 556 0
 2510 00b6 7B68     		ldr	r3, [r7, #4]
 2511 00b8 9B6F     		ldr	r3, [r3, #120]
 2512 00ba 1846     		mov	r0, r3
 2513 00bc FFF7FEFF 		bl	speex_free
 557:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    speex_free(st->zeta);
 2514              		.loc 3 557 0
 2515 00c0 7B68     		ldr	r3, [r7, #4]
 2516 00c2 DB6F     		ldr	r3, [r3, #124]
 2517 00c4 1846     		mov	r0, r3
 2518 00c6 FFF7FEFF 		bl	speex_free
 558:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 559:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    speex_free(st->inbuf);
 2519              		.loc 3 559 0
 2520 00ca 7B68     		ldr	r3, [r7, #4]
 2521 00cc D3F88830 		ldr	r3, [r3, #136]
 2522 00d0 1846     		mov	r0, r3
 2523 00d2 FFF7FEFF 		bl	speex_free
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 62


 560:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    speex_free(st->outbuf);
 2524              		.loc 3 560 0
 2525 00d6 7B68     		ldr	r3, [r7, #4]
 2526 00d8 D3F88C30 		ldr	r3, [r3, #140]
 2527 00dc 1846     		mov	r0, r3
 2528 00de FFF7FEFF 		bl	speex_free
 561:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 562:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    spx_fft_destroy(st->fft_lookup);
 2529              		.loc 3 562 0
 2530 00e2 7B68     		ldr	r3, [r7, #4]
 2531 00e4 D3F89C30 		ldr	r3, [r3, #156]
 2532 00e8 1846     		mov	r0, r3
 2533 00ea FFF7FEFF 		bl	spx_fft_destroy
 563:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    filterbank_destroy(st->bank);
 2534              		.loc 3 563 0
 2535 00ee 7B68     		ldr	r3, [r7, #4]
 2536 00f0 1B69     		ldr	r3, [r3, #16]
 2537 00f2 1846     		mov	r0, r3
 2538 00f4 FFF7FEFF 		bl	filterbank_destroy
 564:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    speex_free(st);
 2539              		.loc 3 564 0
 2540 00f8 7868     		ldr	r0, [r7, #4]
 2541 00fa FFF7FEFF 		bl	speex_free
 565:STM32F10x_Speex_Lib/libspeex/preprocess.c **** }
 2542              		.loc 3 565 0
 2543 00fe 00BF     		nop
 2544 0100 0837     		adds	r7, r7, #8
 2545              	.LCFI102:
 2546              		.cfi_def_cfa_offset 8
 2547 0102 BD46     		mov	sp, r7
 2548              	.LCFI103:
 2549              		.cfi_def_cfa_register 13
 2550              		@ sp needed
 2551 0104 80BD     		pop	{r7, pc}
 2552              		.cfi_endproc
 2553              	.LFE28:
 2555 0106 00BF     		.section	.text.preprocess_analysis,"ax",%progbits
 2556              		.align	2
 2557              		.thumb
 2558              		.thumb_func
 2560              	preprocess_analysis:
 2561              	.LFB29:
 566:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 567:STM32F10x_Speex_Lib/libspeex/preprocess.c **** /* FIXME: The AGC doesn't work yet with fixed-point*/
 568:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #ifndef FIXED_POINT
 569:STM32F10x_Speex_Lib/libspeex/preprocess.c **** static void speex_compute_agc(SpeexPreprocessState *st, spx_word16_t Pframe, spx_word16_t *ft)
 570:STM32F10x_Speex_Lib/libspeex/preprocess.c **** {
 571:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    int i;
 572:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    int N = st->ps_size;
 573:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    float target_gain;
 574:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    float loudness=1.f;
 575:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    float rate;
 576:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    
 577:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=2;i<N;i++)
 578:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    {
 579:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       loudness += 2.f*N*st->ps[i]* st->loudness_weight[i];
 580:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    }
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 63


 581:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    loudness=sqrt(loudness);
 582:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       /*if (loudness < 2*pow(st->loudness, 1.0/LOUDNESS_EXP) &&
 583:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    loudness*2 > pow(st->loudness, 1.0/LOUDNESS_EXP))*/
 584:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    if (Pframe>.3f)
 585:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    {
 586:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       /*rate=2.0f*Pframe*Pframe/(1+st->nb_loudness_adapt);*/
 587:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       rate = .03*Pframe*Pframe;
 588:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->loudness = (1-rate)*st->loudness + (rate)*pow(AMP_SCALE*loudness, LOUDNESS_EXP);
 589:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->loudness_accum = (1-rate)*st->loudness_accum + rate;
 590:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       if (st->init_max < st->max_gain && st->nb_adapt > 20)
 591:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          st->init_max *= 1.f + .1f*Pframe*Pframe;
 592:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    }
 593:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    /*printf ("%f %f %f %f\n", Pframe, loudness, pow(st->loudness, 1.0f/LOUDNESS_EXP), st->loudness2
 594:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    
 595:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    target_gain = AMP_SCALE*st->agc_level*pow(st->loudness/(1e-4+st->loudness_accum), -1.0f/LOUDNESS
 596:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 597:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    if ((Pframe>.5  && st->nb_adapt > 20) || target_gain < st->agc_gain)
 598:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    {
 599:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       if (target_gain > st->max_increase_step*st->agc_gain)
 600:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          target_gain = st->max_increase_step*st->agc_gain;
 601:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       if (target_gain < st->max_decrease_step*st->agc_gain && loudness < 10*st->prev_loudness)
 602:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          target_gain = st->max_decrease_step*st->agc_gain;
 603:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       if (target_gain > st->max_gain)
 604:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          target_gain = st->max_gain;
 605:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       if (target_gain > st->init_max)
 606:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          target_gain = st->init_max;
 607:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    
 608:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->agc_gain = target_gain;
 609:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    }
 610:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    /*fprintf (stderr, "%f %f %f\n", loudness, (float)AMP_SCALE_1*pow(st->loudness, 1.0f/LOUDNESS_EX
 611:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       
 612:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=0;i<2*N;i++)
 613:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       ft[i] *= st->agc_gain;
 614:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->prev_loudness = loudness;
 615:STM32F10x_Speex_Lib/libspeex/preprocess.c **** }
 616:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #endif
 617:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 618:STM32F10x_Speex_Lib/libspeex/preprocess.c **** static void preprocess_analysis(SpeexPreprocessState *st, spx_int16_t *x)
 619:STM32F10x_Speex_Lib/libspeex/preprocess.c **** {
 2562              		.loc 3 619 0
 2563              		.cfi_startproc
 2564              		@ args = 0, pretend = 0, frame = 32
 2565              		@ frame_needed = 1, uses_anonymous_args = 0
 2566 0000 90B5     		push	{r4, r7, lr}
 2567              	.LCFI104:
 2568              		.cfi_def_cfa_offset 12
 2569              		.cfi_offset 4, -12
 2570              		.cfi_offset 7, -8
 2571              		.cfi_offset 14, -4
 2572 0002 89B0     		sub	sp, sp, #36
 2573              	.LCFI105:
 2574              		.cfi_def_cfa_offset 48
 2575 0004 00AF     		add	r7, sp, #0
 2576              	.LCFI106:
 2577              		.cfi_def_cfa_register 7
 2578 0006 7860     		str	r0, [r7, #4]
 2579 0008 3960     		str	r1, [r7]
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 64


 620:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    int i;
 621:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    int N = st->ps_size;
 2580              		.loc 3 621 0
 2581 000a 7B68     		ldr	r3, [r7, #4]
 2582 000c 5B68     		ldr	r3, [r3, #4]
 2583 000e 7B61     		str	r3, [r7, #20]
 622:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    int N3 = 2*N - st->frame_size;
 2584              		.loc 3 622 0
 2585 0010 7B69     		ldr	r3, [r7, #20]
 2586 0012 5A00     		lsls	r2, r3, #1
 2587 0014 7B68     		ldr	r3, [r7, #4]
 2588 0016 1B68     		ldr	r3, [r3]
 2589 0018 D31A     		subs	r3, r2, r3
 2590 001a 3B61     		str	r3, [r7, #16]
 623:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    int N4 = st->frame_size - N3;
 2591              		.loc 3 623 0
 2592 001c 7B68     		ldr	r3, [r7, #4]
 2593 001e 1A68     		ldr	r2, [r3]
 2594 0020 3B69     		ldr	r3, [r7, #16]
 2595 0022 D31A     		subs	r3, r2, r3
 2596 0024 FB60     		str	r3, [r7, #12]
 624:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    spx_word32_t *ps=st->ps;
 2597              		.loc 3 624 0
 2598 0026 7B68     		ldr	r3, [r7, #4]
 2599 0028 5B6C     		ldr	r3, [r3, #68]
 2600 002a BB60     		str	r3, [r7, #8]
 625:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 626:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    /* 'Build' input frame */
 627:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=0;i<N3;i++)
 2601              		.loc 3 627 0
 2602 002c 0023     		movs	r3, #0
 2603 002e FB61     		str	r3, [r7, #28]
 2604 0030 10E0     		b	.L115
 2605              	.L116:
 628:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->frame[i]=st->inbuf[i];
 2606              		.loc 3 628 0 discriminator 3
 2607 0032 7B68     		ldr	r3, [r7, #4]
 2608 0034 DA6B     		ldr	r2, [r3, #60]
 2609 0036 FB69     		ldr	r3, [r7, #28]
 2610 0038 5B00     		lsls	r3, r3, #1
 2611 003a 1344     		add	r3, r3, r2
 2612 003c 7A68     		ldr	r2, [r7, #4]
 2613 003e D2F88810 		ldr	r1, [r2, #136]
 2614 0042 FA69     		ldr	r2, [r7, #28]
 2615 0044 5200     		lsls	r2, r2, #1
 2616 0046 0A44     		add	r2, r2, r1
 2617 0048 B2F90020 		ldrsh	r2, [r2]
 2618 004c 1A80     		strh	r2, [r3]	@ movhi
 627:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->frame[i]=st->inbuf[i];
 2619              		.loc 3 627 0 discriminator 3
 2620 004e FB69     		ldr	r3, [r7, #28]
 2621 0050 0133     		adds	r3, r3, #1
 2622 0052 FB61     		str	r3, [r7, #28]
 2623              	.L115:
 627:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->frame[i]=st->inbuf[i];
 2624              		.loc 3 627 0 is_stmt 0 discriminator 1
 2625 0054 FA69     		ldr	r2, [r7, #28]
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 65


 2626 0056 3B69     		ldr	r3, [r7, #16]
 2627 0058 9A42     		cmp	r2, r3
 2628 005a EADB     		blt	.L116
 629:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=0;i<st->frame_size;i++)
 2629              		.loc 3 629 0 is_stmt 1
 2630 005c 0023     		movs	r3, #0
 2631 005e FB61     		str	r3, [r7, #28]
 2632 0060 10E0     		b	.L117
 2633              	.L118:
 630:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->frame[N3+i]=x[i];
 2634              		.loc 3 630 0 discriminator 3
 2635 0062 7B68     		ldr	r3, [r7, #4]
 2636 0064 DA6B     		ldr	r2, [r3, #60]
 2637 0066 3969     		ldr	r1, [r7, #16]
 2638 0068 FB69     		ldr	r3, [r7, #28]
 2639 006a 0B44     		add	r3, r3, r1
 2640 006c 5B00     		lsls	r3, r3, #1
 2641 006e 1344     		add	r3, r3, r2
 2642 0070 FA69     		ldr	r2, [r7, #28]
 2643 0072 5200     		lsls	r2, r2, #1
 2644 0074 3968     		ldr	r1, [r7]
 2645 0076 0A44     		add	r2, r2, r1
 2646 0078 B2F90020 		ldrsh	r2, [r2]
 2647 007c 1A80     		strh	r2, [r3]	@ movhi
 629:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=0;i<st->frame_size;i++)
 2648              		.loc 3 629 0 discriminator 3
 2649 007e FB69     		ldr	r3, [r7, #28]
 2650 0080 0133     		adds	r3, r3, #1
 2651 0082 FB61     		str	r3, [r7, #28]
 2652              	.L117:
 629:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=0;i<st->frame_size;i++)
 2653              		.loc 3 629 0 is_stmt 0 discriminator 1
 2654 0084 7B68     		ldr	r3, [r7, #4]
 2655 0086 1A68     		ldr	r2, [r3]
 2656 0088 FB69     		ldr	r3, [r7, #28]
 2657 008a 9A42     		cmp	r2, r3
 2658 008c E9DC     		bgt	.L118
 631:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    
 632:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    /* Update inbuf */
 633:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=0;i<N3;i++)
 2659              		.loc 3 633 0 is_stmt 1
 2660 008e 0023     		movs	r3, #0
 2661 0090 FB61     		str	r3, [r7, #28]
 2662 0092 11E0     		b	.L119
 2663              	.L120:
 634:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->inbuf[i]=x[N4+i];
 2664              		.loc 3 634 0 discriminator 3
 2665 0094 7B68     		ldr	r3, [r7, #4]
 2666 0096 D3F88820 		ldr	r2, [r3, #136]
 2667 009a FB69     		ldr	r3, [r7, #28]
 2668 009c 5B00     		lsls	r3, r3, #1
 2669 009e 1344     		add	r3, r3, r2
 2670 00a0 F968     		ldr	r1, [r7, #12]
 2671 00a2 FA69     		ldr	r2, [r7, #28]
 2672 00a4 0A44     		add	r2, r2, r1
 2673 00a6 5200     		lsls	r2, r2, #1
 2674 00a8 3968     		ldr	r1, [r7]
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 66


 2675 00aa 0A44     		add	r2, r2, r1
 2676 00ac B2F90020 		ldrsh	r2, [r2]
 2677 00b0 1A80     		strh	r2, [r3]	@ movhi
 633:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->inbuf[i]=x[N4+i];
 2678              		.loc 3 633 0 discriminator 3
 2679 00b2 FB69     		ldr	r3, [r7, #28]
 2680 00b4 0133     		adds	r3, r3, #1
 2681 00b6 FB61     		str	r3, [r7, #28]
 2682              	.L119:
 633:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->inbuf[i]=x[N4+i];
 2683              		.loc 3 633 0 is_stmt 0 discriminator 1
 2684 00b8 FA69     		ldr	r2, [r7, #28]
 2685 00ba 3B69     		ldr	r3, [r7, #16]
 2686 00bc 9A42     		cmp	r2, r3
 2687 00be E9DB     		blt	.L120
 635:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 636:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    /* Windowing */
 637:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=0;i<2*N;i++)
 2688              		.loc 3 637 0 is_stmt 1
 2689 00c0 0023     		movs	r3, #0
 2690 00c2 FB61     		str	r3, [r7, #28]
 2691 00c4 1BE0     		b	.L121
 2692              	.L122:
 638:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->frame[i] = MULT16_16_Q15(st->frame[i], st->window[i]);
 2693              		.loc 3 638 0 discriminator 3
 2694 00c6 7B68     		ldr	r3, [r7, #4]
 2695 00c8 DA6B     		ldr	r2, [r3, #60]
 2696 00ca FB69     		ldr	r3, [r7, #28]
 2697 00cc 5B00     		lsls	r3, r3, #1
 2698 00ce 1344     		add	r3, r3, r2
 2699 00d0 7A68     		ldr	r2, [r7, #4]
 2700 00d2 D16B     		ldr	r1, [r2, #60]
 2701 00d4 FA69     		ldr	r2, [r7, #28]
 2702 00d6 5200     		lsls	r2, r2, #1
 2703 00d8 0A44     		add	r2, r2, r1
 2704 00da B2F90020 		ldrsh	r2, [r2]
 2705 00de 1046     		mov	r0, r2
 2706 00e0 7A68     		ldr	r2, [r7, #4]
 2707 00e2 116D     		ldr	r1, [r2, #80]
 2708 00e4 FA69     		ldr	r2, [r7, #28]
 2709 00e6 5200     		lsls	r2, r2, #1
 2710 00e8 0A44     		add	r2, r2, r1
 2711 00ea B2F90020 		ldrsh	r2, [r2]
 2712 00ee 02FB00F2 		mul	r2, r2, r0
 2713 00f2 D213     		asrs	r2, r2, #15
 2714 00f4 12B2     		sxth	r2, r2
 2715 00f6 1A80     		strh	r2, [r3]	@ movhi
 637:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->frame[i] = MULT16_16_Q15(st->frame[i], st->window[i]);
 2716              		.loc 3 637 0 discriminator 3
 2717 00f8 FB69     		ldr	r3, [r7, #28]
 2718 00fa 0133     		adds	r3, r3, #1
 2719 00fc FB61     		str	r3, [r7, #28]
 2720              	.L121:
 637:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->frame[i] = MULT16_16_Q15(st->frame[i], st->window[i]);
 2721              		.loc 3 637 0 is_stmt 0 discriminator 1
 2722 00fe 7B69     		ldr	r3, [r7, #20]
 2723 0100 5A00     		lsls	r2, r3, #1
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 67


 2724 0102 FB69     		ldr	r3, [r7, #28]
 2725 0104 9A42     		cmp	r2, r3
 2726 0106 DEDC     		bgt	.L122
 2727              	.LBB5:
 639:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 640:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #ifdef FIXED_POINT
 641:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    {
 642:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       spx_word16_t max_val=0;
 2728              		.loc 3 642 0 is_stmt 1
 2729 0108 0023     		movs	r3, #0
 2730 010a 7B83     		strh	r3, [r7, #26]	@ movhi
 643:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       for (i=0;i<2*N;i++)
 2731              		.loc 3 643 0
 2732 010c 0023     		movs	r3, #0
 2733 010e FB61     		str	r3, [r7, #28]
 2734 0110 13E0     		b	.L123
 2735              	.L124:
 644:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          max_val = MAX16(max_val, ABS16(st->frame[i]));
 2736              		.loc 3 644 0 discriminator 3
 2737 0112 7B68     		ldr	r3, [r7, #4]
 2738 0114 DA6B     		ldr	r2, [r3, #60]
 2739 0116 FB69     		ldr	r3, [r7, #28]
 2740 0118 5B00     		lsls	r3, r3, #1
 2741 011a 1344     		add	r3, r3, r2
 2742 011c B3F90030 		ldrsh	r3, [r3]
 2743 0120 83EAE372 		eor	r2, r3, r3, asr #31
 2744 0124 A2EBE372 		sub	r2, r2, r3, asr #31
 2745 0128 B7F91A30 		ldrsh	r3, [r7, #26]
 2746 012c 9342     		cmp	r3, r2
 2747 012e B8BF     		it	lt
 2748 0130 1346     		movlt	r3, r2
 2749 0132 7B83     		strh	r3, [r7, #26]	@ movhi
 643:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       for (i=0;i<2*N;i++)
 2750              		.loc 3 643 0 discriminator 3
 2751 0134 FB69     		ldr	r3, [r7, #28]
 2752 0136 0133     		adds	r3, r3, #1
 2753 0138 FB61     		str	r3, [r7, #28]
 2754              	.L123:
 643:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       for (i=0;i<2*N;i++)
 2755              		.loc 3 643 0 is_stmt 0 discriminator 1
 2756 013a 7B69     		ldr	r3, [r7, #20]
 2757 013c 5A00     		lsls	r2, r3, #1
 2758 013e FB69     		ldr	r3, [r7, #28]
 2759 0140 9A42     		cmp	r2, r3
 2760 0142 E6DC     		bgt	.L124
 645:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->frame_shift = 14-spx_ilog2(EXTEND32(max_val));
 2761              		.loc 3 645 0 is_stmt 1
 2762 0144 B7F91A30 		ldrsh	r3, [r7, #26]
 2763 0148 1846     		mov	r0, r3
 2764 014a FFF7FEFF 		bl	spx_ilog2
 2765 014e 0346     		mov	r3, r0
 2766 0150 C3F10E02 		rsb	r2, r3, #14
 2767 0154 7B68     		ldr	r3, [r7, #4]
 2768 0156 C3F8A020 		str	r2, [r3, #160]
 646:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       for (i=0;i<2*N;i++)
 2769              		.loc 3 646 0
 2770 015a 0023     		movs	r3, #0
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 68


 2771 015c FB61     		str	r3, [r7, #28]
 2772 015e 16E0     		b	.L125
 2773              	.L126:
 647:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          st->frame[i] = SHL16(st->frame[i], st->frame_shift);
 2774              		.loc 3 647 0 discriminator 3
 2775 0160 7B68     		ldr	r3, [r7, #4]
 2776 0162 DA6B     		ldr	r2, [r3, #60]
 2777 0164 FB69     		ldr	r3, [r7, #28]
 2778 0166 5B00     		lsls	r3, r3, #1
 2779 0168 1344     		add	r3, r3, r2
 2780 016a 7A68     		ldr	r2, [r7, #4]
 2781 016c D16B     		ldr	r1, [r2, #60]
 2782 016e FA69     		ldr	r2, [r7, #28]
 2783 0170 5200     		lsls	r2, r2, #1
 2784 0172 0A44     		add	r2, r2, r1
 2785 0174 B2F90020 		ldrsh	r2, [r2]
 2786 0178 1146     		mov	r1, r2
 2787 017a 7A68     		ldr	r2, [r7, #4]
 2788 017c D2F8A020 		ldr	r2, [r2, #160]
 2789 0180 01FA02F2 		lsl	r2, r1, r2
 2790 0184 12B2     		sxth	r2, r2
 2791 0186 1A80     		strh	r2, [r3]	@ movhi
 646:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       for (i=0;i<2*N;i++)
 2792              		.loc 3 646 0 discriminator 3
 2793 0188 FB69     		ldr	r3, [r7, #28]
 2794 018a 0133     		adds	r3, r3, #1
 2795 018c FB61     		str	r3, [r7, #28]
 2796              	.L125:
 646:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       for (i=0;i<2*N;i++)
 2797              		.loc 3 646 0 is_stmt 0 discriminator 1
 2798 018e 7B69     		ldr	r3, [r7, #20]
 2799 0190 5A00     		lsls	r2, r3, #1
 2800 0192 FB69     		ldr	r3, [r7, #28]
 2801 0194 9A42     		cmp	r2, r3
 2802 0196 E3DC     		bgt	.L126
 2803              	.LBE5:
 648:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    }
 649:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #endif
 650:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    
 651:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    /* Perform FFT */
 652:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    spx_fft(st->fft_lookup, st->frame, st->ft);
 2804              		.loc 3 652 0 is_stmt 1
 2805 0198 7B68     		ldr	r3, [r7, #4]
 2806 019a D3F89C00 		ldr	r0, [r3, #156]
 2807 019e 7B68     		ldr	r3, [r7, #4]
 2808 01a0 D96B     		ldr	r1, [r3, #60]
 2809 01a2 7B68     		ldr	r3, [r7, #4]
 2810 01a4 1B6C     		ldr	r3, [r3, #64]
 2811 01a6 1A46     		mov	r2, r3
 2812 01a8 FFF7FEFF 		bl	spx_fft
 653:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          
 654:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    /* Power spectrum */
 655:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    ps[0]=MULT16_16(st->ft[0],st->ft[0]);
 2813              		.loc 3 655 0
 2814 01ac 7B68     		ldr	r3, [r7, #4]
 2815 01ae 1B6C     		ldr	r3, [r3, #64]
 2816 01b0 B3F90030 		ldrsh	r3, [r3]
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 69


 2817 01b4 1A46     		mov	r2, r3
 2818 01b6 7B68     		ldr	r3, [r7, #4]
 2819 01b8 1B6C     		ldr	r3, [r3, #64]
 2820 01ba B3F90030 		ldrsh	r3, [r3]
 2821 01be 03FB02F2 		mul	r2, r3, r2
 2822 01c2 BB68     		ldr	r3, [r7, #8]
 2823 01c4 1A60     		str	r2, [r3]
 656:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=1;i<N;i++)
 2824              		.loc 3 656 0
 2825 01c6 0123     		movs	r3, #1
 2826 01c8 FB61     		str	r3, [r7, #28]
 2827 01ca 2CE0     		b	.L127
 2828              	.L128:
 657:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       ps[i]=MULT16_16(st->ft[2*i-1],st->ft[2*i-1]) + MULT16_16(st->ft[2*i],st->ft[2*i]);
 2829              		.loc 3 657 0 discriminator 3
 2830 01cc FB69     		ldr	r3, [r7, #28]
 2831 01ce 9B00     		lsls	r3, r3, #2
 2832 01d0 BA68     		ldr	r2, [r7, #8]
 2833 01d2 1344     		add	r3, r3, r2
 2834 01d4 7A68     		ldr	r2, [r7, #4]
 2835 01d6 116C     		ldr	r1, [r2, #64]
 2836 01d8 FA69     		ldr	r2, [r7, #28]
 2837 01da 9200     		lsls	r2, r2, #2
 2838 01dc 023A     		subs	r2, r2, #2
 2839 01de 0A44     		add	r2, r2, r1
 2840 01e0 B2F90020 		ldrsh	r2, [r2]
 2841 01e4 1046     		mov	r0, r2
 2842 01e6 7A68     		ldr	r2, [r7, #4]
 2843 01e8 116C     		ldr	r1, [r2, #64]
 2844 01ea FA69     		ldr	r2, [r7, #28]
 2845 01ec 9200     		lsls	r2, r2, #2
 2846 01ee 023A     		subs	r2, r2, #2
 2847 01f0 0A44     		add	r2, r2, r1
 2848 01f2 B2F90020 		ldrsh	r2, [r2]
 2849 01f6 02FB00F1 		mul	r1, r2, r0
 2850 01fa 7A68     		ldr	r2, [r7, #4]
 2851 01fc 126C     		ldr	r2, [r2, #64]
 2852 01fe F869     		ldr	r0, [r7, #28]
 2853 0200 8000     		lsls	r0, r0, #2
 2854 0202 0244     		add	r2, r2, r0
 2855 0204 B2F90020 		ldrsh	r2, [r2]
 2856 0208 1446     		mov	r4, r2
 2857 020a 7A68     		ldr	r2, [r7, #4]
 2858 020c 126C     		ldr	r2, [r2, #64]
 2859 020e F869     		ldr	r0, [r7, #28]
 2860 0210 8000     		lsls	r0, r0, #2
 2861 0212 0244     		add	r2, r2, r0
 2862 0214 B2F90020 		ldrsh	r2, [r2]
 2863 0218 02FB04F2 		mul	r2, r2, r4
 2864 021c 0A44     		add	r2, r2, r1
 2865 021e 1A60     		str	r2, [r3]
 656:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=1;i<N;i++)
 2866              		.loc 3 656 0 discriminator 3
 2867 0220 FB69     		ldr	r3, [r7, #28]
 2868 0222 0133     		adds	r3, r3, #1
 2869 0224 FB61     		str	r3, [r7, #28]
 2870              	.L127:
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 70


 656:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=1;i<N;i++)
 2871              		.loc 3 656 0 is_stmt 0 discriminator 1
 2872 0226 FA69     		ldr	r2, [r7, #28]
 2873 0228 7B69     		ldr	r3, [r7, #20]
 2874 022a 9A42     		cmp	r2, r3
 2875 022c CEDB     		blt	.L128
 658:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=0;i<N;i++)
 2876              		.loc 3 658 0 is_stmt 1
 2877 022e 0023     		movs	r3, #0
 2878 0230 FB61     		str	r3, [r7, #28]
 2879 0232 1DE0     		b	.L129
 2880              	.L130:
 659:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->ps[i] = PSHR32(st->ps[i], 2*st->frame_shift);
 2881              		.loc 3 659 0 discriminator 3
 2882 0234 7B68     		ldr	r3, [r7, #4]
 2883 0236 5A6C     		ldr	r2, [r3, #68]
 2884 0238 FB69     		ldr	r3, [r7, #28]
 2885 023a 9B00     		lsls	r3, r3, #2
 2886 023c 1344     		add	r3, r3, r2
 2887 023e 7A68     		ldr	r2, [r7, #4]
 2888 0240 516C     		ldr	r1, [r2, #68]
 2889 0242 FA69     		ldr	r2, [r7, #28]
 2890 0244 9200     		lsls	r2, r2, #2
 2891 0246 0A44     		add	r2, r2, r1
 2892 0248 1168     		ldr	r1, [r2]
 2893 024a 7A68     		ldr	r2, [r7, #4]
 2894 024c D2F8A020 		ldr	r2, [r2, #160]
 2895 0250 5200     		lsls	r2, r2, #1
 2896 0252 0120     		movs	r0, #1
 2897 0254 00FA02F2 		lsl	r2, r0, r2
 2898 0258 5210     		asrs	r2, r2, #1
 2899 025a 1144     		add	r1, r1, r2
 2900 025c 7A68     		ldr	r2, [r7, #4]
 2901 025e D2F8A020 		ldr	r2, [r2, #160]
 2902 0262 5200     		lsls	r2, r2, #1
 2903 0264 41FA02F2 		asr	r2, r1, r2
 2904 0268 1A60     		str	r2, [r3]
 658:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=0;i<N;i++)
 2905              		.loc 3 658 0 discriminator 3
 2906 026a FB69     		ldr	r3, [r7, #28]
 2907 026c 0133     		adds	r3, r3, #1
 2908 026e FB61     		str	r3, [r7, #28]
 2909              	.L129:
 658:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=0;i<N;i++)
 2910              		.loc 3 658 0 is_stmt 0 discriminator 1
 2911 0270 FA69     		ldr	r2, [r7, #28]
 2912 0272 7B69     		ldr	r3, [r7, #20]
 2913 0274 9A42     		cmp	r2, r3
 2914 0276 DDDB     		blt	.L130
 660:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 661:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    filterbank_compute_bank32(st->bank, ps, ps+N);
 2915              		.loc 3 661 0 is_stmt 1
 2916 0278 7B68     		ldr	r3, [r7, #4]
 2917 027a 1869     		ldr	r0, [r3, #16]
 2918 027c 7B69     		ldr	r3, [r7, #20]
 2919 027e 9B00     		lsls	r3, r3, #2
 2920 0280 BA68     		ldr	r2, [r7, #8]
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 71


 2921 0282 1344     		add	r3, r3, r2
 2922 0284 1A46     		mov	r2, r3
 2923 0286 B968     		ldr	r1, [r7, #8]
 2924 0288 FFF7FEFF 		bl	filterbank_compute_bank32
 662:STM32F10x_Speex_Lib/libspeex/preprocess.c **** }
 2925              		.loc 3 662 0
 2926 028c 00BF     		nop
 2927 028e 2437     		adds	r7, r7, #36
 2928              	.LCFI107:
 2929              		.cfi_def_cfa_offset 12
 2930 0290 BD46     		mov	sp, r7
 2931              	.LCFI108:
 2932              		.cfi_def_cfa_register 13
 2933              		@ sp needed
 2934 0292 90BD     		pop	{r4, r7, pc}
 2935              		.cfi_endproc
 2936              	.LFE29:
 2938              		.section	.text.update_noise_prob,"ax",%progbits
 2939              		.align	2
 2940              		.thumb
 2941              		.thumb_func
 2943              	update_noise_prob:
 2944              	.LFB30:
 663:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 664:STM32F10x_Speex_Lib/libspeex/preprocess.c **** static void update_noise_prob(SpeexPreprocessState *st)
 665:STM32F10x_Speex_Lib/libspeex/preprocess.c **** {
 2945              		.loc 3 665 0
 2946              		.cfi_startproc
 2947              		@ args = 0, pretend = 0, frame = 24
 2948              		@ frame_needed = 1, uses_anonymous_args = 0
 2949              		@ link register save eliminated.
 2950 0000 90B4     		push	{r4, r7}
 2951              	.LCFI109:
 2952              		.cfi_def_cfa_offset 8
 2953              		.cfi_offset 4, -8
 2954              		.cfi_offset 7, -4
 2955 0002 86B0     		sub	sp, sp, #24
 2956              	.LCFI110:
 2957              		.cfi_def_cfa_offset 32
 2958 0004 00AF     		add	r7, sp, #0
 2959              	.LCFI111:
 2960              		.cfi_def_cfa_register 7
 2961 0006 7860     		str	r0, [r7, #4]
 666:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    int i;
 667:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    int min_range;
 668:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    int N = st->ps_size;
 2962              		.loc 3 668 0
 2963 0008 7B68     		ldr	r3, [r7, #4]
 2964 000a 5B68     		ldr	r3, [r3, #4]
 2965 000c FB60     		str	r3, [r7, #12]
 669:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 670:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=1;i<N-1;i++)
 2966              		.loc 3 670 0
 2967 000e 0123     		movs	r3, #1
 2968 0010 7B61     		str	r3, [r7, #20]
 2969 0012 7FE0     		b	.L132
 2970              	.L133:
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 72


 671:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->S[i] =  MULT16_32_Q15(QCONST16(.8f,15),st->S[i]) + MULT16_32_Q15(QCONST16(.05f,15),st->ps
 2971              		.loc 3 671 0 discriminator 3
 2972 0014 7B68     		ldr	r3, [r7, #4]
 2973 0016 DA6E     		ldr	r2, [r3, #108]
 2974 0018 7B69     		ldr	r3, [r7, #20]
 2975 001a 9B00     		lsls	r3, r3, #2
 2976 001c 1A44     		add	r2, r2, r3
 2977 001e 7B68     		ldr	r3, [r7, #4]
 2978 0020 D96E     		ldr	r1, [r3, #108]
 2979 0022 7B69     		ldr	r3, [r7, #20]
 2980 0024 9B00     		lsls	r3, r3, #2
 2981 0026 0B44     		add	r3, r3, r1
 2982 0028 1B68     		ldr	r3, [r3]
 2983 002a DB13     		asrs	r3, r3, #15
 2984 002c 1BB2     		sxth	r3, r3
 2985 002e 1946     		mov	r1, r3
 2986 0030 46F26663 		movw	r3, #26214
 2987 0034 03FB01F1 		mul	r1, r3, r1
 2988 0038 7B68     		ldr	r3, [r7, #4]
 2989 003a D86E     		ldr	r0, [r3, #108]
 2990 003c 7B69     		ldr	r3, [r7, #20]
 2991 003e 9B00     		lsls	r3, r3, #2
 2992 0040 0344     		add	r3, r3, r0
 2993 0042 1B68     		ldr	r3, [r3]
 2994 0044 C3F30E03 		ubfx	r3, r3, #0, #15
 2995 0048 46F26660 		movw	r0, #26214
 2996 004c 00FB03F3 		mul	r3, r0, r3
 2997 0050 DB13     		asrs	r3, r3, #15
 2998 0052 1944     		add	r1, r1, r3
 2999 0054 7B68     		ldr	r3, [r7, #4]
 3000 0056 586C     		ldr	r0, [r3, #68]
 3001 0058 7B69     		ldr	r3, [r7, #20]
 3002 005a 03F18043 		add	r3, r3, #1073741824
 3003 005e 013B     		subs	r3, r3, #1
 3004 0060 9B00     		lsls	r3, r3, #2
 3005 0062 0344     		add	r3, r3, r0
 3006 0064 1B68     		ldr	r3, [r3]
 3007 0066 DB13     		asrs	r3, r3, #15
 3008 0068 1BB2     		sxth	r3, r3
 3009 006a 1846     		mov	r0, r3
 3010 006c 40F26663 		movw	r3, #1638
 3011 0070 03FB00F0 		mul	r0, r3, r0
 3012 0074 7B68     		ldr	r3, [r7, #4]
 3013 0076 5C6C     		ldr	r4, [r3, #68]
 3014 0078 7B69     		ldr	r3, [r7, #20]
 3015 007a 03F18043 		add	r3, r3, #1073741824
 3016 007e 013B     		subs	r3, r3, #1
 3017 0080 9B00     		lsls	r3, r3, #2
 3018 0082 2344     		add	r3, r3, r4
 3019 0084 1B68     		ldr	r3, [r3]
 3020 0086 C3F30E03 		ubfx	r3, r3, #0, #15
 3021 008a 40F26664 		movw	r4, #1638
 3022 008e 04FB03F3 		mul	r3, r4, r3
 3023 0092 DB13     		asrs	r3, r3, #15
 3024 0094 0344     		add	r3, r3, r0
 3025 0096 1944     		add	r1, r1, r3
 672:STM32F10x_Speex_Lib/libspeex/preprocess.c ****                       + MULT16_32_Q15(QCONST16(.1f,15),st->ps[i]) + MULT16_32_Q15(QCONST16(.05f,15)
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 73


 3026              		.loc 3 672 0 discriminator 3
 3027 0098 7B68     		ldr	r3, [r7, #4]
 3028 009a 586C     		ldr	r0, [r3, #68]
 3029 009c 7B69     		ldr	r3, [r7, #20]
 3030 009e 9B00     		lsls	r3, r3, #2
 3031 00a0 0344     		add	r3, r3, r0
 3032 00a2 1B68     		ldr	r3, [r3]
 3033 00a4 DB13     		asrs	r3, r3, #15
 3034 00a6 1BB2     		sxth	r3, r3
 3035 00a8 1846     		mov	r0, r3
 3036 00aa 40F6CD43 		movw	r3, #3277
 3037 00ae 03FB00F0 		mul	r0, r3, r0
 3038 00b2 7B68     		ldr	r3, [r7, #4]
 3039 00b4 5C6C     		ldr	r4, [r3, #68]
 3040 00b6 7B69     		ldr	r3, [r7, #20]
 3041 00b8 9B00     		lsls	r3, r3, #2
 3042 00ba 2344     		add	r3, r3, r4
 3043 00bc 1B68     		ldr	r3, [r3]
 3044 00be C3F30E03 		ubfx	r3, r3, #0, #15
 3045 00c2 40F6CD44 		movw	r4, #3277
 3046 00c6 04FB03F3 		mul	r3, r4, r3
 3047 00ca DB13     		asrs	r3, r3, #15
 3048 00cc 0344     		add	r3, r3, r0
 3049 00ce 1944     		add	r1, r1, r3
 3050 00d0 7B68     		ldr	r3, [r7, #4]
 3051 00d2 586C     		ldr	r0, [r3, #68]
 3052 00d4 7B69     		ldr	r3, [r7, #20]
 3053 00d6 0133     		adds	r3, r3, #1
 3054 00d8 9B00     		lsls	r3, r3, #2
 3055 00da 0344     		add	r3, r3, r0
 3056 00dc 1B68     		ldr	r3, [r3]
 3057 00de DB13     		asrs	r3, r3, #15
 3058 00e0 1BB2     		sxth	r3, r3
 3059 00e2 1846     		mov	r0, r3
 3060 00e4 40F26663 		movw	r3, #1638
 3061 00e8 03FB00F0 		mul	r0, r3, r0
 3062 00ec 7B68     		ldr	r3, [r7, #4]
 3063 00ee 5C6C     		ldr	r4, [r3, #68]
 3064 00f0 7B69     		ldr	r3, [r7, #20]
 3065 00f2 0133     		adds	r3, r3, #1
 3066 00f4 9B00     		lsls	r3, r3, #2
 3067 00f6 2344     		add	r3, r3, r4
 3068 00f8 1B68     		ldr	r3, [r3]
 3069 00fa C3F30E03 		ubfx	r3, r3, #0, #15
 3070 00fe 40F26664 		movw	r4, #1638
 3071 0102 04FB03F3 		mul	r3, r4, r3
 3072 0106 DB13     		asrs	r3, r3, #15
 3073 0108 0344     		add	r3, r3, r0
 3074 010a 0B44     		add	r3, r3, r1
 671:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->S[i] =  MULT16_32_Q15(QCONST16(.8f,15),st->S[i]) + MULT16_32_Q15(QCONST16(.05f,15),st->ps
 3075              		.loc 3 671 0 discriminator 3
 3076 010c 1360     		str	r3, [r2]
 670:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->S[i] =  MULT16_32_Q15(QCONST16(.8f,15),st->S[i]) + MULT16_32_Q15(QCONST16(.05f,15),st->ps
 3077              		.loc 3 670 0 discriminator 3
 3078 010e 7B69     		ldr	r3, [r7, #20]
 3079 0110 0133     		adds	r3, r3, #1
 3080 0112 7B61     		str	r3, [r7, #20]
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 74


 3081              	.L132:
 670:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->S[i] =  MULT16_32_Q15(QCONST16(.8f,15),st->S[i]) + MULT16_32_Q15(QCONST16(.05f,15),st->ps
 3082              		.loc 3 670 0 is_stmt 0 discriminator 1
 3083 0114 FB68     		ldr	r3, [r7, #12]
 3084 0116 5A1E     		subs	r2, r3, #1
 3085 0118 7B69     		ldr	r3, [r7, #20]
 3086 011a 9A42     		cmp	r2, r3
 3087 011c 3FF77AAF 		bgt	.L133
 673:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->S[0] =  MULT16_32_Q15(QCONST16(.8f,15),st->S[0]) + MULT16_32_Q15(QCONST16(.2f,15),st->ps[0])
 3088              		.loc 3 673 0 is_stmt 1
 3089 0120 7B68     		ldr	r3, [r7, #4]
 3090 0122 DB6E     		ldr	r3, [r3, #108]
 3091 0124 7A68     		ldr	r2, [r7, #4]
 3092 0126 D26E     		ldr	r2, [r2, #108]
 3093 0128 1268     		ldr	r2, [r2]
 3094 012a D213     		asrs	r2, r2, #15
 3095 012c 12B2     		sxth	r2, r2
 3096 012e 1146     		mov	r1, r2
 3097 0130 46F26662 		movw	r2, #26214
 3098 0134 02FB01F1 		mul	r1, r2, r1
 3099 0138 7A68     		ldr	r2, [r7, #4]
 3100 013a D26E     		ldr	r2, [r2, #108]
 3101 013c 1268     		ldr	r2, [r2]
 3102 013e C2F30E02 		ubfx	r2, r2, #0, #15
 3103 0142 46F26660 		movw	r0, #26214
 3104 0146 00FB02F2 		mul	r2, r0, r2
 3105 014a D213     		asrs	r2, r2, #15
 3106 014c 1144     		add	r1, r1, r2
 3107 014e 7A68     		ldr	r2, [r7, #4]
 3108 0150 526C     		ldr	r2, [r2, #68]
 3109 0152 1268     		ldr	r2, [r2]
 3110 0154 D213     		asrs	r2, r2, #15
 3111 0156 12B2     		sxth	r2, r2
 3112 0158 1046     		mov	r0, r2
 3113 015a 41F69A12 		movw	r2, #6554
 3114 015e 02FB00F0 		mul	r0, r2, r0
 3115 0162 7A68     		ldr	r2, [r7, #4]
 3116 0164 526C     		ldr	r2, [r2, #68]
 3117 0166 1268     		ldr	r2, [r2]
 3118 0168 C2F30E02 		ubfx	r2, r2, #0, #15
 3119 016c 41F69A14 		movw	r4, #6554
 3120 0170 04FB02F2 		mul	r2, r4, r2
 3121 0174 D213     		asrs	r2, r2, #15
 3122 0176 0244     		add	r2, r2, r0
 3123 0178 0A44     		add	r2, r2, r1
 3124 017a 1A60     		str	r2, [r3]
 674:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->S[N-1] =  MULT16_32_Q15(QCONST16(.8f,15),st->S[N-1]) + MULT16_32_Q15(QCONST16(.2f,15),st->ps
 3125              		.loc 3 674 0
 3126 017c 7B68     		ldr	r3, [r7, #4]
 3127 017e DA6E     		ldr	r2, [r3, #108]
 3128 0180 FB68     		ldr	r3, [r7, #12]
 3129 0182 03F18043 		add	r3, r3, #1073741824
 3130 0186 013B     		subs	r3, r3, #1
 3131 0188 9B00     		lsls	r3, r3, #2
 3132 018a 1A44     		add	r2, r2, r3
 3133 018c 7B68     		ldr	r3, [r7, #4]
 3134 018e D96E     		ldr	r1, [r3, #108]
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 75


 3135 0190 FB68     		ldr	r3, [r7, #12]
 3136 0192 03F18043 		add	r3, r3, #1073741824
 3137 0196 013B     		subs	r3, r3, #1
 3138 0198 9B00     		lsls	r3, r3, #2
 3139 019a 0B44     		add	r3, r3, r1
 3140 019c 1B68     		ldr	r3, [r3]
 3141 019e DB13     		asrs	r3, r3, #15
 3142 01a0 1BB2     		sxth	r3, r3
 3143 01a2 1946     		mov	r1, r3
 3144 01a4 46F26663 		movw	r3, #26214
 3145 01a8 03FB01F1 		mul	r1, r3, r1
 3146 01ac 7B68     		ldr	r3, [r7, #4]
 3147 01ae D86E     		ldr	r0, [r3, #108]
 3148 01b0 FB68     		ldr	r3, [r7, #12]
 3149 01b2 03F18043 		add	r3, r3, #1073741824
 3150 01b6 013B     		subs	r3, r3, #1
 3151 01b8 9B00     		lsls	r3, r3, #2
 3152 01ba 0344     		add	r3, r3, r0
 3153 01bc 1B68     		ldr	r3, [r3]
 3154 01be C3F30E03 		ubfx	r3, r3, #0, #15
 3155 01c2 46F26660 		movw	r0, #26214
 3156 01c6 00FB03F3 		mul	r3, r0, r3
 3157 01ca DB13     		asrs	r3, r3, #15
 3158 01cc 1944     		add	r1, r1, r3
 3159 01ce 7B68     		ldr	r3, [r7, #4]
 3160 01d0 586C     		ldr	r0, [r3, #68]
 3161 01d2 FB68     		ldr	r3, [r7, #12]
 3162 01d4 03F18043 		add	r3, r3, #1073741824
 3163 01d8 013B     		subs	r3, r3, #1
 3164 01da 9B00     		lsls	r3, r3, #2
 3165 01dc 0344     		add	r3, r3, r0
 3166 01de 1B68     		ldr	r3, [r3]
 3167 01e0 DB13     		asrs	r3, r3, #15
 3168 01e2 1BB2     		sxth	r3, r3
 3169 01e4 1846     		mov	r0, r3
 3170 01e6 41F69A13 		movw	r3, #6554
 3171 01ea 03FB00F0 		mul	r0, r3, r0
 3172 01ee 7B68     		ldr	r3, [r7, #4]
 3173 01f0 5C6C     		ldr	r4, [r3, #68]
 3174 01f2 FB68     		ldr	r3, [r7, #12]
 3175 01f4 03F18043 		add	r3, r3, #1073741824
 3176 01f8 013B     		subs	r3, r3, #1
 3177 01fa 9B00     		lsls	r3, r3, #2
 3178 01fc 2344     		add	r3, r3, r4
 3179 01fe 1B68     		ldr	r3, [r3]
 3180 0200 C3F30E03 		ubfx	r3, r3, #0, #15
 3181 0204 41F69A14 		movw	r4, #6554
 3182 0208 04FB03F3 		mul	r3, r4, r3
 3183 020c DB13     		asrs	r3, r3, #15
 3184 020e 0344     		add	r3, r3, r0
 3185 0210 0B44     		add	r3, r3, r1
 3186 0212 1360     		str	r3, [r2]
 675:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    
 676:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    if (st->nb_adapt==1)
 3187              		.loc 3 676 0
 3188 0214 7B68     		ldr	r3, [r7, #4]
 3189 0216 D3F89030 		ldr	r3, [r3, #144]
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 76


 3190 021a 012B     		cmp	r3, #1
 3191 021c 17D1     		bne	.L134
 677:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    {
 678:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       for (i=0;i<N;i++)
 3192              		.loc 3 678 0
 3193 021e 0023     		movs	r3, #0
 3194 0220 7B61     		str	r3, [r7, #20]
 3195 0222 10E0     		b	.L135
 3196              	.L136:
 679:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          st->Smin[i] = st->Stmp[i] = 0;
 3197              		.loc 3 679 0 discriminator 3
 3198 0224 7B68     		ldr	r3, [r7, #4]
 3199 0226 1A6F     		ldr	r2, [r3, #112]
 3200 0228 7B69     		ldr	r3, [r7, #20]
 3201 022a 9B00     		lsls	r3, r3, #2
 3202 022c 1A44     		add	r2, r2, r3
 3203 022e 7B68     		ldr	r3, [r7, #4]
 3204 0230 596F     		ldr	r1, [r3, #116]
 3205 0232 7B69     		ldr	r3, [r7, #20]
 3206 0234 9B00     		lsls	r3, r3, #2
 3207 0236 0B44     		add	r3, r3, r1
 3208 0238 0021     		movs	r1, #0
 3209 023a 1960     		str	r1, [r3]
 3210 023c 1B68     		ldr	r3, [r3]
 3211 023e 1360     		str	r3, [r2]
 678:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          st->Smin[i] = st->Stmp[i] = 0;
 3212              		.loc 3 678 0 discriminator 3
 3213 0240 7B69     		ldr	r3, [r7, #20]
 3214 0242 0133     		adds	r3, r3, #1
 3215 0244 7B61     		str	r3, [r7, #20]
 3216              	.L135:
 678:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          st->Smin[i] = st->Stmp[i] = 0;
 3217              		.loc 3 678 0 is_stmt 0 discriminator 1
 3218 0246 7A69     		ldr	r2, [r7, #20]
 3219 0248 FB68     		ldr	r3, [r7, #12]
 3220 024a 9A42     		cmp	r2, r3
 3221 024c EADB     		blt	.L136
 3222              	.L134:
 680:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    }
 681:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 682:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    if (st->nb_adapt < 100)
 3223              		.loc 3 682 0 is_stmt 1
 3224 024e 7B68     		ldr	r3, [r7, #4]
 3225 0250 D3F89030 		ldr	r3, [r3, #144]
 3226 0254 632B     		cmp	r3, #99
 3227 0256 02DC     		bgt	.L137
 683:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       min_range = 15;
 3228              		.loc 3 683 0
 3229 0258 0F23     		movs	r3, #15
 3230 025a 3B61     		str	r3, [r7, #16]
 3231 025c 15E0     		b	.L138
 3232              	.L137:
 684:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    else if (st->nb_adapt < 1000)
 3233              		.loc 3 684 0
 3234 025e 7B68     		ldr	r3, [r7, #4]
 3235 0260 D3F89030 		ldr	r3, [r3, #144]
 3236 0264 B3F57A7F 		cmp	r3, #1000
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 77


 3237 0268 02DA     		bge	.L139
 685:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       min_range = 50;
 3238              		.loc 3 685 0
 3239 026a 3223     		movs	r3, #50
 3240 026c 3B61     		str	r3, [r7, #16]
 3241 026e 0CE0     		b	.L138
 3242              	.L139:
 686:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    else if (st->nb_adapt < 10000)
 3243              		.loc 3 686 0
 3244 0270 7B68     		ldr	r3, [r7, #4]
 3245 0272 D3F89030 		ldr	r3, [r3, #144]
 3246 0276 42F20F72 		movw	r2, #9999
 3247 027a 9342     		cmp	r3, r2
 3248 027c 02DC     		bgt	.L140
 687:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       min_range = 150;
 3249              		.loc 3 687 0
 3250 027e 9623     		movs	r3, #150
 3251 0280 3B61     		str	r3, [r7, #16]
 3252 0282 02E0     		b	.L138
 3253              	.L140:
 688:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    else
 689:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       min_range = 300;
 3254              		.loc 3 689 0
 3255 0284 4FF49673 		mov	r3, #300
 3256 0288 3B61     		str	r3, [r7, #16]
 3257              	.L138:
 690:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    if (st->min_count > min_range)
 3258              		.loc 3 690 0
 3259 028a 7B68     		ldr	r3, [r7, #4]
 3260 028c D3F89820 		ldr	r2, [r3, #152]
 3261 0290 3B69     		ldr	r3, [r7, #16]
 3262 0292 9A42     		cmp	r2, r3
 3263 0294 2FDD     		ble	.L141
 691:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    {
 692:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->min_count = 0;
 3264              		.loc 3 692 0
 3265 0296 7B68     		ldr	r3, [r7, #4]
 3266 0298 0022     		movs	r2, #0
 3267 029a C3F89820 		str	r2, [r3, #152]
 693:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       for (i=0;i<N;i++)
 3268              		.loc 3 693 0
 3269 029e 0023     		movs	r3, #0
 3270 02a0 7B61     		str	r3, [r7, #20]
 3271 02a2 23E0     		b	.L142
 3272              	.L143:
 694:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       {
 695:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          st->Smin[i] = MIN32(st->Stmp[i], st->S[i]);
 3273              		.loc 3 695 0 discriminator 3
 3274 02a4 7B68     		ldr	r3, [r7, #4]
 3275 02a6 1A6F     		ldr	r2, [r3, #112]
 3276 02a8 7B69     		ldr	r3, [r7, #20]
 3277 02aa 9B00     		lsls	r3, r3, #2
 3278 02ac 1344     		add	r3, r3, r2
 3279 02ae 7A68     		ldr	r2, [r7, #4]
 3280 02b0 D16E     		ldr	r1, [r2, #108]
 3281 02b2 7A69     		ldr	r2, [r7, #20]
 3282 02b4 9200     		lsls	r2, r2, #2
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 78


 3283 02b6 0A44     		add	r2, r2, r1
 3284 02b8 1168     		ldr	r1, [r2]
 3285 02ba 7A68     		ldr	r2, [r7, #4]
 3286 02bc 506F     		ldr	r0, [r2, #116]
 3287 02be 7A69     		ldr	r2, [r7, #20]
 3288 02c0 9200     		lsls	r2, r2, #2
 3289 02c2 0244     		add	r2, r2, r0
 3290 02c4 1268     		ldr	r2, [r2]
 3291 02c6 8A42     		cmp	r2, r1
 3292 02c8 A8BF     		it	ge
 3293 02ca 0A46     		movge	r2, r1
 3294 02cc 1A60     		str	r2, [r3]
 696:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          st->Stmp[i] = st->S[i];
 3295              		.loc 3 696 0 discriminator 3
 3296 02ce 7B68     		ldr	r3, [r7, #4]
 3297 02d0 5A6F     		ldr	r2, [r3, #116]
 3298 02d2 7B69     		ldr	r3, [r7, #20]
 3299 02d4 9B00     		lsls	r3, r3, #2
 3300 02d6 1344     		add	r3, r3, r2
 3301 02d8 7A68     		ldr	r2, [r7, #4]
 3302 02da D16E     		ldr	r1, [r2, #108]
 3303 02dc 7A69     		ldr	r2, [r7, #20]
 3304 02de 9200     		lsls	r2, r2, #2
 3305 02e0 0A44     		add	r2, r2, r1
 3306 02e2 1268     		ldr	r2, [r2]
 3307 02e4 1A60     		str	r2, [r3]
 693:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       for (i=0;i<N;i++)
 3308              		.loc 3 693 0 discriminator 3
 3309 02e6 7B69     		ldr	r3, [r7, #20]
 3310 02e8 0133     		adds	r3, r3, #1
 3311 02ea 7B61     		str	r3, [r7, #20]
 3312              	.L142:
 693:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       for (i=0;i<N;i++)
 3313              		.loc 3 693 0 is_stmt 0 discriminator 1
 3314 02ec 7A69     		ldr	r2, [r7, #20]
 3315 02ee FB68     		ldr	r3, [r7, #12]
 3316 02f0 9A42     		cmp	r2, r3
 3317 02f2 D7DB     		blt	.L143
 3318 02f4 33E0     		b	.L144
 3319              	.L141:
 697:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       }
 698:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    } else {
 699:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       for (i=0;i<N;i++)
 3320              		.loc 3 699 0 is_stmt 1
 3321 02f6 0023     		movs	r3, #0
 3322 02f8 7B61     		str	r3, [r7, #20]
 3323 02fa 2CE0     		b	.L145
 3324              	.L146:
 700:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       {
 701:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          st->Smin[i] = MIN32(st->Smin[i], st->S[i]);
 3325              		.loc 3 701 0 discriminator 3
 3326 02fc 7B68     		ldr	r3, [r7, #4]
 3327 02fe 1A6F     		ldr	r2, [r3, #112]
 3328 0300 7B69     		ldr	r3, [r7, #20]
 3329 0302 9B00     		lsls	r3, r3, #2
 3330 0304 1344     		add	r3, r3, r2
 3331 0306 7A68     		ldr	r2, [r7, #4]
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 79


 3332 0308 D16E     		ldr	r1, [r2, #108]
 3333 030a 7A69     		ldr	r2, [r7, #20]
 3334 030c 9200     		lsls	r2, r2, #2
 3335 030e 0A44     		add	r2, r2, r1
 3336 0310 1168     		ldr	r1, [r2]
 3337 0312 7A68     		ldr	r2, [r7, #4]
 3338 0314 106F     		ldr	r0, [r2, #112]
 3339 0316 7A69     		ldr	r2, [r7, #20]
 3340 0318 9200     		lsls	r2, r2, #2
 3341 031a 0244     		add	r2, r2, r0
 3342 031c 1268     		ldr	r2, [r2]
 3343 031e 8A42     		cmp	r2, r1
 3344 0320 A8BF     		it	ge
 3345 0322 0A46     		movge	r2, r1
 3346 0324 1A60     		str	r2, [r3]
 702:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          st->Stmp[i] = MIN32(st->Stmp[i], st->S[i]);      
 3347              		.loc 3 702 0 discriminator 3
 3348 0326 7B68     		ldr	r3, [r7, #4]
 3349 0328 5A6F     		ldr	r2, [r3, #116]
 3350 032a 7B69     		ldr	r3, [r7, #20]
 3351 032c 9B00     		lsls	r3, r3, #2
 3352 032e 1344     		add	r3, r3, r2
 3353 0330 7A68     		ldr	r2, [r7, #4]
 3354 0332 D16E     		ldr	r1, [r2, #108]
 3355 0334 7A69     		ldr	r2, [r7, #20]
 3356 0336 9200     		lsls	r2, r2, #2
 3357 0338 0A44     		add	r2, r2, r1
 3358 033a 1168     		ldr	r1, [r2]
 3359 033c 7A68     		ldr	r2, [r7, #4]
 3360 033e 506F     		ldr	r0, [r2, #116]
 3361 0340 7A69     		ldr	r2, [r7, #20]
 3362 0342 9200     		lsls	r2, r2, #2
 3363 0344 0244     		add	r2, r2, r0
 3364 0346 1268     		ldr	r2, [r2]
 3365 0348 8A42     		cmp	r2, r1
 3366 034a A8BF     		it	ge
 3367 034c 0A46     		movge	r2, r1
 3368 034e 1A60     		str	r2, [r3]
 699:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       {
 3369              		.loc 3 699 0 discriminator 3
 3370 0350 7B69     		ldr	r3, [r7, #20]
 3371 0352 0133     		adds	r3, r3, #1
 3372 0354 7B61     		str	r3, [r7, #20]
 3373              	.L145:
 699:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       {
 3374              		.loc 3 699 0 is_stmt 0 discriminator 1
 3375 0356 7A69     		ldr	r2, [r7, #20]
 3376 0358 FB68     		ldr	r3, [r7, #12]
 3377 035a 9A42     		cmp	r2, r3
 3378 035c CEDB     		blt	.L146
 3379              	.L144:
 703:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       }
 704:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    }
 705:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=0;i<N;i++)
 3380              		.loc 3 705 0 is_stmt 1
 3381 035e 0023     		movs	r3, #0
 3382 0360 7B61     		str	r3, [r7, #20]
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 80


 3383 0362 34E0     		b	.L147
 3384              	.L150:
 706:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    {
 707:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       if (MULT16_32_Q15(QCONST16(.4f,15),st->S[i]) > st->Smin[i])
 3385              		.loc 3 707 0
 3386 0364 7B68     		ldr	r3, [r7, #4]
 3387 0366 DA6E     		ldr	r2, [r3, #108]
 3388 0368 7B69     		ldr	r3, [r7, #20]
 3389 036a 9B00     		lsls	r3, r3, #2
 3390 036c 1344     		add	r3, r3, r2
 3391 036e 1B68     		ldr	r3, [r3]
 3392 0370 DB13     		asrs	r3, r3, #15
 3393 0372 1BB2     		sxth	r3, r3
 3394 0374 1A46     		mov	r2, r3
 3395 0376 43F23333 		movw	r3, #13107
 3396 037a 03FB02F2 		mul	r2, r3, r2
 3397 037e 7B68     		ldr	r3, [r7, #4]
 3398 0380 D96E     		ldr	r1, [r3, #108]
 3399 0382 7B69     		ldr	r3, [r7, #20]
 3400 0384 9B00     		lsls	r3, r3, #2
 3401 0386 0B44     		add	r3, r3, r1
 3402 0388 1B68     		ldr	r3, [r3]
 3403 038a C3F30E03 		ubfx	r3, r3, #0, #15
 3404 038e 43F23331 		movw	r1, #13107
 3405 0392 01FB03F3 		mul	r3, r1, r3
 3406 0396 DB13     		asrs	r3, r3, #15
 3407 0398 1A44     		add	r2, r2, r3
 3408 039a 7B68     		ldr	r3, [r7, #4]
 3409 039c 196F     		ldr	r1, [r3, #112]
 3410 039e 7B69     		ldr	r3, [r7, #20]
 3411 03a0 9B00     		lsls	r3, r3, #2
 3412 03a2 0B44     		add	r3, r3, r1
 3413 03a4 1B68     		ldr	r3, [r3]
 3414 03a6 9A42     		cmp	r2, r3
 3415 03a8 07DD     		ble	.L148
 708:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          st->update_prob[i] = 1;
 3416              		.loc 3 708 0
 3417 03aa 7B68     		ldr	r3, [r7, #4]
 3418 03ac 9A6F     		ldr	r2, [r3, #120]
 3419 03ae 7B69     		ldr	r3, [r7, #20]
 3420 03b0 9B00     		lsls	r3, r3, #2
 3421 03b2 1344     		add	r3, r3, r2
 3422 03b4 0122     		movs	r2, #1
 3423 03b6 1A60     		str	r2, [r3]
 3424 03b8 06E0     		b	.L149
 3425              	.L148:
 709:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       else
 710:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          st->update_prob[i] = 0;
 3426              		.loc 3 710 0
 3427 03ba 7B68     		ldr	r3, [r7, #4]
 3428 03bc 9A6F     		ldr	r2, [r3, #120]
 3429 03be 7B69     		ldr	r3, [r7, #20]
 3430 03c0 9B00     		lsls	r3, r3, #2
 3431 03c2 1344     		add	r3, r3, r2
 3432 03c4 0022     		movs	r2, #0
 3433 03c6 1A60     		str	r2, [r3]
 3434              	.L149:
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 81


 705:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    {
 3435              		.loc 3 705 0 discriminator 2
 3436 03c8 7B69     		ldr	r3, [r7, #20]
 3437 03ca 0133     		adds	r3, r3, #1
 3438 03cc 7B61     		str	r3, [r7, #20]
 3439              	.L147:
 705:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    {
 3440              		.loc 3 705 0 is_stmt 0 discriminator 1
 3441 03ce 7A69     		ldr	r2, [r7, #20]
 3442 03d0 FB68     		ldr	r3, [r7, #12]
 3443 03d2 9A42     		cmp	r2, r3
 3444 03d4 C6DB     		blt	.L150
 711:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       /*fprintf (stderr, "%f ", st->S[i]/st->Smin[i]);*/
 712:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       /*fprintf (stderr, "%f ", st->update_prob[i]);*/
 713:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    }
 714:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 715:STM32F10x_Speex_Lib/libspeex/preprocess.c **** }
 3445              		.loc 3 715 0 is_stmt 1
 3446 03d6 00BF     		nop
 3447 03d8 1837     		adds	r7, r7, #24
 3448              	.LCFI112:
 3449              		.cfi_def_cfa_offset 8
 3450 03da BD46     		mov	sp, r7
 3451              	.LCFI113:
 3452              		.cfi_def_cfa_register 13
 3453              		@ sp needed
 3454 03dc 90BC     		pop	{r4, r7}
 3455              	.LCFI114:
 3456              		.cfi_restore 7
 3457              		.cfi_restore 4
 3458              		.cfi_def_cfa_offset 0
 3459 03de 7047     		bx	lr
 3460              		.cfi_endproc
 3461              	.LFE30:
 3463              		.section	.text.speex_preprocess,"ax",%progbits
 3464              		.align	2
 3465              		.global	speex_preprocess
 3466              		.thumb
 3467              		.thumb_func
 3469              	speex_preprocess:
 3470              	.LFB31:
 716:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 717:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #define NOISE_OVERCOMPENS 1.
 718:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 719:STM32F10x_Speex_Lib/libspeex/preprocess.c **** void speex_echo_get_residual(SpeexEchoState *st, spx_word32_t *Yout, int len);
 720:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 721:STM32F10x_Speex_Lib/libspeex/preprocess.c **** EXPORT int speex_preprocess(SpeexPreprocessState *st, spx_int16_t *x, spx_int32_t *echo)
 722:STM32F10x_Speex_Lib/libspeex/preprocess.c **** {
 3471              		.loc 3 722 0
 3472              		.cfi_startproc
 3473              		@ args = 0, pretend = 0, frame = 16
 3474              		@ frame_needed = 1, uses_anonymous_args = 0
 3475 0000 80B5     		push	{r7, lr}
 3476              	.LCFI115:
 3477              		.cfi_def_cfa_offset 8
 3478              		.cfi_offset 7, -8
 3479              		.cfi_offset 14, -4
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 82


 3480 0002 84B0     		sub	sp, sp, #16
 3481              	.LCFI116:
 3482              		.cfi_def_cfa_offset 24
 3483 0004 00AF     		add	r7, sp, #0
 3484              	.LCFI117:
 3485              		.cfi_def_cfa_register 7
 3486 0006 F860     		str	r0, [r7, #12]
 3487 0008 B960     		str	r1, [r7, #8]
 3488 000a 7A60     		str	r2, [r7, #4]
 723:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    return speex_preprocess_run(st, x);
 3489              		.loc 3 723 0
 3490 000c B968     		ldr	r1, [r7, #8]
 3491 000e F868     		ldr	r0, [r7, #12]
 3492 0010 FFF7FEFF 		bl	speex_preprocess_run
 3493 0014 0346     		mov	r3, r0
 724:STM32F10x_Speex_Lib/libspeex/preprocess.c **** }
 3494              		.loc 3 724 0
 3495 0016 1846     		mov	r0, r3
 3496 0018 1037     		adds	r7, r7, #16
 3497              	.LCFI118:
 3498              		.cfi_def_cfa_offset 8
 3499 001a BD46     		mov	sp, r7
 3500              	.LCFI119:
 3501              		.cfi_def_cfa_register 13
 3502              		@ sp needed
 3503 001c 80BD     		pop	{r7, pc}
 3504              		.cfi_endproc
 3505              	.LFE31:
 3507 001e 00BF     		.section	.text.speex_preprocess_run,"ax",%progbits
 3508              		.align	2
 3509              		.global	speex_preprocess_run
 3510              		.thumb
 3511              		.thumb_func
 3513              	speex_preprocess_run:
 3514              	.LFB32:
 725:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 726:STM32F10x_Speex_Lib/libspeex/preprocess.c **** EXPORT int speex_preprocess_run(SpeexPreprocessState *st, spx_int16_t *x)
 727:STM32F10x_Speex_Lib/libspeex/preprocess.c **** {
 3515              		.loc 3 727 0
 3516              		.cfi_startproc
 3517              		@ args = 0, pretend = 0, frame = 88
 3518              		@ frame_needed = 1, uses_anonymous_args = 0
 3519 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 3520              	.LCFI120:
 3521              		.cfi_def_cfa_offset 20
 3522              		.cfi_offset 4, -20
 3523              		.cfi_offset 5, -16
 3524              		.cfi_offset 6, -12
 3525              		.cfi_offset 7, -8
 3526              		.cfi_offset 14, -4
 3527 0002 99B0     		sub	sp, sp, #100
 3528              	.LCFI121:
 3529              		.cfi_def_cfa_offset 120
 3530 0004 02AF     		add	r7, sp, #8
 3531              	.LCFI122:
 3532              		.cfi_def_cfa 7, 112
 3533 0006 7860     		str	r0, [r7, #4]
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 83


 3534 0008 3960     		str	r1, [r7]
 728:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    int i;
 729:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    int M;
 730:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    int N = st->ps_size;
 3535              		.loc 3 730 0
 3536 000a 7B68     		ldr	r3, [r7, #4]
 3537 000c 5B68     		ldr	r3, [r3, #4]
 3538 000e BB64     		str	r3, [r7, #72]
 731:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    int N3 = 2*N - st->frame_size;
 3539              		.loc 3 731 0
 3540 0010 BB6C     		ldr	r3, [r7, #72]
 3541 0012 5A00     		lsls	r2, r3, #1
 3542 0014 7B68     		ldr	r3, [r7, #4]
 3543 0016 1B68     		ldr	r3, [r3]
 3544 0018 D31A     		subs	r3, r2, r3
 3545 001a 7B64     		str	r3, [r7, #68]
 732:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    int N4 = st->frame_size - N3;
 3546              		.loc 3 732 0
 3547 001c 7B68     		ldr	r3, [r7, #4]
 3548 001e 1A68     		ldr	r2, [r3]
 3549 0020 7B6C     		ldr	r3, [r7, #68]
 3550 0022 D31A     		subs	r3, r2, r3
 3551 0024 3B64     		str	r3, [r7, #64]
 733:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    spx_word32_t *ps=st->ps;
 3552              		.loc 3 733 0
 3553 0026 7B68     		ldr	r3, [r7, #4]
 3554 0028 5B6C     		ldr	r3, [r3, #68]
 3555 002a FB63     		str	r3, [r7, #60]
 734:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    spx_word32_t Zframe;
 735:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    spx_word16_t Pframe;
 736:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    spx_word16_t beta, beta_1;
 737:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    spx_word16_t effective_echo_suppress;
 738:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    
 739:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->nb_adapt++;
 3556              		.loc 3 739 0
 3557 002c 7B68     		ldr	r3, [r7, #4]
 3558 002e D3F89030 		ldr	r3, [r3, #144]
 3559 0032 5A1C     		adds	r2, r3, #1
 3560 0034 7B68     		ldr	r3, [r7, #4]
 3561 0036 C3F89020 		str	r2, [r3, #144]
 740:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    if (st->nb_adapt>20000)
 3562              		.loc 3 740 0
 3563 003a 7B68     		ldr	r3, [r7, #4]
 3564 003c D3F89030 		ldr	r3, [r3, #144]
 3565 0040 44F62062 		movw	r2, #20000
 3566 0044 9342     		cmp	r3, r2
 3567 0046 04DD     		ble	.L154
 741:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->nb_adapt = 20000;
 3568              		.loc 3 741 0
 3569 0048 7B68     		ldr	r3, [r7, #4]
 3570 004a 44F62062 		movw	r2, #20000
 3571 004e C3F89020 		str	r2, [r3, #144]
 3572              	.L154:
 742:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->min_count++;
 3573              		.loc 3 742 0
 3574 0052 7B68     		ldr	r3, [r7, #4]
 3575 0054 D3F89830 		ldr	r3, [r3, #152]
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 84


 3576 0058 5A1C     		adds	r2, r3, #1
 3577 005a 7B68     		ldr	r3, [r7, #4]
 3578 005c C3F89820 		str	r2, [r3, #152]
 743:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    
 744:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    beta = MAX16(QCONST16(.03,15),DIV32_16(Q15_ONE,st->nb_adapt));
 3579              		.loc 3 744 0
 3580 0060 7B68     		ldr	r3, [r7, #4]
 3581 0062 D3F89030 		ldr	r3, [r3, #144]
 3582 0066 1BB2     		sxth	r3, r3
 3583 0068 1A46     		mov	r2, r3
 3584 006a 47F6FF73 		movw	r3, #32767
 3585 006e 93FBF2F3 		sdiv	r3, r3, r2
 3586 0072 1BB2     		sxth	r3, r3
 3587 0074 40F2D732 		movw	r2, #983
 3588 0078 9342     		cmp	r3, r2
 3589 007a B8BF     		it	lt
 3590 007c 1346     		movlt	r3, r2
 3591 007e 7B87     		strh	r3, [r7, #58]	@ movhi
 745:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    beta_1 = Q15_ONE-beta;
 3592              		.loc 3 745 0
 3593 0080 7B8F     		ldrh	r3, [r7, #58]
 3594 0082 C3F5FF43 		rsb	r3, r3, #32640
 3595 0086 7F33     		adds	r3, r3, #127
 3596 0088 9BB2     		uxth	r3, r3
 3597 008a 3B87     		strh	r3, [r7, #56]	@ movhi
 746:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    M = st->nbands;
 3598              		.loc 3 746 0
 3599 008c 7B68     		ldr	r3, [r7, #4]
 3600 008e DB68     		ldr	r3, [r3, #12]
 3601 0090 7B63     		str	r3, [r7, #52]
 747:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    /* Deal with residual echo if provided */
 748:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    if (st->echo_state)
 3602              		.loc 3 748 0
 3603 0092 7B68     		ldr	r3, [r7, #4]
 3604 0094 5B6B     		ldr	r3, [r3, #52]
 3605 0096 002B     		cmp	r3, #0
 3606 0098 4FD0     		beq	.L155
 749:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    {
 750:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       speex_echo_get_residual(st->echo_state, st->residual_echo, N);
 3607              		.loc 3 750 0
 3608 009a 7B68     		ldr	r3, [r7, #4]
 3609 009c 586B     		ldr	r0, [r3, #52]
 3610 009e 7B68     		ldr	r3, [r7, #4]
 3611 00a0 D3F88430 		ldr	r3, [r3, #132]
 3612 00a4 BA6C     		ldr	r2, [r7, #72]
 3613 00a6 1946     		mov	r1, r3
 3614 00a8 FFF7FEFF 		bl	speex_echo_get_residual
 751:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #ifndef FIXED_POINT
 752:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       /* If there are NaNs or ridiculous values, it'll show up in the DC and we just reset everythi
 753:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       if (!(st->residual_echo[0] >=0 && st->residual_echo[0]<N*1e9f))
 754:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       {
 755:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          for (i=0;i<N;i++)
 756:STM32F10x_Speex_Lib/libspeex/preprocess.c ****             st->residual_echo[i] = 0;
 757:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       }
 758:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #endif
 759:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       for (i=0;i<N;i++)
 3615              		.loc 3 759 0
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 85


 3616 00ac 0023     		movs	r3, #0
 3617 00ae 7B65     		str	r3, [r7, #84]
 3618 00b0 30E0     		b	.L156
 3619              	.L157:
 760:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          st->echo_noise[i] = MAX32(MULT16_32_Q15(QCONST16(.6f,15),st->echo_noise[i]), st->residual_
 3620              		.loc 3 760 0 discriminator 3
 3621 00b2 7B68     		ldr	r3, [r7, #4]
 3622 00b4 D3F88020 		ldr	r2, [r3, #128]
 3623 00b8 7B6D     		ldr	r3, [r7, #84]
 3624 00ba 9B00     		lsls	r3, r3, #2
 3625 00bc 1344     		add	r3, r3, r2
 3626 00be 7A68     		ldr	r2, [r7, #4]
 3627 00c0 D2F88410 		ldr	r1, [r2, #132]
 3628 00c4 7A6D     		ldr	r2, [r7, #84]
 3629 00c6 9200     		lsls	r2, r2, #2
 3630 00c8 0A44     		add	r2, r2, r1
 3631 00ca 1168     		ldr	r1, [r2]
 3632 00cc 7A68     		ldr	r2, [r7, #4]
 3633 00ce D2F88000 		ldr	r0, [r2, #128]
 3634 00d2 7A6D     		ldr	r2, [r7, #84]
 3635 00d4 9200     		lsls	r2, r2, #2
 3636 00d6 0244     		add	r2, r2, r0
 3637 00d8 1268     		ldr	r2, [r2]
 3638 00da D213     		asrs	r2, r2, #15
 3639 00dc 12B2     		sxth	r2, r2
 3640 00de 1046     		mov	r0, r2
 3641 00e0 44F6CD42 		movw	r2, #19661
 3642 00e4 02FB00F0 		mul	r0, r2, r0
 3643 00e8 7A68     		ldr	r2, [r7, #4]
 3644 00ea D2F88040 		ldr	r4, [r2, #128]
 3645 00ee 7A6D     		ldr	r2, [r7, #84]
 3646 00f0 9200     		lsls	r2, r2, #2
 3647 00f2 2244     		add	r2, r2, r4
 3648 00f4 1268     		ldr	r2, [r2]
 3649 00f6 C2F30E02 		ubfx	r2, r2, #0, #15
 3650 00fa 44F6CD44 		movw	r4, #19661
 3651 00fe 04FB02F2 		mul	r2, r4, r2
 3652 0102 D213     		asrs	r2, r2, #15
 3653 0104 0244     		add	r2, r2, r0
 3654 0106 8A42     		cmp	r2, r1
 3655 0108 B8BF     		it	lt
 3656 010a 0A46     		movlt	r2, r1
 3657 010c 1A60     		str	r2, [r3]
 759:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          st->echo_noise[i] = MAX32(MULT16_32_Q15(QCONST16(.6f,15),st->echo_noise[i]), st->residual_
 3658              		.loc 3 759 0 discriminator 3
 3659 010e 7B6D     		ldr	r3, [r7, #84]
 3660 0110 0133     		adds	r3, r3, #1
 3661 0112 7B65     		str	r3, [r7, #84]
 3662              	.L156:
 759:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          st->echo_noise[i] = MAX32(MULT16_32_Q15(QCONST16(.6f,15),st->echo_noise[i]), st->residual_
 3663              		.loc 3 759 0 is_stmt 0 discriminator 1
 3664 0114 7A6D     		ldr	r2, [r7, #84]
 3665 0116 BB6C     		ldr	r3, [r7, #72]
 3666 0118 9A42     		cmp	r2, r3
 3667 011a CADB     		blt	.L157
 761:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       filterbank_compute_bank32(st->bank, st->echo_noise, st->echo_noise+N);
 3668              		.loc 3 761 0 is_stmt 1
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 86


 3669 011c 7B68     		ldr	r3, [r7, #4]
 3670 011e 1869     		ldr	r0, [r3, #16]
 3671 0120 7B68     		ldr	r3, [r7, #4]
 3672 0122 D3F88010 		ldr	r1, [r3, #128]
 3673 0126 7B68     		ldr	r3, [r7, #4]
 3674 0128 D3F88020 		ldr	r2, [r3, #128]
 3675 012c BB6C     		ldr	r3, [r7, #72]
 3676 012e 9B00     		lsls	r3, r3, #2
 3677 0130 1344     		add	r3, r3, r2
 3678 0132 1A46     		mov	r2, r3
 3679 0134 FFF7FEFF 		bl	filterbank_compute_bank32
 3680 0138 13E0     		b	.L158
 3681              	.L155:
 762:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    } else {
 763:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       for (i=0;i<N+M;i++)
 3682              		.loc 3 763 0
 3683 013a 0023     		movs	r3, #0
 3684 013c 7B65     		str	r3, [r7, #84]
 3685 013e 0AE0     		b	.L159
 3686              	.L160:
 764:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          st->echo_noise[i] = 0;
 3687              		.loc 3 764 0 discriminator 3
 3688 0140 7B68     		ldr	r3, [r7, #4]
 3689 0142 D3F88020 		ldr	r2, [r3, #128]
 3690 0146 7B6D     		ldr	r3, [r7, #84]
 3691 0148 9B00     		lsls	r3, r3, #2
 3692 014a 1344     		add	r3, r3, r2
 3693 014c 0022     		movs	r2, #0
 3694 014e 1A60     		str	r2, [r3]
 763:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          st->echo_noise[i] = 0;
 3695              		.loc 3 763 0 discriminator 3
 3696 0150 7B6D     		ldr	r3, [r7, #84]
 3697 0152 0133     		adds	r3, r3, #1
 3698 0154 7B65     		str	r3, [r7, #84]
 3699              	.L159:
 763:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          st->echo_noise[i] = 0;
 3700              		.loc 3 763 0 is_stmt 0 discriminator 1
 3701 0156 BA6C     		ldr	r2, [r7, #72]
 3702 0158 7B6B     		ldr	r3, [r7, #52]
 3703 015a 1A44     		add	r2, r2, r3
 3704 015c 7B6D     		ldr	r3, [r7, #84]
 3705 015e 9A42     		cmp	r2, r3
 3706 0160 EEDC     		bgt	.L160
 3707              	.L158:
 765:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    }
 766:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    preprocess_analysis(st, x);
 3708              		.loc 3 766 0 is_stmt 1
 3709 0162 3968     		ldr	r1, [r7]
 3710 0164 7868     		ldr	r0, [r7, #4]
 3711 0166 FFF7FEFF 		bl	preprocess_analysis
 767:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 768:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    update_noise_prob(st);
 3712              		.loc 3 768 0
 3713 016a 7868     		ldr	r0, [r7, #4]
 3714 016c FFF7FEFF 		bl	update_noise_prob
 769:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 770:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    /* Noise estimation always updated for the 10 first frames */
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 87


 771:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    /*if (st->nb_adapt<10)
 772:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    {
 773:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       for (i=1;i<N-1;i++)
 774:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          st->update_prob[i] = 0;
 775:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    }
 776:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    */
 777:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    
 778:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    /* Update the noise estimate for the frequencies where it can be */
 779:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=0;i<N;i++)
 3715              		.loc 3 779 0
 3716 0170 0023     		movs	r3, #0
 3717 0172 7B65     		str	r3, [r7, #84]
 3718 0174 59E0     		b	.L161
 3719              	.L164:
 780:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    {
 781:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       if (!st->update_prob[i] || st->ps[i] < PSHR32(st->noise[i], NOISE_SHIFT))
 3720              		.loc 3 781 0
 3721 0176 7B68     		ldr	r3, [r7, #4]
 3722 0178 9A6F     		ldr	r2, [r3, #120]
 3723 017a 7B6D     		ldr	r3, [r7, #84]
 3724 017c 9B00     		lsls	r3, r3, #2
 3725 017e 1344     		add	r3, r3, r2
 3726 0180 1B68     		ldr	r3, [r3]
 3727 0182 002B     		cmp	r3, #0
 3728 0184 0FD0     		beq	.L162
 3729              		.loc 3 781 0 is_stmt 0 discriminator 1
 3730 0186 7B68     		ldr	r3, [r7, #4]
 3731 0188 5A6C     		ldr	r2, [r3, #68]
 3732 018a 7B6D     		ldr	r3, [r7, #84]
 3733 018c 9B00     		lsls	r3, r3, #2
 3734 018e 1344     		add	r3, r3, r2
 3735 0190 1A68     		ldr	r2, [r3]
 3736 0192 7B68     		ldr	r3, [r7, #4]
 3737 0194 596D     		ldr	r1, [r3, #84]
 3738 0196 7B6D     		ldr	r3, [r7, #84]
 3739 0198 9B00     		lsls	r3, r3, #2
 3740 019a 0B44     		add	r3, r3, r1
 3741 019c 1B68     		ldr	r3, [r3]
 3742 019e 4033     		adds	r3, r3, #64
 3743 01a0 DB11     		asrs	r3, r3, #7
 3744 01a2 9A42     		cmp	r2, r3
 3745 01a4 3EDA     		bge	.L163
 3746              	.L162:
 782:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          st->noise[i] = MAX32(EXTEND32(0),MULT16_32_Q15(beta_1,st->noise[i]) + MULT16_32_Q15(beta,S
 3747              		.loc 3 782 0 is_stmt 1
 3748 01a6 7B68     		ldr	r3, [r7, #4]
 3749 01a8 5A6D     		ldr	r2, [r3, #84]
 3750 01aa 7B6D     		ldr	r3, [r7, #84]
 3751 01ac 9B00     		lsls	r3, r3, #2
 3752 01ae 1344     		add	r3, r3, r2
 3753 01b0 B7F93820 		ldrsh	r2, [r7, #56]
 3754 01b4 7968     		ldr	r1, [r7, #4]
 3755 01b6 486D     		ldr	r0, [r1, #84]
 3756 01b8 796D     		ldr	r1, [r7, #84]
 3757 01ba 8900     		lsls	r1, r1, #2
 3758 01bc 0144     		add	r1, r1, r0
 3759 01be 0968     		ldr	r1, [r1]
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 88


 3760 01c0 C913     		asrs	r1, r1, #15
 3761 01c2 09B2     		sxth	r1, r1
 3762 01c4 01FB02F1 		mul	r1, r1, r2
 3763 01c8 B7F93820 		ldrsh	r2, [r7, #56]
 3764 01cc 7868     		ldr	r0, [r7, #4]
 3765 01ce 446D     		ldr	r4, [r0, #84]
 3766 01d0 786D     		ldr	r0, [r7, #84]
 3767 01d2 8000     		lsls	r0, r0, #2
 3768 01d4 2044     		add	r0, r0, r4
 3769 01d6 0068     		ldr	r0, [r0]
 3770 01d8 C0F30E00 		ubfx	r0, r0, #0, #15
 3771 01dc 00FB02F2 		mul	r2, r0, r2
 3772 01e0 D213     		asrs	r2, r2, #15
 3773 01e2 1144     		add	r1, r1, r2
 3774 01e4 B7F93A20 		ldrsh	r2, [r7, #58]
 3775 01e8 7868     		ldr	r0, [r7, #4]
 3776 01ea 446C     		ldr	r4, [r0, #68]
 3777 01ec 786D     		ldr	r0, [r7, #84]
 3778 01ee 8000     		lsls	r0, r0, #2
 3779 01f0 2044     		add	r0, r0, r4
 3780 01f2 0068     		ldr	r0, [r0]
 3781 01f4 C001     		lsls	r0, r0, #7
 3782 01f6 C013     		asrs	r0, r0, #15
 3783 01f8 00B2     		sxth	r0, r0
 3784 01fa 00FB02F0 		mul	r0, r0, r2
 3785 01fe B7F93A20 		ldrsh	r2, [r7, #58]
 3786 0202 7C68     		ldr	r4, [r7, #4]
 3787 0204 656C     		ldr	r5, [r4, #68]
 3788 0206 7C6D     		ldr	r4, [r7, #84]
 3789 0208 A400     		lsls	r4, r4, #2
 3790 020a 2C44     		add	r4, r4, r5
 3791 020c 2468     		ldr	r4, [r4]
 3792 020e E401     		lsls	r4, r4, #7
 3793 0210 C4F30E04 		ubfx	r4, r4, #0, #15
 3794 0214 04FB02F2 		mul	r2, r4, r2
 3795 0218 D213     		asrs	r2, r2, #15
 3796 021a 0244     		add	r2, r2, r0
 3797 021c 0A44     		add	r2, r2, r1
 3798 021e 22EAE272 		bic	r2, r2, r2, asr #31
 3799 0222 1A60     		str	r2, [r3]
 3800              	.L163:
 779:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    {
 3801              		.loc 3 779 0 discriminator 2
 3802 0224 7B6D     		ldr	r3, [r7, #84]
 3803 0226 0133     		adds	r3, r3, #1
 3804 0228 7B65     		str	r3, [r7, #84]
 3805              	.L161:
 779:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    {
 3806              		.loc 3 779 0 is_stmt 0 discriminator 1
 3807 022a 7A6D     		ldr	r2, [r7, #84]
 3808 022c BB6C     		ldr	r3, [r7, #72]
 3809 022e 9A42     		cmp	r2, r3
 3810 0230 A1DB     		blt	.L164
 783:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    }
 784:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    filterbank_compute_bank32(st->bank, st->noise, st->noise+N);
 3811              		.loc 3 784 0 is_stmt 1
 3812 0232 7B68     		ldr	r3, [r7, #4]
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 89


 3813 0234 1869     		ldr	r0, [r3, #16]
 3814 0236 7B68     		ldr	r3, [r7, #4]
 3815 0238 596D     		ldr	r1, [r3, #84]
 3816 023a 7B68     		ldr	r3, [r7, #4]
 3817 023c 5A6D     		ldr	r2, [r3, #84]
 3818 023e BB6C     		ldr	r3, [r7, #72]
 3819 0240 9B00     		lsls	r3, r3, #2
 3820 0242 1344     		add	r3, r3, r2
 3821 0244 1A46     		mov	r2, r3
 3822 0246 FFF7FEFF 		bl	filterbank_compute_bank32
 785:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 786:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    /* Special case for first frame */
 787:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    if (st->nb_adapt==1)
 3823              		.loc 3 787 0
 3824 024a 7B68     		ldr	r3, [r7, #4]
 3825 024c D3F89030 		ldr	r3, [r3, #144]
 3826 0250 012B     		cmp	r3, #1
 3827 0252 16D1     		bne	.L165
 788:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       for (i=0;i<N+M;i++)
 3828              		.loc 3 788 0
 3829 0254 0023     		movs	r3, #0
 3830 0256 7B65     		str	r3, [r7, #84]
 3831 0258 0DE0     		b	.L166
 3832              	.L167:
 789:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          st->old_ps[i] = ps[i];
 3833              		.loc 3 789 0 discriminator 3
 3834 025a 7B68     		ldr	r3, [r7, #4]
 3835 025c DA6D     		ldr	r2, [r3, #92]
 3836 025e 7B6D     		ldr	r3, [r7, #84]
 3837 0260 9B00     		lsls	r3, r3, #2
 3838 0262 1344     		add	r3, r3, r2
 3839 0264 7A6D     		ldr	r2, [r7, #84]
 3840 0266 9200     		lsls	r2, r2, #2
 3841 0268 F96B     		ldr	r1, [r7, #60]
 3842 026a 0A44     		add	r2, r2, r1
 3843 026c 1268     		ldr	r2, [r2]
 3844 026e 1A60     		str	r2, [r3]
 788:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       for (i=0;i<N+M;i++)
 3845              		.loc 3 788 0 discriminator 3
 3846 0270 7B6D     		ldr	r3, [r7, #84]
 3847 0272 0133     		adds	r3, r3, #1
 3848 0274 7B65     		str	r3, [r7, #84]
 3849              	.L166:
 788:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       for (i=0;i<N+M;i++)
 3850              		.loc 3 788 0 is_stmt 0 discriminator 1
 3851 0276 BA6C     		ldr	r2, [r7, #72]
 3852 0278 7B6B     		ldr	r3, [r7, #52]
 3853 027a 1A44     		add	r2, r2, r3
 3854 027c 7B6D     		ldr	r3, [r7, #84]
 3855 027e 9A42     		cmp	r2, r3
 3856 0280 EBDC     		bgt	.L167
 3857              	.L165:
 790:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 791:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    /* Compute a posteriori SNR */
 792:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=0;i<N+M;i++)
 3858              		.loc 3 792 0 is_stmt 1
 3859 0282 0023     		movs	r3, #0
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 90


 3860 0284 7B65     		str	r3, [r7, #84]
 3861 0286 B7E0     		b	.L168
 3862              	.L169:
 3863              	.LBB6:
 793:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    {
 794:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       spx_word16_t gamma;
 795:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       
 796:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       /* Total noise estimate including residual echo and reverberation */
 797:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       spx_word32_t tot_noise = ADD32(ADD32(ADD32(EXTEND32(1), PSHR32(st->noise[i],NOISE_SHIFT)) , s
 3864              		.loc 3 797 0 discriminator 3
 3865 0288 7B68     		ldr	r3, [r7, #4]
 3866 028a 5A6D     		ldr	r2, [r3, #84]
 3867 028c 7B6D     		ldr	r3, [r7, #84]
 3868 028e 9B00     		lsls	r3, r3, #2
 3869 0290 1344     		add	r3, r3, r2
 3870 0292 1B68     		ldr	r3, [r3]
 3871 0294 4033     		adds	r3, r3, #64
 3872 0296 DB11     		asrs	r3, r3, #7
 3873 0298 5A1C     		adds	r2, r3, #1
 3874 029a 7B68     		ldr	r3, [r7, #4]
 3875 029c D3F88010 		ldr	r1, [r3, #128]
 3876 02a0 7B6D     		ldr	r3, [r7, #84]
 3877 02a2 9B00     		lsls	r3, r3, #2
 3878 02a4 0B44     		add	r3, r3, r1
 3879 02a6 1B68     		ldr	r3, [r3]
 3880 02a8 1A44     		add	r2, r2, r3
 3881 02aa 7B68     		ldr	r3, [r7, #4]
 3882 02ac 996D     		ldr	r1, [r3, #88]
 3883 02ae 7B6D     		ldr	r3, [r7, #84]
 3884 02b0 9B00     		lsls	r3, r3, #2
 3885 02b2 0B44     		add	r3, r3, r1
 3886 02b4 1B68     		ldr	r3, [r3]
 3887 02b6 1344     		add	r3, r3, r2
 3888 02b8 3B63     		str	r3, [r7, #48]
 798:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       
 799:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       /* A posteriori SNR = ps/noise - 1*/
 800:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->post[i] = SUB16(DIV32_16_Q8(ps[i],tot_noise), QCONST16(1.f,SNR_SHIFT));
 3889              		.loc 3 800 0 discriminator 3
 3890 02ba 7B68     		ldr	r3, [r7, #4]
 3891 02bc 9A6E     		ldr	r2, [r3, #104]
 3892 02be 7B6D     		ldr	r3, [r7, #84]
 3893 02c0 5B00     		lsls	r3, r3, #1
 3894 02c2 D418     		adds	r4, r2, r3
 3895 02c4 7B6D     		ldr	r3, [r7, #84]
 3896 02c6 9B00     		lsls	r3, r3, #2
 3897 02c8 FA6B     		ldr	r2, [r7, #60]
 3898 02ca 1344     		add	r3, r3, r2
 3899 02cc 1B68     		ldr	r3, [r3]
 3900 02ce 396B     		ldr	r1, [r7, #48]
 3901 02d0 1846     		mov	r0, r3
 3902 02d2 FFF7FEFF 		bl	DIV32_16_Q8
 3903 02d6 0346     		mov	r3, r0
 3904 02d8 9BB2     		uxth	r3, r3
 3905 02da A3F58073 		sub	r3, r3, #256
 3906 02de 9BB2     		uxth	r3, r3
 3907 02e0 1BB2     		sxth	r3, r3
 3908 02e2 2380     		strh	r3, [r4]	@ movhi
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 91


 801:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->post[i]=MIN16(st->post[i], QCONST16(100.f,SNR_SHIFT));
 3909              		.loc 3 801 0 discriminator 3
 3910 02e4 7B68     		ldr	r3, [r7, #4]
 3911 02e6 9A6E     		ldr	r2, [r3, #104]
 3912 02e8 7B6D     		ldr	r3, [r7, #84]
 3913 02ea 5B00     		lsls	r3, r3, #1
 3914 02ec 1344     		add	r3, r3, r2
 3915 02ee 7A68     		ldr	r2, [r7, #4]
 3916 02f0 916E     		ldr	r1, [r2, #104]
 3917 02f2 7A6D     		ldr	r2, [r7, #84]
 3918 02f4 5200     		lsls	r2, r2, #1
 3919 02f6 0A44     		add	r2, r2, r1
 3920 02f8 B2F90020 		ldrsh	r2, [r2]
 3921 02fc B2F5C84F 		cmp	r2, #25600
 3922 0300 A8BF     		it	ge
 3923 0302 4FF4C842 		movge	r2, #25600
 3924 0306 12B2     		sxth	r2, r2
 3925 0308 1A80     		strh	r2, [r3]	@ movhi
 802:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       
 803:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       /* Computing update gamma = .1 + .9*(old/(old+noise))^2 */
 804:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       gamma = QCONST16(.1f,15)+MULT16_16_Q15(QCONST16(.89f,15),SQR16_Q15(DIV32_16_Q15(st->old_ps[i]
 3926              		.loc 3 804 0 discriminator 3
 3927 030a 7B68     		ldr	r3, [r7, #4]
 3928 030c DA6D     		ldr	r2, [r3, #92]
 3929 030e 7B6D     		ldr	r3, [r7, #84]
 3930 0310 9B00     		lsls	r3, r3, #2
 3931 0312 1344     		add	r3, r3, r2
 3932 0314 1868     		ldr	r0, [r3]
 3933 0316 7B68     		ldr	r3, [r7, #4]
 3934 0318 DA6D     		ldr	r2, [r3, #92]
 3935 031a 7B6D     		ldr	r3, [r7, #84]
 3936 031c 9B00     		lsls	r3, r3, #2
 3937 031e 1344     		add	r3, r3, r2
 3938 0320 1A68     		ldr	r2, [r3]
 3939 0322 3B6B     		ldr	r3, [r7, #48]
 3940 0324 1344     		add	r3, r3, r2
 3941 0326 1946     		mov	r1, r3
 3942 0328 FFF7FEFF 		bl	DIV32_16_Q15
 3943 032c 0346     		mov	r3, r0
 3944 032e 1C46     		mov	r4, r3
 3945 0330 7B68     		ldr	r3, [r7, #4]
 3946 0332 DA6D     		ldr	r2, [r3, #92]
 3947 0334 7B6D     		ldr	r3, [r7, #84]
 3948 0336 9B00     		lsls	r3, r3, #2
 3949 0338 1344     		add	r3, r3, r2
 3950 033a 1868     		ldr	r0, [r3]
 3951 033c 7B68     		ldr	r3, [r7, #4]
 3952 033e DA6D     		ldr	r2, [r3, #92]
 3953 0340 7B6D     		ldr	r3, [r7, #84]
 3954 0342 9B00     		lsls	r3, r3, #2
 3955 0344 1344     		add	r3, r3, r2
 3956 0346 1A68     		ldr	r2, [r3]
 3957 0348 3B6B     		ldr	r3, [r7, #48]
 3958 034a 1344     		add	r3, r3, r2
 3959 034c 1946     		mov	r1, r3
 3960 034e FFF7FEFF 		bl	DIV32_16_Q15
 3961 0352 0346     		mov	r3, r0
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 92


 3962 0354 03FB04F3 		mul	r3, r3, r4
 3963 0358 DB13     		asrs	r3, r3, #15
 3964 035a 1BB2     		sxth	r3, r3
 3965 035c 1A46     		mov	r2, r3
 3966 035e 47F2EC13 		movw	r3, #29164
 3967 0362 03FB02F3 		mul	r3, r3, r2
 3968 0366 DB13     		asrs	r3, r3, #15
 3969 0368 9BB2     		uxth	r3, r3
 3970 036a 03F6CD43 		addw	r3, r3, #3277
 3971 036e 9BB2     		uxth	r3, r3
 3972 0370 FB85     		strh	r3, [r7, #46]	@ movhi
 805:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       
 806:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       /* A priori SNR update = gamma*max(0,post) + (1-gamma)*old/noise */
 807:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->prior[i] = EXTRACT16(PSHR32(ADD32(MULT16_16(gamma,MAX16(0,st->post[i])), MULT16_16(Q15_ON
 3973              		.loc 3 807 0 discriminator 3
 3974 0372 7B68     		ldr	r3, [r7, #4]
 3975 0374 5A6E     		ldr	r2, [r3, #100]
 3976 0376 7B6D     		ldr	r3, [r7, #84]
 3977 0378 5B00     		lsls	r3, r3, #1
 3978 037a D418     		adds	r4, r2, r3
 3979 037c B7F92E30 		ldrsh	r3, [r7, #46]
 3980 0380 7A68     		ldr	r2, [r7, #4]
 3981 0382 916E     		ldr	r1, [r2, #104]
 3982 0384 7A6D     		ldr	r2, [r7, #84]
 3983 0386 5200     		lsls	r2, r2, #1
 3984 0388 0A44     		add	r2, r2, r1
 3985 038a B2F90020 		ldrsh	r2, [r2]
 3986 038e 22EAE272 		bic	r2, r2, r2, asr #31
 3987 0392 12B2     		sxth	r2, r2
 3988 0394 02FB03F5 		mul	r5, r2, r3
 3989 0398 FB8D     		ldrh	r3, [r7, #46]
 3990 039a C3F5FF43 		rsb	r3, r3, #32640
 3991 039e 7F33     		adds	r3, r3, #127
 3992 03a0 9BB2     		uxth	r3, r3
 3993 03a2 1BB2     		sxth	r3, r3
 3994 03a4 1E46     		mov	r6, r3
 3995 03a6 7B68     		ldr	r3, [r7, #4]
 3996 03a8 DA6D     		ldr	r2, [r3, #92]
 3997 03aa 7B6D     		ldr	r3, [r7, #84]
 3998 03ac 9B00     		lsls	r3, r3, #2
 3999 03ae 1344     		add	r3, r3, r2
 4000 03b0 1B68     		ldr	r3, [r3]
 4001 03b2 396B     		ldr	r1, [r7, #48]
 4002 03b4 1846     		mov	r0, r3
 4003 03b6 FFF7FEFF 		bl	DIV32_16_Q8
 4004 03ba 0346     		mov	r3, r0
 4005 03bc 03FB06F3 		mul	r3, r3, r6
 4006 03c0 2B44     		add	r3, r3, r5
 4007 03c2 03F58043 		add	r3, r3, #16384
 4008 03c6 DB13     		asrs	r3, r3, #15
 4009 03c8 1BB2     		sxth	r3, r3
 4010 03ca 2380     		strh	r3, [r4]	@ movhi
 808:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->prior[i]=MIN16(st->prior[i], QCONST16(100.f,SNR_SHIFT));
 4011              		.loc 3 808 0 discriminator 3
 4012 03cc 7B68     		ldr	r3, [r7, #4]
 4013 03ce 5A6E     		ldr	r2, [r3, #100]
 4014 03d0 7B6D     		ldr	r3, [r7, #84]
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 93


 4015 03d2 5B00     		lsls	r3, r3, #1
 4016 03d4 1344     		add	r3, r3, r2
 4017 03d6 7A68     		ldr	r2, [r7, #4]
 4018 03d8 516E     		ldr	r1, [r2, #100]
 4019 03da 7A6D     		ldr	r2, [r7, #84]
 4020 03dc 5200     		lsls	r2, r2, #1
 4021 03de 0A44     		add	r2, r2, r1
 4022 03e0 B2F90020 		ldrsh	r2, [r2]
 4023 03e4 B2F5C84F 		cmp	r2, #25600
 4024 03e8 A8BF     		it	ge
 4025 03ea 4FF4C842 		movge	r2, #25600
 4026 03ee 12B2     		sxth	r2, r2
 4027 03f0 1A80     		strh	r2, [r3]	@ movhi
 4028              	.LBE6:
 792:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    {
 4029              		.loc 3 792 0 discriminator 3
 4030 03f2 7B6D     		ldr	r3, [r7, #84]
 4031 03f4 0133     		adds	r3, r3, #1
 4032 03f6 7B65     		str	r3, [r7, #84]
 4033              	.L168:
 792:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    {
 4034              		.loc 3 792 0 is_stmt 0 discriminator 1
 4035 03f8 BA6C     		ldr	r2, [r7, #72]
 4036 03fa 7B6B     		ldr	r3, [r7, #52]
 4037 03fc 1A44     		add	r2, r2, r3
 4038 03fe 7B6D     		ldr	r3, [r7, #84]
 4039 0400 9A42     		cmp	r2, r3
 4040 0402 3FF741AF 		bgt	.L169
 809:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    }
 810:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 811:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    /*print_vec(st->post, N+M, "");*/
 812:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 813:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    /* Recursive average of the a priori SNR. A bit smoothed for the psd components */
 814:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->zeta[0] = PSHR32(ADD32(MULT16_16(QCONST16(.7f,15),st->zeta[0]), MULT16_16(QCONST16(.3f,15),s
 4041              		.loc 3 814 0 is_stmt 1
 4042 0406 7B68     		ldr	r3, [r7, #4]
 4043 0408 DB6F     		ldr	r3, [r3, #124]
 4044 040a 7A68     		ldr	r2, [r7, #4]
 4045 040c D26F     		ldr	r2, [r2, #124]
 4046 040e B2F90020 		ldrsh	r2, [r2]
 4047 0412 1146     		mov	r1, r2
 4048 0414 45F69A12 		movw	r2, #22938
 4049 0418 02FB01F1 		mul	r1, r2, r1
 4050 041c 7A68     		ldr	r2, [r7, #4]
 4051 041e 526E     		ldr	r2, [r2, #100]
 4052 0420 B2F90020 		ldrsh	r2, [r2]
 4053 0424 1046     		mov	r0, r2
 4054 0426 42F26662 		movw	r2, #9830
 4055 042a 02FB00F2 		mul	r2, r2, r0
 4056 042e 0A44     		add	r2, r2, r1
 4057 0430 02F58042 		add	r2, r2, #16384
 4058 0434 D213     		asrs	r2, r2, #15
 4059 0436 12B2     		sxth	r2, r2
 4060 0438 1A80     		strh	r2, [r3]	@ movhi
 815:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=1;i<N-1;i++)
 4061              		.loc 3 815 0
 4062 043a 0123     		movs	r3, #1
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 94


 4063 043c 7B65     		str	r3, [r7, #84]
 4064 043e 43E0     		b	.L170
 4065              	.L171:
 816:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->zeta[i] = PSHR32(ADD32(ADD32(ADD32(MULT16_16(QCONST16(.7f,15),st->zeta[i]), MULT16_16(QCO
 4066              		.loc 3 816 0 discriminator 3
 4067 0440 7B68     		ldr	r3, [r7, #4]
 4068 0442 DA6F     		ldr	r2, [r3, #124]
 4069 0444 7B6D     		ldr	r3, [r7, #84]
 4070 0446 5B00     		lsls	r3, r3, #1
 4071 0448 1A44     		add	r2, r2, r3
 4072 044a 7B68     		ldr	r3, [r7, #4]
 4073 044c D96F     		ldr	r1, [r3, #124]
 4074 044e 7B6D     		ldr	r3, [r7, #84]
 4075 0450 5B00     		lsls	r3, r3, #1
 4076 0452 0B44     		add	r3, r3, r1
 4077 0454 B3F90030 		ldrsh	r3, [r3]
 4078 0458 1946     		mov	r1, r3
 4079 045a 45F69A13 		movw	r3, #22938
 4080 045e 03FB01F1 		mul	r1, r3, r1
 4081 0462 7B68     		ldr	r3, [r7, #4]
 4082 0464 586E     		ldr	r0, [r3, #100]
 4083 0466 7B6D     		ldr	r3, [r7, #84]
 4084 0468 5B00     		lsls	r3, r3, #1
 4085 046a 0344     		add	r3, r3, r0
 4086 046c B3F90030 		ldrsh	r3, [r3]
 4087 0470 1846     		mov	r0, r3
 4088 0472 41F23333 		movw	r3, #4915
 4089 0476 03FB00F3 		mul	r3, r3, r0
 4090 047a 1944     		add	r1, r1, r3
 4091 047c 7B68     		ldr	r3, [r7, #4]
 4092 047e 586E     		ldr	r0, [r3, #100]
 4093 0480 7B6D     		ldr	r3, [r7, #84]
 4094 0482 03F10043 		add	r3, r3, #-2147483648
 4095 0486 013B     		subs	r3, r3, #1
 4096 0488 5B00     		lsls	r3, r3, #1
 4097 048a 0344     		add	r3, r3, r0
 4098 048c B3F90030 		ldrsh	r3, [r3]
 4099 0490 1846     		mov	r0, r3
 4100 0492 40F69A13 		movw	r3, #2458
 4101 0496 03FB00F3 		mul	r3, r3, r0
 4102 049a 1944     		add	r1, r1, r3
 4103 049c 7B68     		ldr	r3, [r7, #4]
 4104 049e 586E     		ldr	r0, [r3, #100]
 4105 04a0 7B6D     		ldr	r3, [r7, #84]
 4106 04a2 0133     		adds	r3, r3, #1
 4107 04a4 5B00     		lsls	r3, r3, #1
 4108 04a6 0344     		add	r3, r3, r0
 4109 04a8 B3F90030 		ldrsh	r3, [r3]
 4110 04ac 1846     		mov	r0, r3
 4111 04ae 40F69A13 		movw	r3, #2458
 4112 04b2 03FB00F3 		mul	r3, r3, r0
 4113 04b6 0B44     		add	r3, r3, r1
 4114 04b8 03F58043 		add	r3, r3, #16384
 4115 04bc DB13     		asrs	r3, r3, #15
 4116 04be 1BB2     		sxth	r3, r3
 4117 04c0 1380     		strh	r3, [r2]	@ movhi
 815:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=1;i<N-1;i++)
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 95


 4118              		.loc 3 815 0 discriminator 3
 4119 04c2 7B6D     		ldr	r3, [r7, #84]
 4120 04c4 0133     		adds	r3, r3, #1
 4121 04c6 7B65     		str	r3, [r7, #84]
 4122              	.L170:
 815:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=1;i<N-1;i++)
 4123              		.loc 3 815 0 is_stmt 0 discriminator 1
 4124 04c8 BB6C     		ldr	r3, [r7, #72]
 4125 04ca 5A1E     		subs	r2, r3, #1
 4126 04cc 7B6D     		ldr	r3, [r7, #84]
 4127 04ce 9A42     		cmp	r2, r3
 4128 04d0 B6DC     		bgt	.L171
 817:STM32F10x_Speex_Lib/libspeex/preprocess.c ****                            MULT16_16(QCONST16(.075f,15),st->prior[i-1])), MULT16_16(QCONST16(.075f,
 818:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=N-1;i<N+M;i++)
 4129              		.loc 3 818 0 is_stmt 1
 4130 04d2 BB6C     		ldr	r3, [r7, #72]
 4131 04d4 013B     		subs	r3, r3, #1
 4132 04d6 7B65     		str	r3, [r7, #84]
 4133 04d8 25E0     		b	.L172
 4134              	.L173:
 819:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->zeta[i] = PSHR32(ADD32(MULT16_16(QCONST16(.7f,15),st->zeta[i]), MULT16_16(QCONST16(.3f,15
 4135              		.loc 3 819 0 discriminator 3
 4136 04da 7B68     		ldr	r3, [r7, #4]
 4137 04dc DA6F     		ldr	r2, [r3, #124]
 4138 04de 7B6D     		ldr	r3, [r7, #84]
 4139 04e0 5B00     		lsls	r3, r3, #1
 4140 04e2 1344     		add	r3, r3, r2
 4141 04e4 7A68     		ldr	r2, [r7, #4]
 4142 04e6 D16F     		ldr	r1, [r2, #124]
 4143 04e8 7A6D     		ldr	r2, [r7, #84]
 4144 04ea 5200     		lsls	r2, r2, #1
 4145 04ec 0A44     		add	r2, r2, r1
 4146 04ee B2F90020 		ldrsh	r2, [r2]
 4147 04f2 1146     		mov	r1, r2
 4148 04f4 45F69A12 		movw	r2, #22938
 4149 04f8 02FB01F1 		mul	r1, r2, r1
 4150 04fc 7A68     		ldr	r2, [r7, #4]
 4151 04fe 506E     		ldr	r0, [r2, #100]
 4152 0500 7A6D     		ldr	r2, [r7, #84]
 4153 0502 5200     		lsls	r2, r2, #1
 4154 0504 0244     		add	r2, r2, r0
 4155 0506 B2F90020 		ldrsh	r2, [r2]
 4156 050a 1046     		mov	r0, r2
 4157 050c 42F26662 		movw	r2, #9830
 4158 0510 02FB00F2 		mul	r2, r2, r0
 4159 0514 0A44     		add	r2, r2, r1
 4160 0516 02F58042 		add	r2, r2, #16384
 4161 051a D213     		asrs	r2, r2, #15
 4162 051c 12B2     		sxth	r2, r2
 4163 051e 1A80     		strh	r2, [r3]	@ movhi
 818:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->zeta[i] = PSHR32(ADD32(MULT16_16(QCONST16(.7f,15),st->zeta[i]), MULT16_16(QCONST16(.3f,15
 4164              		.loc 3 818 0 discriminator 3
 4165 0520 7B6D     		ldr	r3, [r7, #84]
 4166 0522 0133     		adds	r3, r3, #1
 4167 0524 7B65     		str	r3, [r7, #84]
 4168              	.L172:
 818:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->zeta[i] = PSHR32(ADD32(MULT16_16(QCONST16(.7f,15),st->zeta[i]), MULT16_16(QCONST16(.3f,15
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 96


 4169              		.loc 3 818 0 is_stmt 0 discriminator 1
 4170 0526 BA6C     		ldr	r2, [r7, #72]
 4171 0528 7B6B     		ldr	r3, [r7, #52]
 4172 052a 1A44     		add	r2, r2, r3
 4173 052c 7B6D     		ldr	r3, [r7, #84]
 4174 052e 9A42     		cmp	r2, r3
 4175 0530 D3DC     		bgt	.L173
 820:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 821:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    /* Speech probability of presence for the entire frame is based on the average filterbank a prio
 822:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    Zframe = 0;
 4176              		.loc 3 822 0 is_stmt 1
 4177 0532 0023     		movs	r3, #0
 4178 0534 3B65     		str	r3, [r7, #80]
 823:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=N;i<N+M;i++)
 4179              		.loc 3 823 0
 4180 0536 BB6C     		ldr	r3, [r7, #72]
 4181 0538 7B65     		str	r3, [r7, #84]
 4182 053a 0DE0     		b	.L174
 4183              	.L175:
 824:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       Zframe = ADD32(Zframe, EXTEND32(st->zeta[i]));
 4184              		.loc 3 824 0 discriminator 3
 4185 053c 7B68     		ldr	r3, [r7, #4]
 4186 053e DA6F     		ldr	r2, [r3, #124]
 4187 0540 7B6D     		ldr	r3, [r7, #84]
 4188 0542 5B00     		lsls	r3, r3, #1
 4189 0544 1344     		add	r3, r3, r2
 4190 0546 B3F90030 		ldrsh	r3, [r3]
 4191 054a 1A46     		mov	r2, r3
 4192 054c 3B6D     		ldr	r3, [r7, #80]
 4193 054e 1344     		add	r3, r3, r2
 4194 0550 3B65     		str	r3, [r7, #80]
 823:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=N;i<N+M;i++)
 4195              		.loc 3 823 0 discriminator 3
 4196 0552 7B6D     		ldr	r3, [r7, #84]
 4197 0554 0133     		adds	r3, r3, #1
 4198 0556 7B65     		str	r3, [r7, #84]
 4199              	.L174:
 823:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=N;i<N+M;i++)
 4200              		.loc 3 823 0 is_stmt 0 discriminator 1
 4201 0558 BA6C     		ldr	r2, [r7, #72]
 4202 055a 7B6B     		ldr	r3, [r7, #52]
 4203 055c 1A44     		add	r2, r2, r3
 4204 055e 7B6D     		ldr	r3, [r7, #84]
 4205 0560 9A42     		cmp	r2, r3
 4206 0562 EBDC     		bgt	.L175
 825:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    Pframe = QCONST16(.1f,15)+MULT16_16_Q15(QCONST16(.899f,15),qcurve(DIV32_16(Zframe,st->nbands)));
 4207              		.loc 3 825 0 is_stmt 1
 4208 0564 7B68     		ldr	r3, [r7, #4]
 4209 0566 DB68     		ldr	r3, [r3, #12]
 4210 0568 1BB2     		sxth	r3, r3
 4211 056a 1A46     		mov	r2, r3
 4212 056c 3B6D     		ldr	r3, [r7, #80]
 4213 056e 93FBF2F3 		sdiv	r3, r3, r2
 4214 0572 1BB2     		sxth	r3, r3
 4215 0574 1846     		mov	r0, r3
 4216 0576 FFF7FEFF 		bl	qcurve
 4217 057a 0346     		mov	r3, r0
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 97


 4218 057c 1A46     		mov	r2, r3
 4219 057e 47F21233 		movw	r3, #29458
 4220 0582 03FB02F3 		mul	r3, r3, r2
 4221 0586 DB13     		asrs	r3, r3, #15
 4222 0588 9BB2     		uxth	r3, r3
 4223 058a 03F6CD43 		addw	r3, r3, #3277
 4224 058e 9BB2     		uxth	r3, r3
 4225 0590 BB85     		strh	r3, [r7, #44]	@ movhi
 826:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    
 827:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    effective_echo_suppress = EXTRACT16(PSHR32(ADD32(MULT16_16(SUB16(Q15_ONE,Pframe), st->echo_suppr
 4226              		.loc 3 827 0
 4227 0592 BB8D     		ldrh	r3, [r7, #44]
 4228 0594 C3F5FF43 		rsb	r3, r3, #32640
 4229 0598 7F33     		adds	r3, r3, #127
 4230 059a 9BB2     		uxth	r3, r3
 4231 059c 1BB2     		sxth	r3, r3
 4232 059e 1A46     		mov	r2, r3
 4233 05a0 7B68     		ldr	r3, [r7, #4]
 4234 05a2 DB6A     		ldr	r3, [r3, #44]
 4235 05a4 1BB2     		sxth	r3, r3
 4236 05a6 03FB02F2 		mul	r2, r3, r2
 4237 05aa B7F92C30 		ldrsh	r3, [r7, #44]
 4238 05ae 7968     		ldr	r1, [r7, #4]
 4239 05b0 096B     		ldr	r1, [r1, #48]
 4240 05b2 09B2     		sxth	r1, r1
 4241 05b4 01FB03F3 		mul	r3, r1, r3
 4242 05b8 1344     		add	r3, r3, r2
 4243 05ba 03F58043 		add	r3, r3, #16384
 4244 05be DB13     		asrs	r3, r3, #15
 4245 05c0 7B85     		strh	r3, [r7, #42]	@ movhi
 828:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    
 829:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    compute_gain_floor(st->noise_suppress, effective_echo_suppress, st->noise+N, st->echo_noise+N, s
 4246              		.loc 3 829 0
 4247 05c2 7B68     		ldr	r3, [r7, #4]
 4248 05c4 986A     		ldr	r0, [r3, #40]
 4249 05c6 B7F92A10 		ldrsh	r1, [r7, #42]
 4250 05ca 7B68     		ldr	r3, [r7, #4]
 4251 05cc 5A6D     		ldr	r2, [r3, #84]
 4252 05ce BB6C     		ldr	r3, [r7, #72]
 4253 05d0 9B00     		lsls	r3, r3, #2
 4254 05d2 D418     		adds	r4, r2, r3
 4255 05d4 7B68     		ldr	r3, [r7, #4]
 4256 05d6 D3F88020 		ldr	r2, [r3, #128]
 4257 05da BB6C     		ldr	r3, [r7, #72]
 4258 05dc 9B00     		lsls	r3, r3, #2
 4259 05de D518     		adds	r5, r2, r3
 4260 05e0 7B68     		ldr	r3, [r7, #4]
 4261 05e2 DA6C     		ldr	r2, [r3, #76]
 4262 05e4 BB6C     		ldr	r3, [r7, #72]
 4263 05e6 5B00     		lsls	r3, r3, #1
 4264 05e8 1344     		add	r3, r3, r2
 4265 05ea 7A6B     		ldr	r2, [r7, #52]
 4266 05ec 0192     		str	r2, [sp, #4]
 4267 05ee 0093     		str	r3, [sp]
 4268 05f0 2B46     		mov	r3, r5
 4269 05f2 2246     		mov	r2, r4
 4270 05f4 FFF7FEFF 		bl	compute_gain_floor
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 98


 830:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          
 831:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    /* Compute Ephraim & Malah gain speech probability of presence for each critical band (Bark scal
 832:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       Technically this is actually wrong because the EM gaim assumes a slightly different probabili
 833:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       distribution */
 834:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=N;i<N+M;i++)
 4271              		.loc 3 834 0
 4272 05f8 BB6C     		ldr	r3, [r7, #72]
 4273 05fa 7B65     		str	r3, [r7, #84]
 4274 05fc 83E1     		b	.L176
 4275              	.L181:
 4276              	.LBB7:
 835:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    {
 836:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       /* See EM and Cohen papers*/
 837:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       spx_word32_t theta;
 838:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       /* Gain from hypergeometric function */
 839:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       spx_word32_t MM;
 840:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       /* Weiner filter gain */
 841:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       spx_word16_t prior_ratio;
 842:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       /* a priority probability of speech presence based on Bark sub-band alone */
 843:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       spx_word16_t P1;
 844:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       /* Speech absence a priori probability (considering sub-band and frame) */
 845:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       spx_word16_t q;
 846:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #ifdef FIXED_POINT
 847:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       spx_word16_t tmp;
 848:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #endif
 849:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       
 850:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       prior_ratio = PDIV32_16(SHL32(EXTEND32(st->prior[i]), 15), ADD16(st->prior[i], SHL32(1,SNR_SH
 4277              		.loc 3 850 0
 4278 05fe 7B68     		ldr	r3, [r7, #4]
 4279 0600 5A6E     		ldr	r2, [r3, #100]
 4280 0602 7B6D     		ldr	r3, [r7, #84]
 4281 0604 5B00     		lsls	r3, r3, #1
 4282 0606 1344     		add	r3, r3, r2
 4283 0608 B3F90030 		ldrsh	r3, [r3]
 4284 060c DB03     		lsls	r3, r3, #15
 4285 060e 7A68     		ldr	r2, [r7, #4]
 4286 0610 516E     		ldr	r1, [r2, #100]
 4287 0612 7A6D     		ldr	r2, [r7, #84]
 4288 0614 5200     		lsls	r2, r2, #1
 4289 0616 0A44     		add	r2, r2, r1
 4290 0618 B2F90020 		ldrsh	r2, [r2]
 4291 061c 92B2     		uxth	r2, r2
 4292 061e 02F58072 		add	r2, r2, #256
 4293 0622 92B2     		uxth	r2, r2
 4294 0624 12B2     		sxth	r2, r2
 4295 0626 5210     		asrs	r2, r2, #1
 4296 0628 12B2     		sxth	r2, r2
 4297 062a 1344     		add	r3, r3, r2
 4298 062c 7A68     		ldr	r2, [r7, #4]
 4299 062e 516E     		ldr	r1, [r2, #100]
 4300 0630 7A6D     		ldr	r2, [r7, #84]
 4301 0632 5200     		lsls	r2, r2, #1
 4302 0634 0A44     		add	r2, r2, r1
 4303 0636 B2F90020 		ldrsh	r2, [r2]
 4304 063a 92B2     		uxth	r2, r2
 4305 063c 02F58072 		add	r2, r2, #256
 4306 0640 92B2     		uxth	r2, r2
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 99


 4307 0642 12B2     		sxth	r2, r2
 4308 0644 93FBF2F3 		sdiv	r3, r3, r2
 4309 0648 3B85     		strh	r3, [r7, #40]	@ movhi
 851:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       theta = MULT16_32_P15(prior_ratio, QCONST32(1.f,EXPIN_SHIFT)+SHL32(EXTEND32(st->post[i]),EXPI
 4310              		.loc 3 851 0
 4311 064a B7F92830 		ldrsh	r3, [r7, #40]
 4312 064e 7A68     		ldr	r2, [r7, #4]
 4313 0650 916E     		ldr	r1, [r2, #104]
 4314 0652 7A6D     		ldr	r2, [r7, #84]
 4315 0654 5200     		lsls	r2, r2, #1
 4316 0656 0A44     		add	r2, r2, r1
 4317 0658 B2F90020 		ldrsh	r2, [r2]
 4318 065c D200     		lsls	r2, r2, #3
 4319 065e 02F50062 		add	r2, r2, #2048
 4320 0662 D213     		asrs	r2, r2, #15
 4321 0664 12B2     		sxth	r2, r2
 4322 0666 02FB03F2 		mul	r2, r2, r3
 4323 066a B7F92830 		ldrsh	r3, [r7, #40]
 4324 066e 7968     		ldr	r1, [r7, #4]
 4325 0670 886E     		ldr	r0, [r1, #104]
 4326 0672 796D     		ldr	r1, [r7, #84]
 4327 0674 4900     		lsls	r1, r1, #1
 4328 0676 0144     		add	r1, r1, r0
 4329 0678 B1F90010 		ldrsh	r1, [r1]
 4330 067c 89B2     		uxth	r1, r1
 4331 067e C900     		lsls	r1, r1, #3
 4332 0680 89B2     		uxth	r1, r1
 4333 0682 01F50061 		add	r1, r1, #2048
 4334 0686 89B2     		uxth	r1, r1
 4335 0688 C1F30E01 		ubfx	r1, r1, #0, #15
 4336 068c 01FB03F3 		mul	r3, r1, r3
 4337 0690 03F58043 		add	r3, r3, #16384
 4338 0694 DB13     		asrs	r3, r3, #15
 4339 0696 1344     		add	r3, r3, r2
 4340 0698 7B62     		str	r3, [r7, #36]
 852:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 853:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       MM = hypergeom_gain(theta);
 4341              		.loc 3 853 0
 4342 069a 786A     		ldr	r0, [r7, #36]
 4343 069c FFF7FEFF 		bl	hypergeom_gain
 4344 06a0 3862     		str	r0, [r7, #32]
 854:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       /* Gain with bound */
 855:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->gain[i] = EXTRACT16(MIN32(Q15_ONE, MULT16_32_Q15(prior_ratio, MM)));
 4345              		.loc 3 855 0
 4346 06a2 7B68     		ldr	r3, [r7, #4]
 4347 06a4 1A6E     		ldr	r2, [r3, #96]
 4348 06a6 7B6D     		ldr	r3, [r7, #84]
 4349 06a8 5B00     		lsls	r3, r3, #1
 4350 06aa 1344     		add	r3, r3, r2
 4351 06ac B7F92820 		ldrsh	r2, [r7, #40]
 4352 06b0 396A     		ldr	r1, [r7, #32]
 4353 06b2 C913     		asrs	r1, r1, #15
 4354 06b4 09B2     		sxth	r1, r1
 4355 06b6 01FB02F1 		mul	r1, r1, r2
 4356 06ba B7F92820 		ldrsh	r2, [r7, #40]
 4357 06be 386A     		ldr	r0, [r7, #32]
 4358 06c0 C0F30E00 		ubfx	r0, r0, #0, #15
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 100


 4359 06c4 00FB02F2 		mul	r2, r0, r2
 4360 06c8 D213     		asrs	r2, r2, #15
 4361 06ca 0A44     		add	r2, r2, r1
 4362 06cc B2F5004F 		cmp	r2, #32768
 4363 06d0 13DA     		bge	.L177
 4364              		.loc 3 855 0 is_stmt 0 discriminator 1
 4365 06d2 3A6A     		ldr	r2, [r7, #32]
 4366 06d4 D213     		asrs	r2, r2, #15
 4367 06d6 92B2     		uxth	r2, r2
 4368 06d8 398D     		ldrh	r1, [r7, #40]
 4369 06da 01FB02F2 		mul	r2, r1, r2
 4370 06de 91B2     		uxth	r1, r2
 4371 06e0 B7F92820 		ldrsh	r2, [r7, #40]
 4372 06e4 386A     		ldr	r0, [r7, #32]
 4373 06e6 C0F30E00 		ubfx	r0, r0, #0, #15
 4374 06ea 00FB02F2 		mul	r2, r0, r2
 4375 06ee D213     		asrs	r2, r2, #15
 4376 06f0 92B2     		uxth	r2, r2
 4377 06f2 0A44     		add	r2, r2, r1
 4378 06f4 92B2     		uxth	r2, r2
 4379 06f6 12B2     		sxth	r2, r2
 4380 06f8 01E0     		b	.L178
 4381              	.L177:
 4382              		.loc 3 855 0 discriminator 2
 4383 06fa 47F6FF72 		movw	r2, #32767
 4384              	.L178:
 4385              		.loc 3 855 0 discriminator 4
 4386 06fe 1A80     		strh	r2, [r3]	@ movhi
 856:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       /* Save old Bark power spectrum */
 857:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->old_ps[i] = MULT16_32_P15(QCONST16(.2f,15),st->old_ps[i]) + MULT16_32_P15(MULT16_16_P15(Q
 4387              		.loc 3 857 0 is_stmt 1 discriminator 4
 4388 0700 7B68     		ldr	r3, [r7, #4]
 4389 0702 DA6D     		ldr	r2, [r3, #92]
 4390 0704 7B6D     		ldr	r3, [r7, #84]
 4391 0706 9B00     		lsls	r3, r3, #2
 4392 0708 1344     		add	r3, r3, r2
 4393 070a 7A68     		ldr	r2, [r7, #4]
 4394 070c D16D     		ldr	r1, [r2, #92]
 4395 070e 7A6D     		ldr	r2, [r7, #84]
 4396 0710 9200     		lsls	r2, r2, #2
 4397 0712 0A44     		add	r2, r2, r1
 4398 0714 1268     		ldr	r2, [r2]
 4399 0716 D213     		asrs	r2, r2, #15
 4400 0718 12B2     		sxth	r2, r2
 4401 071a 1146     		mov	r1, r2
 4402 071c 41F69A12 		movw	r2, #6554
 4403 0720 02FB01F1 		mul	r1, r2, r1
 4404 0724 7A68     		ldr	r2, [r7, #4]
 4405 0726 D06D     		ldr	r0, [r2, #92]
 4406 0728 7A6D     		ldr	r2, [r7, #84]
 4407 072a 9200     		lsls	r2, r2, #2
 4408 072c 0244     		add	r2, r2, r0
 4409 072e 1268     		ldr	r2, [r2]
 4410 0730 C2F30E02 		ubfx	r2, r2, #0, #15
 4411 0734 41F69A10 		movw	r0, #6554
 4412 0738 00FB02F2 		mul	r2, r0, r2
 4413 073c 02F58042 		add	r2, r2, #16384
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 101


 4414 0740 D213     		asrs	r2, r2, #15
 4415 0742 1144     		add	r1, r1, r2
 4416 0744 7A68     		ldr	r2, [r7, #4]
 4417 0746 106E     		ldr	r0, [r2, #96]
 4418 0748 7A6D     		ldr	r2, [r7, #84]
 4419 074a 5200     		lsls	r2, r2, #1
 4420 074c 0244     		add	r2, r2, r0
 4421 074e B2F90020 		ldrsh	r2, [r2]
 4422 0752 1446     		mov	r4, r2
 4423 0754 7A68     		ldr	r2, [r7, #4]
 4424 0756 106E     		ldr	r0, [r2, #96]
 4425 0758 7A6D     		ldr	r2, [r7, #84]
 4426 075a 5200     		lsls	r2, r2, #1
 4427 075c 0244     		add	r2, r2, r0
 4428 075e B2F90020 		ldrsh	r2, [r2]
 4429 0762 02FB04F2 		mul	r2, r2, r4
 4430 0766 D213     		asrs	r2, r2, #15
 4431 0768 12B2     		sxth	r2, r2
 4432 076a 1046     		mov	r0, r2
 4433 076c 46F26662 		movw	r2, #26214
 4434 0770 02FB00F2 		mul	r2, r2, r0
 4435 0774 02F58042 		add	r2, r2, #16384
 4436 0778 D213     		asrs	r2, r2, #15
 4437 077a 12B2     		sxth	r2, r2
 4438 077c 1446     		mov	r4, r2
 4439 077e 7A6D     		ldr	r2, [r7, #84]
 4440 0780 9200     		lsls	r2, r2, #2
 4441 0782 F86B     		ldr	r0, [r7, #60]
 4442 0784 0244     		add	r2, r2, r0
 4443 0786 1268     		ldr	r2, [r2]
 4444 0788 D213     		asrs	r2, r2, #15
 4445 078a 12B2     		sxth	r2, r2
 4446 078c 02FB04F0 		mul	r0, r2, r4
 4447 0790 7A68     		ldr	r2, [r7, #4]
 4448 0792 146E     		ldr	r4, [r2, #96]
 4449 0794 7A6D     		ldr	r2, [r7, #84]
 4450 0796 5200     		lsls	r2, r2, #1
 4451 0798 2244     		add	r2, r2, r4
 4452 079a B2F90020 		ldrsh	r2, [r2]
 4453 079e 1546     		mov	r5, r2
 4454 07a0 7A68     		ldr	r2, [r7, #4]
 4455 07a2 146E     		ldr	r4, [r2, #96]
 4456 07a4 7A6D     		ldr	r2, [r7, #84]
 4457 07a6 5200     		lsls	r2, r2, #1
 4458 07a8 2244     		add	r2, r2, r4
 4459 07aa B2F90020 		ldrsh	r2, [r2]
 4460 07ae 02FB05F2 		mul	r2, r2, r5
 4461 07b2 D213     		asrs	r2, r2, #15
 4462 07b4 12B2     		sxth	r2, r2
 4463 07b6 1446     		mov	r4, r2
 4464 07b8 46F26662 		movw	r2, #26214
 4465 07bc 02FB04F2 		mul	r2, r2, r4
 4466 07c0 02F58042 		add	r2, r2, #16384
 4467 07c4 D213     		asrs	r2, r2, #15
 4468 07c6 12B2     		sxth	r2, r2
 4469 07c8 1546     		mov	r5, r2
 4470 07ca 7A6D     		ldr	r2, [r7, #84]
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 102


 4471 07cc 9200     		lsls	r2, r2, #2
 4472 07ce FC6B     		ldr	r4, [r7, #60]
 4473 07d0 2244     		add	r2, r2, r4
 4474 07d2 1268     		ldr	r2, [r2]
 4475 07d4 C2F30E02 		ubfx	r2, r2, #0, #15
 4476 07d8 02FB05F2 		mul	r2, r2, r5
 4477 07dc 02F58042 		add	r2, r2, #16384
 4478 07e0 D213     		asrs	r2, r2, #15
 4479 07e2 0244     		add	r2, r2, r0
 4480 07e4 0A44     		add	r2, r2, r1
 4481 07e6 1A60     		str	r2, [r3]
 858:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 859:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       P1 = QCONST16(.199f,15)+MULT16_16_Q15(QCONST16(.8f,15),qcurve (st->zeta[i]));
 4482              		.loc 3 859 0 discriminator 4
 4483 07e8 7B68     		ldr	r3, [r7, #4]
 4484 07ea DA6F     		ldr	r2, [r3, #124]
 4485 07ec 7B6D     		ldr	r3, [r7, #84]
 4486 07ee 5B00     		lsls	r3, r3, #1
 4487 07f0 1344     		add	r3, r3, r2
 4488 07f2 B3F90030 		ldrsh	r3, [r3]
 4489 07f6 1846     		mov	r0, r3
 4490 07f8 FFF7FEFF 		bl	qcurve
 4491 07fc 0346     		mov	r3, r0
 4492 07fe 1A46     		mov	r2, r3
 4493 0800 46F26663 		movw	r3, #26214
 4494 0804 03FB02F3 		mul	r3, r3, r2
 4495 0808 DB13     		asrs	r3, r3, #15
 4496 080a 9BB2     		uxth	r3, r3
 4497 080c 03F5CB53 		add	r3, r3, #6496
 4498 0810 1933     		adds	r3, r3, #25
 4499 0812 9BB2     		uxth	r3, r3
 4500 0814 FB83     		strh	r3, [r7, #30]	@ movhi
 860:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       q = Q15_ONE-MULT16_16_Q15(Pframe,P1);
 4501              		.loc 3 860 0 discriminator 4
 4502 0816 B7F92C30 		ldrsh	r3, [r7, #44]
 4503 081a B7F91E20 		ldrsh	r2, [r7, #30]
 4504 081e 02FB03F3 		mul	r3, r2, r3
 4505 0822 DB13     		asrs	r3, r3, #15
 4506 0824 9BB2     		uxth	r3, r3
 4507 0826 C3F5FF43 		rsb	r3, r3, #32640
 4508 082a 7F33     		adds	r3, r3, #127
 4509 082c 9BB2     		uxth	r3, r3
 4510 082e BB83     		strh	r3, [r7, #28]	@ movhi
 861:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #ifdef FIXED_POINT
 862:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       theta = MIN32(theta, EXTEND32(32767));
 4511              		.loc 3 862 0 discriminator 4
 4512 0830 7B6A     		ldr	r3, [r7, #36]
 4513 0832 47F6FF72 		movw	r2, #32767
 4514 0836 9342     		cmp	r3, r2
 4515 0838 A8BF     		it	ge
 4516 083a 1346     		movge	r3, r2
 4517 083c 7B62     		str	r3, [r7, #36]
 863:STM32F10x_Speex_Lib/libspeex/preprocess.c **** /*Q8*/tmp = MULT16_16_Q15((SHL32(1,SNR_SHIFT)+st->prior[i]),EXTRACT16(MIN32(Q15ONE,SHR32(spx_exp(-E
 4518              		.loc 3 863 0 discriminator 4
 4519 083e 7B68     		ldr	r3, [r7, #4]
 4520 0840 5A6E     		ldr	r2, [r3, #100]
 4521 0842 7B6D     		ldr	r3, [r7, #84]
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 103


 4522 0844 5B00     		lsls	r3, r3, #1
 4523 0846 1344     		add	r3, r3, r2
 4524 0848 B3F90030 		ldrsh	r3, [r3]
 4525 084c 9BB2     		uxth	r3, r3
 4526 084e 03F58073 		add	r3, r3, #256
 4527 0852 9BB2     		uxth	r3, r3
 4528 0854 1BB2     		sxth	r3, r3
 4529 0856 1C46     		mov	r4, r3
 4530 0858 7B6A     		ldr	r3, [r7, #36]
 4531 085a 9BB2     		uxth	r3, r3
 4532 085c 5B42     		negs	r3, r3
 4533 085e 9BB2     		uxth	r3, r3
 4534 0860 1BB2     		sxth	r3, r3
 4535 0862 1846     		mov	r0, r3
 4536 0864 FFF7FEFF 		bl	spx_exp
 4537 0868 0346     		mov	r3, r0
 4538 086a 5B10     		asrs	r3, r3, #1
 4539 086c B3F5004F 		cmp	r3, #32768
 4540 0870 0BDA     		bge	.L179
 4541              		.loc 3 863 0 is_stmt 0 discriminator 1
 4542 0872 7B6A     		ldr	r3, [r7, #36]
 4543 0874 9BB2     		uxth	r3, r3
 4544 0876 5B42     		negs	r3, r3
 4545 0878 9BB2     		uxth	r3, r3
 4546 087a 1BB2     		sxth	r3, r3
 4547 087c 1846     		mov	r0, r3
 4548 087e FFF7FEFF 		bl	spx_exp
 4549 0882 0346     		mov	r3, r0
 4550 0884 5B10     		asrs	r3, r3, #1
 4551 0886 1BB2     		sxth	r3, r3
 4552 0888 01E0     		b	.L180
 4553              	.L179:
 4554              		.loc 3 863 0 discriminator 2
 4555 088a 47F6FF73 		movw	r3, #32767
 4556              	.L180:
 4557              		.loc 3 863 0 discriminator 4
 4558 088e 03FB04F3 		mul	r3, r3, r4
 4559 0892 DB13     		asrs	r3, r3, #15
 4560 0894 7B83     		strh	r3, [r7, #26]	@ movhi
 864:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       tmp = MIN16(QCONST16(3.,SNR_SHIFT), tmp); /* Prevent overflows in the next line*/
 4561              		.loc 3 864 0 is_stmt 1 discriminator 4
 4562 0896 B7F91A30 		ldrsh	r3, [r7, #26]
 4563 089a B3F5407F 		cmp	r3, #768
 4564 089e A8BF     		it	ge
 4565 08a0 4FF44073 		movge	r3, #768
 4566 08a4 7B83     		strh	r3, [r7, #26]	@ movhi
 865:STM32F10x_Speex_Lib/libspeex/preprocess.c **** /*Q8*/tmp = EXTRACT16(PSHR32(MULT16_16(PDIV32_16(SHL32(EXTEND32(q),8),(Q15_ONE-q)),tmp),8));
 4567              		.loc 3 865 0 discriminator 4
 4568 08a6 B7F91C30 		ldrsh	r3, [r7, #28]
 4569 08aa 1A02     		lsls	r2, r3, #8
 4570 08ac BB8B     		ldrh	r3, [r7, #28]
 4571 08ae C3F5FF43 		rsb	r3, r3, #32640
 4572 08b2 7F33     		adds	r3, r3, #127
 4573 08b4 9BB2     		uxth	r3, r3
 4574 08b6 1BB2     		sxth	r3, r3
 4575 08b8 5B10     		asrs	r3, r3, #1
 4576 08ba 1BB2     		sxth	r3, r3
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 104


 4577 08bc 1A44     		add	r2, r2, r3
 4578 08be BB8B     		ldrh	r3, [r7, #28]
 4579 08c0 C3F5FF43 		rsb	r3, r3, #32640
 4580 08c4 7F33     		adds	r3, r3, #127
 4581 08c6 9BB2     		uxth	r3, r3
 4582 08c8 1BB2     		sxth	r3, r3
 4583 08ca 92FBF3F3 		sdiv	r3, r2, r3
 4584 08ce 1BB2     		sxth	r3, r3
 4585 08d0 1A46     		mov	r2, r3
 4586 08d2 B7F91A30 		ldrsh	r3, [r7, #26]
 4587 08d6 03FB02F3 		mul	r3, r3, r2
 4588 08da 8033     		adds	r3, r3, #128
 4589 08dc 1B12     		asrs	r3, r3, #8
 4590 08de 7B83     		strh	r3, [r7, #26]	@ movhi
 866:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->gain2[i]=DIV32_16(SHL32(EXTEND32(32767),SNR_SHIFT), ADD16(256,tmp));
 4591              		.loc 3 866 0 discriminator 4
 4592 08e0 7B68     		ldr	r3, [r7, #4]
 4593 08e2 9A6C     		ldr	r2, [r3, #72]
 4594 08e4 7B6D     		ldr	r3, [r7, #84]
 4595 08e6 5B00     		lsls	r3, r3, #1
 4596 08e8 1344     		add	r3, r3, r2
 4597 08ea 7A8B     		ldrh	r2, [r7, #26]
 4598 08ec 02F58072 		add	r2, r2, #256
 4599 08f0 92B2     		uxth	r2, r2
 4600 08f2 12B2     		sxth	r2, r2
 4601 08f4 1146     		mov	r1, r2
 4602 08f6 574A     		ldr	r2, .L207
 4603 08f8 92FBF1F2 		sdiv	r2, r2, r1
 4604 08fc 12B2     		sxth	r2, r2
 4605 08fe 1A80     		strh	r2, [r3]	@ movhi
 4606              	.LBE7:
 834:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    {
 4607              		.loc 3 834 0 discriminator 4
 4608 0900 7B6D     		ldr	r3, [r7, #84]
 4609 0902 0133     		adds	r3, r3, #1
 4610 0904 7B65     		str	r3, [r7, #84]
 4611              	.L176:
 834:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    {
 4612              		.loc 3 834 0 is_stmt 0 discriminator 2
 4613 0906 BA6C     		ldr	r2, [r7, #72]
 4614 0908 7B6B     		ldr	r3, [r7, #52]
 4615 090a 1A44     		add	r2, r2, r3
 4616 090c 7B6D     		ldr	r3, [r7, #84]
 4617 090e 9A42     		cmp	r2, r3
 4618 0910 3FF775AE 		bgt	.L181
 867:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #else
 868:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->gain2[i]=1/(1.f + (q/(1.f-q))*(1+st->prior[i])*exp(-theta));
 869:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #endif
 870:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    }
 871:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    /* Convert the EM gains and speech prob to linear frequency */
 872:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    filterbank_compute_psd16(st->bank,st->gain2+N, st->gain2);
 4619              		.loc 3 872 0 is_stmt 1
 4620 0914 7B68     		ldr	r3, [r7, #4]
 4621 0916 1869     		ldr	r0, [r3, #16]
 4622 0918 7B68     		ldr	r3, [r7, #4]
 4623 091a 9A6C     		ldr	r2, [r3, #72]
 4624 091c BB6C     		ldr	r3, [r7, #72]
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 105


 4625 091e 5B00     		lsls	r3, r3, #1
 4626 0920 D118     		adds	r1, r2, r3
 4627 0922 7B68     		ldr	r3, [r7, #4]
 4628 0924 9B6C     		ldr	r3, [r3, #72]
 4629 0926 1A46     		mov	r2, r3
 4630 0928 FFF7FEFF 		bl	filterbank_compute_psd16
 873:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    filterbank_compute_psd16(st->bank,st->gain+N, st->gain);
 4631              		.loc 3 873 0
 4632 092c 7B68     		ldr	r3, [r7, #4]
 4633 092e 1869     		ldr	r0, [r3, #16]
 4634 0930 7B68     		ldr	r3, [r7, #4]
 4635 0932 1A6E     		ldr	r2, [r3, #96]
 4636 0934 BB6C     		ldr	r3, [r7, #72]
 4637 0936 5B00     		lsls	r3, r3, #1
 4638 0938 D118     		adds	r1, r2, r3
 4639 093a 7B68     		ldr	r3, [r7, #4]
 4640 093c 1B6E     		ldr	r3, [r3, #96]
 4641 093e 1A46     		mov	r2, r3
 4642 0940 FFF7FEFF 		bl	filterbank_compute_psd16
 874:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    
 875:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    /* Use 1 for linear gain resolution (best) or 0 for Bark gain resolution (faster) */
 876:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    if (1)
 877:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    {
 878:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       filterbank_compute_psd16(st->bank,st->gain_floor+N, st->gain_floor);
 4643              		.loc 3 878 0
 4644 0944 7B68     		ldr	r3, [r7, #4]
 4645 0946 1869     		ldr	r0, [r3, #16]
 4646 0948 7B68     		ldr	r3, [r7, #4]
 4647 094a DA6C     		ldr	r2, [r3, #76]
 4648 094c BB6C     		ldr	r3, [r7, #72]
 4649 094e 5B00     		lsls	r3, r3, #1
 4650 0950 D118     		adds	r1, r2, r3
 4651 0952 7B68     		ldr	r3, [r7, #4]
 4652 0954 DB6C     		ldr	r3, [r3, #76]
 4653 0956 1A46     		mov	r2, r3
 4654 0958 FFF7FEFF 		bl	filterbank_compute_psd16
 879:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    
 880:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       /* Compute gain according to the Ephraim-Malah algorithm -- linear frequency */
 881:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       for (i=0;i<N;i++)
 4655              		.loc 3 881 0
 4656 095c 0023     		movs	r3, #0
 4657 095e 7B65     		str	r3, [r7, #84]
 4658 0960 7DE1     		b	.L182
 4659              	.L187:
 4660              	.LBB8:
 882:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       {
 883:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          spx_word32_t MM;
 884:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          spx_word32_t theta;
 885:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          spx_word16_t prior_ratio;
 886:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          spx_word16_t tmp;
 887:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          spx_word16_t p;
 888:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          spx_word16_t g;
 889:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          
 890:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          /* Wiener filter gain */
 891:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          prior_ratio = PDIV32_16(SHL32(EXTEND32(st->prior[i]), 15), ADD16(st->prior[i], SHL32(1,SNR
 4661              		.loc 3 891 0
 4662 0962 7B68     		ldr	r3, [r7, #4]
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 106


 4663 0964 5A6E     		ldr	r2, [r3, #100]
 4664 0966 7B6D     		ldr	r3, [r7, #84]
 4665 0968 5B00     		lsls	r3, r3, #1
 4666 096a 1344     		add	r3, r3, r2
 4667 096c B3F90030 		ldrsh	r3, [r3]
 4668 0970 DB03     		lsls	r3, r3, #15
 4669 0972 7A68     		ldr	r2, [r7, #4]
 4670 0974 516E     		ldr	r1, [r2, #100]
 4671 0976 7A6D     		ldr	r2, [r7, #84]
 4672 0978 5200     		lsls	r2, r2, #1
 4673 097a 0A44     		add	r2, r2, r1
 4674 097c B2F90020 		ldrsh	r2, [r2]
 4675 0980 92B2     		uxth	r2, r2
 4676 0982 02F58072 		add	r2, r2, #256
 4677 0986 92B2     		uxth	r2, r2
 4678 0988 12B2     		sxth	r2, r2
 4679 098a 5210     		asrs	r2, r2, #1
 4680 098c 12B2     		sxth	r2, r2
 4681 098e 1344     		add	r3, r3, r2
 4682 0990 7A68     		ldr	r2, [r7, #4]
 4683 0992 516E     		ldr	r1, [r2, #100]
 4684 0994 7A6D     		ldr	r2, [r7, #84]
 4685 0996 5200     		lsls	r2, r2, #1
 4686 0998 0A44     		add	r2, r2, r1
 4687 099a B2F90020 		ldrsh	r2, [r2]
 4688 099e 92B2     		uxth	r2, r2
 4689 09a0 02F58072 		add	r2, r2, #256
 4690 09a4 92B2     		uxth	r2, r2
 4691 09a6 12B2     		sxth	r2, r2
 4692 09a8 93FBF2F3 		sdiv	r3, r3, r2
 4693 09ac 3B83     		strh	r3, [r7, #24]	@ movhi
 892:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          theta = MULT16_32_P15(prior_ratio, QCONST32(1.f,EXPIN_SHIFT)+SHL32(EXTEND32(st->post[i]),E
 4694              		.loc 3 892 0
 4695 09ae B7F91830 		ldrsh	r3, [r7, #24]
 4696 09b2 7A68     		ldr	r2, [r7, #4]
 4697 09b4 916E     		ldr	r1, [r2, #104]
 4698 09b6 7A6D     		ldr	r2, [r7, #84]
 4699 09b8 5200     		lsls	r2, r2, #1
 4700 09ba 0A44     		add	r2, r2, r1
 4701 09bc B2F90020 		ldrsh	r2, [r2]
 4702 09c0 D200     		lsls	r2, r2, #3
 4703 09c2 02F50062 		add	r2, r2, #2048
 4704 09c6 D213     		asrs	r2, r2, #15
 4705 09c8 12B2     		sxth	r2, r2
 4706 09ca 02FB03F2 		mul	r2, r2, r3
 4707 09ce B7F91830 		ldrsh	r3, [r7, #24]
 4708 09d2 7968     		ldr	r1, [r7, #4]
 4709 09d4 886E     		ldr	r0, [r1, #104]
 4710 09d6 796D     		ldr	r1, [r7, #84]
 4711 09d8 4900     		lsls	r1, r1, #1
 4712 09da 0144     		add	r1, r1, r0
 4713 09dc B1F90010 		ldrsh	r1, [r1]
 4714 09e0 89B2     		uxth	r1, r1
 4715 09e2 C900     		lsls	r1, r1, #3
 4716 09e4 89B2     		uxth	r1, r1
 4717 09e6 01F50061 		add	r1, r1, #2048
 4718 09ea 89B2     		uxth	r1, r1
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 107


 4719 09ec C1F30E01 		ubfx	r1, r1, #0, #15
 4720 09f0 01FB03F3 		mul	r3, r1, r3
 4721 09f4 03F58043 		add	r3, r3, #16384
 4722 09f8 DB13     		asrs	r3, r3, #15
 4723 09fa 1344     		add	r3, r3, r2
 4724 09fc 7B61     		str	r3, [r7, #20]
 893:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 894:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          /* Optimal estimator for loudness domain */
 895:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          MM = hypergeom_gain(theta);
 4725              		.loc 3 895 0
 4726 09fe 7869     		ldr	r0, [r7, #20]
 4727 0a00 FFF7FEFF 		bl	hypergeom_gain
 4728 0a04 3861     		str	r0, [r7, #16]
 896:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          /* EM gain with bound */
 897:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          g = EXTRACT16(MIN32(Q15_ONE, MULT16_32_Q15(prior_ratio, MM)));
 4729              		.loc 3 897 0
 4730 0a06 B7F91830 		ldrsh	r3, [r7, #24]
 4731 0a0a 3A69     		ldr	r2, [r7, #16]
 4732 0a0c D213     		asrs	r2, r2, #15
 4733 0a0e 12B2     		sxth	r2, r2
 4734 0a10 02FB03F2 		mul	r2, r2, r3
 4735 0a14 B7F91830 		ldrsh	r3, [r7, #24]
 4736 0a18 3969     		ldr	r1, [r7, #16]
 4737 0a1a C1F30E01 		ubfx	r1, r1, #0, #15
 4738 0a1e 01FB03F3 		mul	r3, r1, r3
 4739 0a22 DB13     		asrs	r3, r3, #15
 4740 0a24 1344     		add	r3, r3, r2
 4741 0a26 B3F5004F 		cmp	r3, #32768
 4742 0a2a 15DA     		bge	.L183
 4743              		.loc 3 897 0 is_stmt 0 discriminator 1
 4744 0a2c 3B69     		ldr	r3, [r7, #16]
 4745 0a2e DB13     		asrs	r3, r3, #15
 4746 0a30 9BB2     		uxth	r3, r3
 4747 0a32 3A8B     		ldrh	r2, [r7, #24]
 4748 0a34 02FB03F3 		mul	r3, r2, r3
 4749 0a38 9AB2     		uxth	r2, r3
 4750 0a3a B7F91830 		ldrsh	r3, [r7, #24]
 4751 0a3e 3969     		ldr	r1, [r7, #16]
 4752 0a40 C1F30E01 		ubfx	r1, r1, #0, #15
 4753 0a44 01FB03F3 		mul	r3, r1, r3
 4754 0a48 DB13     		asrs	r3, r3, #15
 4755 0a4a 9BB2     		uxth	r3, r3
 4756 0a4c 1344     		add	r3, r3, r2
 4757 0a4e 9BB2     		uxth	r3, r3
 4758 0a50 1BB2     		sxth	r3, r3
 4759 0a52 03E0     		b	.L184
 4760              	.L208:
 4761              		.align	2
 4762              	.L207:
 4763 0a54 00FF7F00 		.word	8388352
 4764              	.L183:
 4765              		.loc 3 897 0 discriminator 2
 4766 0a58 47F6FF73 		movw	r3, #32767
 4767              	.L184:
 4768              		.loc 3 897 0 discriminator 4
 4769 0a5c A7F84E30 		strh	r3, [r7, #78]	@ movhi
 898:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          /* Interpolated speech probability of presence */
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 108


 899:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          p = st->gain2[i];
 4770              		.loc 3 899 0 is_stmt 1 discriminator 4
 4771 0a60 7B68     		ldr	r3, [r7, #4]
 4772 0a62 9A6C     		ldr	r2, [r3, #72]
 4773 0a64 7B6D     		ldr	r3, [r7, #84]
 4774 0a66 5B00     		lsls	r3, r3, #1
 4775 0a68 1344     		add	r3, r3, r2
 4776 0a6a 1B88     		ldrh	r3, [r3]	@ movhi
 4777 0a6c FB81     		strh	r3, [r7, #14]	@ movhi
 900:STM32F10x_Speex_Lib/libspeex/preprocess.c ****                   
 901:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          /* Constrain the gain to be close to the Bark scale gain */
 902:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          if (MULT16_16_Q15(QCONST16(.333f,15),g) > st->gain[i])
 4778              		.loc 3 902 0 discriminator 4
 4779 0a6e B7F94E30 		ldrsh	r3, [r7, #78]
 4780 0a72 42F6A022 		movw	r2, #10912
 4781 0a76 02FB03F3 		mul	r3, r2, r3
 4782 0a7a DB13     		asrs	r3, r3, #15
 4783 0a7c 7A68     		ldr	r2, [r7, #4]
 4784 0a7e 116E     		ldr	r1, [r2, #96]
 4785 0a80 7A6D     		ldr	r2, [r7, #84]
 4786 0a82 5200     		lsls	r2, r2, #1
 4787 0a84 0A44     		add	r2, r2, r1
 4788 0a86 B2F90020 		ldrsh	r2, [r2]
 4789 0a8a 9342     		cmp	r3, r2
 4790 0a8c 0DDD     		ble	.L185
 903:STM32F10x_Speex_Lib/libspeex/preprocess.c ****             g = MULT16_16(3,st->gain[i]);
 4791              		.loc 3 903 0
 4792 0a8e 7B68     		ldr	r3, [r7, #4]
 4793 0a90 1A6E     		ldr	r2, [r3, #96]
 4794 0a92 7B6D     		ldr	r3, [r7, #84]
 4795 0a94 5B00     		lsls	r3, r3, #1
 4796 0a96 1344     		add	r3, r3, r2
 4797 0a98 B3F90030 		ldrsh	r3, [r3]
 4798 0a9c 9BB2     		uxth	r3, r3
 4799 0a9e 1A46     		mov	r2, r3	@ movhi
 4800 0aa0 5200     		lsls	r2, r2, #1
 4801 0aa2 1344     		add	r3, r3, r2
 4802 0aa4 9BB2     		uxth	r3, r3
 4803 0aa6 A7F84E30 		strh	r3, [r7, #78]	@ movhi
 4804              	.L185:
 904:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          st->gain[i] = g;
 4805              		.loc 3 904 0
 4806 0aaa 7B68     		ldr	r3, [r7, #4]
 4807 0aac 1A6E     		ldr	r2, [r3, #96]
 4808 0aae 7B6D     		ldr	r3, [r7, #84]
 4809 0ab0 5B00     		lsls	r3, r3, #1
 4810 0ab2 1344     		add	r3, r3, r2
 4811 0ab4 B7F84E20 		ldrh	r2, [r7, #78]	@ movhi
 4812 0ab8 1A80     		strh	r2, [r3]	@ movhi
 905:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          
 906:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          /* Save old power spectrum */
 907:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          st->old_ps[i] = MULT16_32_P15(QCONST16(.2f,15),st->old_ps[i]) + MULT16_32_P15(MULT16_16_P1
 4813              		.loc 3 907 0
 4814 0aba 7B68     		ldr	r3, [r7, #4]
 4815 0abc DA6D     		ldr	r2, [r3, #92]
 4816 0abe 7B6D     		ldr	r3, [r7, #84]
 4817 0ac0 9B00     		lsls	r3, r3, #2
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 109


 4818 0ac2 1344     		add	r3, r3, r2
 4819 0ac4 7A68     		ldr	r2, [r7, #4]
 4820 0ac6 D16D     		ldr	r1, [r2, #92]
 4821 0ac8 7A6D     		ldr	r2, [r7, #84]
 4822 0aca 9200     		lsls	r2, r2, #2
 4823 0acc 0A44     		add	r2, r2, r1
 4824 0ace 1268     		ldr	r2, [r2]
 4825 0ad0 D213     		asrs	r2, r2, #15
 4826 0ad2 12B2     		sxth	r2, r2
 4827 0ad4 1146     		mov	r1, r2
 4828 0ad6 41F69A12 		movw	r2, #6554
 4829 0ada 02FB01F1 		mul	r1, r2, r1
 4830 0ade 7A68     		ldr	r2, [r7, #4]
 4831 0ae0 D06D     		ldr	r0, [r2, #92]
 4832 0ae2 7A6D     		ldr	r2, [r7, #84]
 4833 0ae4 9200     		lsls	r2, r2, #2
 4834 0ae6 0244     		add	r2, r2, r0
 4835 0ae8 1268     		ldr	r2, [r2]
 4836 0aea C2F30E02 		ubfx	r2, r2, #0, #15
 4837 0aee 41F69A10 		movw	r0, #6554
 4838 0af2 00FB02F2 		mul	r2, r0, r2
 4839 0af6 02F58042 		add	r2, r2, #16384
 4840 0afa D213     		asrs	r2, r2, #15
 4841 0afc 1144     		add	r1, r1, r2
 4842 0afe 7A68     		ldr	r2, [r7, #4]
 4843 0b00 106E     		ldr	r0, [r2, #96]
 4844 0b02 7A6D     		ldr	r2, [r7, #84]
 4845 0b04 5200     		lsls	r2, r2, #1
 4846 0b06 0244     		add	r2, r2, r0
 4847 0b08 B2F90020 		ldrsh	r2, [r2]
 4848 0b0c 1446     		mov	r4, r2
 4849 0b0e 7A68     		ldr	r2, [r7, #4]
 4850 0b10 106E     		ldr	r0, [r2, #96]
 4851 0b12 7A6D     		ldr	r2, [r7, #84]
 4852 0b14 5200     		lsls	r2, r2, #1
 4853 0b16 0244     		add	r2, r2, r0
 4854 0b18 B2F90020 		ldrsh	r2, [r2]
 4855 0b1c 02FB04F2 		mul	r2, r2, r4
 4856 0b20 D213     		asrs	r2, r2, #15
 4857 0b22 12B2     		sxth	r2, r2
 4858 0b24 1046     		mov	r0, r2
 4859 0b26 46F26662 		movw	r2, #26214
 4860 0b2a 02FB00F2 		mul	r2, r2, r0
 4861 0b2e 02F58042 		add	r2, r2, #16384
 4862 0b32 D213     		asrs	r2, r2, #15
 4863 0b34 12B2     		sxth	r2, r2
 4864 0b36 1446     		mov	r4, r2
 4865 0b38 7A6D     		ldr	r2, [r7, #84]
 4866 0b3a 9200     		lsls	r2, r2, #2
 4867 0b3c F86B     		ldr	r0, [r7, #60]
 4868 0b3e 0244     		add	r2, r2, r0
 4869 0b40 1268     		ldr	r2, [r2]
 4870 0b42 D213     		asrs	r2, r2, #15
 4871 0b44 12B2     		sxth	r2, r2
 4872 0b46 02FB04F0 		mul	r0, r2, r4
 4873 0b4a 7A68     		ldr	r2, [r7, #4]
 4874 0b4c 146E     		ldr	r4, [r2, #96]
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 110


 4875 0b4e 7A6D     		ldr	r2, [r7, #84]
 4876 0b50 5200     		lsls	r2, r2, #1
 4877 0b52 2244     		add	r2, r2, r4
 4878 0b54 B2F90020 		ldrsh	r2, [r2]
 4879 0b58 1546     		mov	r5, r2
 4880 0b5a 7A68     		ldr	r2, [r7, #4]
 4881 0b5c 146E     		ldr	r4, [r2, #96]
 4882 0b5e 7A6D     		ldr	r2, [r7, #84]
 4883 0b60 5200     		lsls	r2, r2, #1
 4884 0b62 2244     		add	r2, r2, r4
 4885 0b64 B2F90020 		ldrsh	r2, [r2]
 4886 0b68 02FB05F2 		mul	r2, r2, r5
 4887 0b6c D213     		asrs	r2, r2, #15
 4888 0b6e 12B2     		sxth	r2, r2
 4889 0b70 1446     		mov	r4, r2
 4890 0b72 46F26662 		movw	r2, #26214
 4891 0b76 02FB04F2 		mul	r2, r2, r4
 4892 0b7a 02F58042 		add	r2, r2, #16384
 4893 0b7e D213     		asrs	r2, r2, #15
 4894 0b80 12B2     		sxth	r2, r2
 4895 0b82 1546     		mov	r5, r2
 4896 0b84 7A6D     		ldr	r2, [r7, #84]
 4897 0b86 9200     		lsls	r2, r2, #2
 4898 0b88 FC6B     		ldr	r4, [r7, #60]
 4899 0b8a 2244     		add	r2, r2, r4
 4900 0b8c 1268     		ldr	r2, [r2]
 4901 0b8e C2F30E02 		ubfx	r2, r2, #0, #15
 4902 0b92 02FB05F2 		mul	r2, r2, r5
 4903 0b96 02F58042 		add	r2, r2, #16384
 4904 0b9a D213     		asrs	r2, r2, #15
 4905 0b9c 0244     		add	r2, r2, r0
 4906 0b9e 0A44     		add	r2, r2, r1
 4907 0ba0 1A60     		str	r2, [r3]
 908:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          
 909:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          /* Apply gain floor */
 910:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          if (st->gain[i] < st->gain_floor[i])
 4908              		.loc 3 910 0
 4909 0ba2 7B68     		ldr	r3, [r7, #4]
 4910 0ba4 1A6E     		ldr	r2, [r3, #96]
 4911 0ba6 7B6D     		ldr	r3, [r7, #84]
 4912 0ba8 5B00     		lsls	r3, r3, #1
 4913 0baa 1344     		add	r3, r3, r2
 4914 0bac B3F90020 		ldrsh	r2, [r3]
 4915 0bb0 7B68     		ldr	r3, [r7, #4]
 4916 0bb2 D96C     		ldr	r1, [r3, #76]
 4917 0bb4 7B6D     		ldr	r3, [r7, #84]
 4918 0bb6 5B00     		lsls	r3, r3, #1
 4919 0bb8 0B44     		add	r3, r3, r1
 4920 0bba B3F90030 		ldrsh	r3, [r3]
 4921 0bbe 9A42     		cmp	r2, r3
 4922 0bc0 0CDA     		bge	.L186
 911:STM32F10x_Speex_Lib/libspeex/preprocess.c ****             st->gain[i] = st->gain_floor[i];
 4923              		.loc 3 911 0
 4924 0bc2 7B68     		ldr	r3, [r7, #4]
 4925 0bc4 1A6E     		ldr	r2, [r3, #96]
 4926 0bc6 7B6D     		ldr	r3, [r7, #84]
 4927 0bc8 5B00     		lsls	r3, r3, #1
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 111


 4928 0bca 1344     		add	r3, r3, r2
 4929 0bcc 7A68     		ldr	r2, [r7, #4]
 4930 0bce D16C     		ldr	r1, [r2, #76]
 4931 0bd0 7A6D     		ldr	r2, [r7, #84]
 4932 0bd2 5200     		lsls	r2, r2, #1
 4933 0bd4 0A44     		add	r2, r2, r1
 4934 0bd6 B2F90020 		ldrsh	r2, [r2]
 4935 0bda 1A80     		strh	r2, [r3]	@ movhi
 4936              	.L186:
 912:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 913:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          /* Exponential decay model for reverberation (unused) */
 914:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          /*st->reverb_estimate[i] = st->reverb_decay*st->reverb_estimate[i] + st->reverb_decay*st->
 915:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          
 916:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          /* Take into account speech probability of presence (loudness domain MMSE estimator) */
 917:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          /* gain2 = [p*sqrt(gain)+(1-p)*sqrt(gain _floor) ]^2 */
 918:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          tmp = MULT16_16_P15(p,spx_sqrt(SHL32(EXTEND32(st->gain[i]),15))) + MULT16_16_P15(SUB16(Q15
 4937              		.loc 3 918 0 discriminator 2
 4938 0bdc B7F90E40 		ldrsh	r4, [r7, #14]
 4939 0be0 7B68     		ldr	r3, [r7, #4]
 4940 0be2 1A6E     		ldr	r2, [r3, #96]
 4941 0be4 7B6D     		ldr	r3, [r7, #84]
 4942 0be6 5B00     		lsls	r3, r3, #1
 4943 0be8 1344     		add	r3, r3, r2
 4944 0bea B3F90030 		ldrsh	r3, [r3]
 4945 0bee DB03     		lsls	r3, r3, #15
 4946 0bf0 1846     		mov	r0, r3
 4947 0bf2 FFF7FEFF 		bl	spx_sqrt
 4948 0bf6 0346     		mov	r3, r0
 4949 0bf8 03FB04F3 		mul	r3, r3, r4
 4950 0bfc 03F58043 		add	r3, r3, #16384
 4951 0c00 DB13     		asrs	r3, r3, #15
 4952 0c02 9CB2     		uxth	r4, r3
 4953 0c04 FB89     		ldrh	r3, [r7, #14]
 4954 0c06 C3F5FF43 		rsb	r3, r3, #32640
 4955 0c0a 7F33     		adds	r3, r3, #127
 4956 0c0c 9BB2     		uxth	r3, r3
 4957 0c0e 1BB2     		sxth	r3, r3
 4958 0c10 1D46     		mov	r5, r3
 4959 0c12 7B68     		ldr	r3, [r7, #4]
 4960 0c14 DA6C     		ldr	r2, [r3, #76]
 4961 0c16 7B6D     		ldr	r3, [r7, #84]
 4962 0c18 5B00     		lsls	r3, r3, #1
 4963 0c1a 1344     		add	r3, r3, r2
 4964 0c1c B3F90030 		ldrsh	r3, [r3]
 4965 0c20 DB03     		lsls	r3, r3, #15
 4966 0c22 1846     		mov	r0, r3
 4967 0c24 FFF7FEFF 		bl	spx_sqrt
 4968 0c28 0346     		mov	r3, r0
 4969 0c2a 03FB05F3 		mul	r3, r3, r5
 4970 0c2e 03F58043 		add	r3, r3, #16384
 4971 0c32 DB13     		asrs	r3, r3, #15
 4972 0c34 9BB2     		uxth	r3, r3
 4973 0c36 2344     		add	r3, r3, r4
 4974 0c38 9BB2     		uxth	r3, r3
 4975 0c3a BB81     		strh	r3, [r7, #12]	@ movhi
 919:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          st->gain2[i]=SQR16_Q15(tmp);
 4976              		.loc 3 919 0 discriminator 2
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 112


 4977 0c3c 7B68     		ldr	r3, [r7, #4]
 4978 0c3e 9A6C     		ldr	r2, [r3, #72]
 4979 0c40 7B6D     		ldr	r3, [r7, #84]
 4980 0c42 5B00     		lsls	r3, r3, #1
 4981 0c44 1344     		add	r3, r3, r2
 4982 0c46 B7F90C20 		ldrsh	r2, [r7, #12]
 4983 0c4a B7F90C10 		ldrsh	r1, [r7, #12]
 4984 0c4e 01FB02F2 		mul	r2, r1, r2
 4985 0c52 D213     		asrs	r2, r2, #15
 4986 0c54 12B2     		sxth	r2, r2
 4987 0c56 1A80     		strh	r2, [r3]	@ movhi
 4988              	.LBE8:
 881:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       {
 4989              		.loc 3 881 0 discriminator 2
 4990 0c58 7B6D     		ldr	r3, [r7, #84]
 4991 0c5a 0133     		adds	r3, r3, #1
 4992 0c5c 7B65     		str	r3, [r7, #84]
 4993              	.L182:
 881:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       {
 4994              		.loc 3 881 0 is_stmt 0 discriminator 1
 4995 0c5e 7A6D     		ldr	r2, [r7, #84]
 4996 0c60 BB6C     		ldr	r3, [r7, #72]
 4997 0c62 9A42     		cmp	r2, r3
 4998 0c64 FFF67DAE 		blt	.L187
 920:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 921:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          /* Use this if you want a log-domain MMSE estimator instead */
 922:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          /*st->gain2[i] = pow(st->gain[i], p) * pow(st->gain_floor[i],1.f-p);*/
 923:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       }
 924:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    } else {
 925:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       for (i=N;i<N+M;i++)
 926:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       {
 927:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          spx_word16_t tmp;
 928:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          spx_word16_t p = st->gain2[i];
 929:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          st->gain[i] = MAX16(st->gain[i], st->gain_floor[i]);         
 930:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          tmp = MULT16_16_P15(p,spx_sqrt(SHL32(EXTEND32(st->gain[i]),15))) + MULT16_16_P15(SUB16(Q15
 931:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          st->gain2[i]=SQR16_Q15(tmp);
 932:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       }
 933:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       filterbank_compute_psd16(st->bank,st->gain2+N, st->gain2);
 934:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    }
 935:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    
 936:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    /* If noise suppression is off, don't apply the gain (but then why call this in the first place!
 937:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    if (!st->denoise_enabled)
 4999              		.loc 3 937 0 is_stmt 1
 5000 0c68 7B68     		ldr	r3, [r7, #4]
 5001 0c6a 5B69     		ldr	r3, [r3, #20]
 5002 0c6c 002B     		cmp	r3, #0
 5003 0c6e 13D1     		bne	.L188
 938:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    {
 939:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       for (i=0;i<N+M;i++)
 5004              		.loc 3 939 0
 5005 0c70 0023     		movs	r3, #0
 5006 0c72 7B65     		str	r3, [r7, #84]
 5007 0c74 0AE0     		b	.L189
 5008              	.L190:
 940:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          st->gain2[i]=Q15_ONE;
 5009              		.loc 3 940 0 discriminator 3
 5010 0c76 7B68     		ldr	r3, [r7, #4]
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 113


 5011 0c78 9A6C     		ldr	r2, [r3, #72]
 5012 0c7a 7B6D     		ldr	r3, [r7, #84]
 5013 0c7c 5B00     		lsls	r3, r3, #1
 5014 0c7e 1344     		add	r3, r3, r2
 5015 0c80 47F6FF72 		movw	r2, #32767
 5016 0c84 1A80     		strh	r2, [r3]	@ movhi
 939:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          st->gain2[i]=Q15_ONE;
 5017              		.loc 3 939 0 discriminator 3
 5018 0c86 7B6D     		ldr	r3, [r7, #84]
 5019 0c88 0133     		adds	r3, r3, #1
 5020 0c8a 7B65     		str	r3, [r7, #84]
 5021              	.L189:
 939:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          st->gain2[i]=Q15_ONE;
 5022              		.loc 3 939 0 is_stmt 0 discriminator 1
 5023 0c8c BA6C     		ldr	r2, [r7, #72]
 5024 0c8e 7B6B     		ldr	r3, [r7, #52]
 5025 0c90 1A44     		add	r2, r2, r3
 5026 0c92 7B6D     		ldr	r3, [r7, #84]
 5027 0c94 9A42     		cmp	r2, r3
 5028 0c96 EEDC     		bgt	.L190
 5029              	.L188:
 941:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    }
 942:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       
 943:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    /* Apply computed gain */
 944:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=1;i<N;i++)
 5030              		.loc 3 944 0 is_stmt 1
 5031 0c98 0123     		movs	r3, #1
 5032 0c9a 7B65     		str	r3, [r7, #84]
 5033 0c9c 3AE0     		b	.L191
 5034              	.L192:
 945:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    {
 946:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->ft[2*i-1] = MULT16_16_P15(st->gain2[i],st->ft[2*i-1]);
 5035              		.loc 3 946 0 discriminator 3
 5036 0c9e 7B68     		ldr	r3, [r7, #4]
 5037 0ca0 1A6C     		ldr	r2, [r3, #64]
 5038 0ca2 7B6D     		ldr	r3, [r7, #84]
 5039 0ca4 9B00     		lsls	r3, r3, #2
 5040 0ca6 023B     		subs	r3, r3, #2
 5041 0ca8 1344     		add	r3, r3, r2
 5042 0caa 7A68     		ldr	r2, [r7, #4]
 5043 0cac 916C     		ldr	r1, [r2, #72]
 5044 0cae 7A6D     		ldr	r2, [r7, #84]
 5045 0cb0 5200     		lsls	r2, r2, #1
 5046 0cb2 0A44     		add	r2, r2, r1
 5047 0cb4 B2F90020 		ldrsh	r2, [r2]
 5048 0cb8 1046     		mov	r0, r2
 5049 0cba 7A68     		ldr	r2, [r7, #4]
 5050 0cbc 116C     		ldr	r1, [r2, #64]
 5051 0cbe 7A6D     		ldr	r2, [r7, #84]
 5052 0cc0 9200     		lsls	r2, r2, #2
 5053 0cc2 023A     		subs	r2, r2, #2
 5054 0cc4 0A44     		add	r2, r2, r1
 5055 0cc6 B2F90020 		ldrsh	r2, [r2]
 5056 0cca 02FB00F2 		mul	r2, r2, r0
 5057 0cce 02F58042 		add	r2, r2, #16384
 5058 0cd2 D213     		asrs	r2, r2, #15
 5059 0cd4 12B2     		sxth	r2, r2
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 114


 5060 0cd6 1A80     		strh	r2, [r3]	@ movhi
 947:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->ft[2*i] = MULT16_16_P15(st->gain2[i],st->ft[2*i]);
 5061              		.loc 3 947 0 discriminator 3
 5062 0cd8 7B68     		ldr	r3, [r7, #4]
 5063 0cda 1B6C     		ldr	r3, [r3, #64]
 5064 0cdc 7A6D     		ldr	r2, [r7, #84]
 5065 0cde 9200     		lsls	r2, r2, #2
 5066 0ce0 1344     		add	r3, r3, r2
 5067 0ce2 7A68     		ldr	r2, [r7, #4]
 5068 0ce4 916C     		ldr	r1, [r2, #72]
 5069 0ce6 7A6D     		ldr	r2, [r7, #84]
 5070 0ce8 5200     		lsls	r2, r2, #1
 5071 0cea 0A44     		add	r2, r2, r1
 5072 0cec B2F90020 		ldrsh	r2, [r2]
 5073 0cf0 1046     		mov	r0, r2
 5074 0cf2 7A68     		ldr	r2, [r7, #4]
 5075 0cf4 126C     		ldr	r2, [r2, #64]
 5076 0cf6 796D     		ldr	r1, [r7, #84]
 5077 0cf8 8900     		lsls	r1, r1, #2
 5078 0cfa 0A44     		add	r2, r2, r1
 5079 0cfc B2F90020 		ldrsh	r2, [r2]
 5080 0d00 02FB00F2 		mul	r2, r2, r0
 5081 0d04 02F58042 		add	r2, r2, #16384
 5082 0d08 D213     		asrs	r2, r2, #15
 5083 0d0a 12B2     		sxth	r2, r2
 5084 0d0c 1A80     		strh	r2, [r3]	@ movhi
 944:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    {
 5085              		.loc 3 944 0 discriminator 3
 5086 0d0e 7B6D     		ldr	r3, [r7, #84]
 5087 0d10 0133     		adds	r3, r3, #1
 5088 0d12 7B65     		str	r3, [r7, #84]
 5089              	.L191:
 944:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    {
 5090              		.loc 3 944 0 is_stmt 0 discriminator 1
 5091 0d14 7A6D     		ldr	r2, [r7, #84]
 5092 0d16 BB6C     		ldr	r3, [r7, #72]
 5093 0d18 9A42     		cmp	r2, r3
 5094 0d1a C0DB     		blt	.L192
 948:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    }
 949:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->ft[0] = MULT16_16_P15(st->gain2[0],st->ft[0]);
 5095              		.loc 3 949 0 is_stmt 1
 5096 0d1c 7B68     		ldr	r3, [r7, #4]
 5097 0d1e 1B6C     		ldr	r3, [r3, #64]
 5098 0d20 7A68     		ldr	r2, [r7, #4]
 5099 0d22 926C     		ldr	r2, [r2, #72]
 5100 0d24 B2F90020 		ldrsh	r2, [r2]
 5101 0d28 1146     		mov	r1, r2
 5102 0d2a 7A68     		ldr	r2, [r7, #4]
 5103 0d2c 126C     		ldr	r2, [r2, #64]
 5104 0d2e B2F90020 		ldrsh	r2, [r2]
 5105 0d32 02FB01F2 		mul	r2, r2, r1
 5106 0d36 02F58042 		add	r2, r2, #16384
 5107 0d3a D213     		asrs	r2, r2, #15
 5108 0d3c 12B2     		sxth	r2, r2
 5109 0d3e 1A80     		strh	r2, [r3]	@ movhi
 950:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->ft[2*N-1] = MULT16_16_P15(st->gain2[N-1],st->ft[2*N-1]);
 5110              		.loc 3 950 0
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 115


 5111 0d40 7B68     		ldr	r3, [r7, #4]
 5112 0d42 1A6C     		ldr	r2, [r3, #64]
 5113 0d44 BB6C     		ldr	r3, [r7, #72]
 5114 0d46 9B00     		lsls	r3, r3, #2
 5115 0d48 023B     		subs	r3, r3, #2
 5116 0d4a 1A44     		add	r2, r2, r3
 5117 0d4c 7B68     		ldr	r3, [r7, #4]
 5118 0d4e 996C     		ldr	r1, [r3, #72]
 5119 0d50 BB6C     		ldr	r3, [r7, #72]
 5120 0d52 03F10043 		add	r3, r3, #-2147483648
 5121 0d56 013B     		subs	r3, r3, #1
 5122 0d58 5B00     		lsls	r3, r3, #1
 5123 0d5a 0B44     		add	r3, r3, r1
 5124 0d5c B3F90030 		ldrsh	r3, [r3]
 5125 0d60 1846     		mov	r0, r3
 5126 0d62 7B68     		ldr	r3, [r7, #4]
 5127 0d64 196C     		ldr	r1, [r3, #64]
 5128 0d66 BB6C     		ldr	r3, [r7, #72]
 5129 0d68 9B00     		lsls	r3, r3, #2
 5130 0d6a 023B     		subs	r3, r3, #2
 5131 0d6c 0B44     		add	r3, r3, r1
 5132 0d6e B3F90030 		ldrsh	r3, [r3]
 5133 0d72 03FB00F3 		mul	r3, r3, r0
 5134 0d76 03F58043 		add	r3, r3, #16384
 5135 0d7a DB13     		asrs	r3, r3, #15
 5136 0d7c 1BB2     		sxth	r3, r3
 5137 0d7e 1380     		strh	r3, [r2]	@ movhi
 951:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    
 952:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    /*FIXME: This *will* not work for fixed-point */
 953:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #ifndef FIXED_POINT
 954:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    if (st->agc_enabled)
 955:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       speex_compute_agc(st, Pframe, st->ft);
 956:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #endif
 957:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 958:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    /* Inverse FFT with 1/N scaling */
 959:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    spx_ifft(st->fft_lookup, st->ft, st->frame);
 5138              		.loc 3 959 0
 5139 0d80 7B68     		ldr	r3, [r7, #4]
 5140 0d82 D3F89C00 		ldr	r0, [r3, #156]
 5141 0d86 7B68     		ldr	r3, [r7, #4]
 5142 0d88 196C     		ldr	r1, [r3, #64]
 5143 0d8a 7B68     		ldr	r3, [r7, #4]
 5144 0d8c DB6B     		ldr	r3, [r3, #60]
 5145 0d8e 1A46     		mov	r2, r3
 5146 0d90 FFF7FEFF 		bl	spx_ifft
 960:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    /* Scale back to original (lower) amplitude */
 961:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=0;i<2*N;i++)
 5147              		.loc 3 961 0
 5148 0d94 0023     		movs	r3, #0
 5149 0d96 7B65     		str	r3, [r7, #84]
 5150 0d98 1EE0     		b	.L193
 5151              	.L194:
 962:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->frame[i] = PSHR16(st->frame[i], st->frame_shift);
 5152              		.loc 3 962 0 discriminator 3
 5153 0d9a 7B68     		ldr	r3, [r7, #4]
 5154 0d9c DA6B     		ldr	r2, [r3, #60]
 5155 0d9e 7B6D     		ldr	r3, [r7, #84]
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 116


 5156 0da0 5B00     		lsls	r3, r3, #1
 5157 0da2 1344     		add	r3, r3, r2
 5158 0da4 7A68     		ldr	r2, [r7, #4]
 5159 0da6 D16B     		ldr	r1, [r2, #60]
 5160 0da8 7A6D     		ldr	r2, [r7, #84]
 5161 0daa 5200     		lsls	r2, r2, #1
 5162 0dac 0A44     		add	r2, r2, r1
 5163 0dae B2F90020 		ldrsh	r2, [r2]
 5164 0db2 1046     		mov	r0, r2
 5165 0db4 7A68     		ldr	r2, [r7, #4]
 5166 0db6 D2F8A020 		ldr	r2, [r2, #160]
 5167 0dba 0121     		movs	r1, #1
 5168 0dbc 01FA02F2 		lsl	r2, r1, r2
 5169 0dc0 5210     		asrs	r2, r2, #1
 5170 0dc2 8118     		adds	r1, r0, r2
 5171 0dc4 7A68     		ldr	r2, [r7, #4]
 5172 0dc6 D2F8A020 		ldr	r2, [r2, #160]
 5173 0dca 41FA02F2 		asr	r2, r1, r2
 5174 0dce 12B2     		sxth	r2, r2
 5175 0dd0 1A80     		strh	r2, [r3]	@ movhi
 961:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->frame[i] = PSHR16(st->frame[i], st->frame_shift);
 5176              		.loc 3 961 0 discriminator 3
 5177 0dd2 7B6D     		ldr	r3, [r7, #84]
 5178 0dd4 0133     		adds	r3, r3, #1
 5179 0dd6 7B65     		str	r3, [r7, #84]
 5180              	.L193:
 961:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->frame[i] = PSHR16(st->frame[i], st->frame_shift);
 5181              		.loc 3 961 0 is_stmt 0 discriminator 1
 5182 0dd8 BB6C     		ldr	r3, [r7, #72]
 5183 0dda 5A00     		lsls	r2, r3, #1
 5184 0ddc 7B6D     		ldr	r3, [r7, #84]
 5185 0dde 9A42     		cmp	r2, r3
 5186 0de0 DBDC     		bgt	.L194
 963:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 964:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    /*FIXME: This *will* not work for fixed-point */
 965:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #ifndef FIXED_POINT
 966:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    if (st->agc_enabled)
 967:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    {
 968:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       float max_sample=0;
 969:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       for (i=0;i<2*N;i++)
 970:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          if (fabs(st->frame[i])>max_sample)
 971:STM32F10x_Speex_Lib/libspeex/preprocess.c ****             max_sample = fabs(st->frame[i]);
 972:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       if (max_sample>28000.f)
 973:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       {
 974:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          float damp = 28000.f/max_sample;
 975:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          for (i=0;i<2*N;i++)
 976:STM32F10x_Speex_Lib/libspeex/preprocess.c ****             st->frame[i] *= damp;
 977:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       }
 978:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    }
 979:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #endif
 980:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    
 981:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    /* Synthesis window (for WOLA) */
 982:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=0;i<2*N;i++)
 5187              		.loc 3 982 0 is_stmt 1
 5188 0de2 0023     		movs	r3, #0
 5189 0de4 7B65     		str	r3, [r7, #84]
 5190 0de6 1BE0     		b	.L195
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 117


 5191              	.L196:
 983:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->frame[i] = MULT16_16_Q15(st->frame[i], st->window[i]);
 5192              		.loc 3 983 0 discriminator 3
 5193 0de8 7B68     		ldr	r3, [r7, #4]
 5194 0dea DA6B     		ldr	r2, [r3, #60]
 5195 0dec 7B6D     		ldr	r3, [r7, #84]
 5196 0dee 5B00     		lsls	r3, r3, #1
 5197 0df0 1344     		add	r3, r3, r2
 5198 0df2 7A68     		ldr	r2, [r7, #4]
 5199 0df4 D16B     		ldr	r1, [r2, #60]
 5200 0df6 7A6D     		ldr	r2, [r7, #84]
 5201 0df8 5200     		lsls	r2, r2, #1
 5202 0dfa 0A44     		add	r2, r2, r1
 5203 0dfc B2F90020 		ldrsh	r2, [r2]
 5204 0e00 1046     		mov	r0, r2
 5205 0e02 7A68     		ldr	r2, [r7, #4]
 5206 0e04 116D     		ldr	r1, [r2, #80]
 5207 0e06 7A6D     		ldr	r2, [r7, #84]
 5208 0e08 5200     		lsls	r2, r2, #1
 5209 0e0a 0A44     		add	r2, r2, r1
 5210 0e0c B2F90020 		ldrsh	r2, [r2]
 5211 0e10 02FB00F2 		mul	r2, r2, r0
 5212 0e14 D213     		asrs	r2, r2, #15
 5213 0e16 12B2     		sxth	r2, r2
 5214 0e18 1A80     		strh	r2, [r3]	@ movhi
 982:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->frame[i] = MULT16_16_Q15(st->frame[i], st->window[i]);
 5215              		.loc 3 982 0 discriminator 3
 5216 0e1a 7B6D     		ldr	r3, [r7, #84]
 5217 0e1c 0133     		adds	r3, r3, #1
 5218 0e1e 7B65     		str	r3, [r7, #84]
 5219              	.L195:
 982:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->frame[i] = MULT16_16_Q15(st->frame[i], st->window[i]);
 5220              		.loc 3 982 0 is_stmt 0 discriminator 1
 5221 0e20 BB6C     		ldr	r3, [r7, #72]
 5222 0e22 5A00     		lsls	r2, r3, #1
 5223 0e24 7B6D     		ldr	r3, [r7, #84]
 5224 0e26 9A42     		cmp	r2, r3
 5225 0e28 DEDC     		bgt	.L196
 984:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 985:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    /* Perform overlap and add */
 986:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=0;i<N3;i++)
 5226              		.loc 3 986 0 is_stmt 1
 5227 0e2a 0023     		movs	r3, #0
 5228 0e2c 7B65     		str	r3, [r7, #84]
 5229 0e2e 1BE0     		b	.L197
 5230              	.L198:
 987:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       x[i] = st->outbuf[i] + st->frame[i];
 5231              		.loc 3 987 0 discriminator 3
 5232 0e30 7B6D     		ldr	r3, [r7, #84]
 5233 0e32 5B00     		lsls	r3, r3, #1
 5234 0e34 3A68     		ldr	r2, [r7]
 5235 0e36 1344     		add	r3, r3, r2
 5236 0e38 7A68     		ldr	r2, [r7, #4]
 5237 0e3a D2F88C10 		ldr	r1, [r2, #140]
 5238 0e3e 7A6D     		ldr	r2, [r7, #84]
 5239 0e40 5200     		lsls	r2, r2, #1
 5240 0e42 0A44     		add	r2, r2, r1
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 118


 5241 0e44 B2F90020 		ldrsh	r2, [r2]
 5242 0e48 91B2     		uxth	r1, r2
 5243 0e4a 7A68     		ldr	r2, [r7, #4]
 5244 0e4c D06B     		ldr	r0, [r2, #60]
 5245 0e4e 7A6D     		ldr	r2, [r7, #84]
 5246 0e50 5200     		lsls	r2, r2, #1
 5247 0e52 0244     		add	r2, r2, r0
 5248 0e54 B2F90020 		ldrsh	r2, [r2]
 5249 0e58 92B2     		uxth	r2, r2
 5250 0e5a 0A44     		add	r2, r2, r1
 5251 0e5c 92B2     		uxth	r2, r2
 5252 0e5e 12B2     		sxth	r2, r2
 5253 0e60 1A80     		strh	r2, [r3]	@ movhi
 986:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       x[i] = st->outbuf[i] + st->frame[i];
 5254              		.loc 3 986 0 discriminator 3
 5255 0e62 7B6D     		ldr	r3, [r7, #84]
 5256 0e64 0133     		adds	r3, r3, #1
 5257 0e66 7B65     		str	r3, [r7, #84]
 5258              	.L197:
 986:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       x[i] = st->outbuf[i] + st->frame[i];
 5259              		.loc 3 986 0 is_stmt 0 discriminator 1
 5260 0e68 7A6D     		ldr	r2, [r7, #84]
 5261 0e6a 7B6C     		ldr	r3, [r7, #68]
 5262 0e6c 9A42     		cmp	r2, r3
 5263 0e6e DFDB     		blt	.L198
 988:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=0;i<N4;i++)
 5264              		.loc 3 988 0 is_stmt 1
 5265 0e70 0023     		movs	r3, #0
 5266 0e72 7B65     		str	r3, [r7, #84]
 5267 0e74 12E0     		b	.L199
 5268              	.L200:
 989:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       x[N3+i] = st->frame[N3+i];
 5269              		.loc 3 989 0 discriminator 3
 5270 0e76 7A6C     		ldr	r2, [r7, #68]
 5271 0e78 7B6D     		ldr	r3, [r7, #84]
 5272 0e7a 1344     		add	r3, r3, r2
 5273 0e7c 5B00     		lsls	r3, r3, #1
 5274 0e7e 3A68     		ldr	r2, [r7]
 5275 0e80 1344     		add	r3, r3, r2
 5276 0e82 7A68     		ldr	r2, [r7, #4]
 5277 0e84 D16B     		ldr	r1, [r2, #60]
 5278 0e86 786C     		ldr	r0, [r7, #68]
 5279 0e88 7A6D     		ldr	r2, [r7, #84]
 5280 0e8a 0244     		add	r2, r2, r0
 5281 0e8c 5200     		lsls	r2, r2, #1
 5282 0e8e 0A44     		add	r2, r2, r1
 5283 0e90 B2F90020 		ldrsh	r2, [r2]
 5284 0e94 1A80     		strh	r2, [r3]	@ movhi
 988:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=0;i<N4;i++)
 5285              		.loc 3 988 0 discriminator 3
 5286 0e96 7B6D     		ldr	r3, [r7, #84]
 5287 0e98 0133     		adds	r3, r3, #1
 5288 0e9a 7B65     		str	r3, [r7, #84]
 5289              	.L199:
 988:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=0;i<N4;i++)
 5290              		.loc 3 988 0 is_stmt 0 discriminator 1
 5291 0e9c 7A6D     		ldr	r2, [r7, #84]
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 119


 5292 0e9e 3B6C     		ldr	r3, [r7, #64]
 5293 0ea0 9A42     		cmp	r2, r3
 5294 0ea2 E8DB     		blt	.L200
 990:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    
 991:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    /* Update outbuf */
 992:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=0;i<N3;i++)
 5295              		.loc 3 992 0 is_stmt 1
 5296 0ea4 0023     		movs	r3, #0
 5297 0ea6 7B65     		str	r3, [r7, #84]
 5298 0ea8 13E0     		b	.L201
 5299              	.L202:
 993:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->outbuf[i] = st->frame[st->frame_size+i];
 5300              		.loc 3 993 0 discriminator 3
 5301 0eaa 7B68     		ldr	r3, [r7, #4]
 5302 0eac D3F88C20 		ldr	r2, [r3, #140]
 5303 0eb0 7B6D     		ldr	r3, [r7, #84]
 5304 0eb2 5B00     		lsls	r3, r3, #1
 5305 0eb4 1344     		add	r3, r3, r2
 5306 0eb6 7A68     		ldr	r2, [r7, #4]
 5307 0eb8 D16B     		ldr	r1, [r2, #60]
 5308 0eba 7A68     		ldr	r2, [r7, #4]
 5309 0ebc 1068     		ldr	r0, [r2]
 5310 0ebe 7A6D     		ldr	r2, [r7, #84]
 5311 0ec0 0244     		add	r2, r2, r0
 5312 0ec2 5200     		lsls	r2, r2, #1
 5313 0ec4 0A44     		add	r2, r2, r1
 5314 0ec6 B2F90020 		ldrsh	r2, [r2]
 5315 0eca 1A80     		strh	r2, [r3]	@ movhi
 992:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->outbuf[i] = st->frame[st->frame_size+i];
 5316              		.loc 3 992 0 discriminator 3
 5317 0ecc 7B6D     		ldr	r3, [r7, #84]
 5318 0ece 0133     		adds	r3, r3, #1
 5319 0ed0 7B65     		str	r3, [r7, #84]
 5320              	.L201:
 992:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->outbuf[i] = st->frame[st->frame_size+i];
 5321              		.loc 3 992 0 is_stmt 0 discriminator 1
 5322 0ed2 7A6D     		ldr	r2, [r7, #84]
 5323 0ed4 7B6C     		ldr	r3, [r7, #68]
 5324 0ed6 9A42     		cmp	r2, r3
 5325 0ed8 E7DB     		blt	.L202
 994:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
 995:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    /* FIXME: This VAD is a kludge */
 996:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->speech_prob = Pframe;
 5326              		.loc 3 996 0 is_stmt 1
 5327 0eda 7B68     		ldr	r3, [r7, #4]
 5328 0edc BA8D     		ldrh	r2, [r7, #44]	@ movhi
 5329 0ede 1A87     		strh	r2, [r3, #56]	@ movhi
 997:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    if (st->vad_enabled)
 5330              		.loc 3 997 0
 5331 0ee0 7B68     		ldr	r3, [r7, #4]
 5332 0ee2 9B69     		ldr	r3, [r3, #24]
 5333 0ee4 002B     		cmp	r3, #0
 5334 0ee6 20D0     		beq	.L203
 998:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    {
 999:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       if (st->speech_prob > st->speech_prob_start || (st->was_speech && st->speech_prob > st->speec
 5335              		.loc 3 999 0
 5336 0ee8 7B68     		ldr	r3, [r7, #4]
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 120


 5337 0eea B3F93820 		ldrsh	r2, [r3, #56]
 5338 0eee 7B68     		ldr	r3, [r7, #4]
 5339 0ef0 B3F92430 		ldrsh	r3, [r3, #36]
 5340 0ef4 9A42     		cmp	r2, r3
 5341 0ef6 0CDC     		bgt	.L204
 5342              		.loc 3 999 0 is_stmt 0 discriminator 1
 5343 0ef8 7B68     		ldr	r3, [r7, #4]
 5344 0efa D3F89430 		ldr	r3, [r3, #148]
 5345 0efe 002B     		cmp	r3, #0
 5346 0f00 0DD0     		beq	.L205
 5347              		.loc 3 999 0 discriminator 2
 5348 0f02 7B68     		ldr	r3, [r7, #4]
 5349 0f04 B3F93820 		ldrsh	r2, [r3, #56]
 5350 0f08 7B68     		ldr	r3, [r7, #4]
 5351 0f0a B3F92630 		ldrsh	r3, [r3, #38]
 5352 0f0e 9A42     		cmp	r2, r3
 5353 0f10 05DD     		ble	.L205
 5354              	.L204:
1000:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       {
1001:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          st->was_speech=1;
 5355              		.loc 3 1001 0 is_stmt 1
 5356 0f12 7B68     		ldr	r3, [r7, #4]
 5357 0f14 0122     		movs	r2, #1
 5358 0f16 C3F89420 		str	r2, [r3, #148]
1002:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          return 1;
 5359              		.loc 3 1002 0
 5360 0f1a 0123     		movs	r3, #1
 5361 0f1c 06E0     		b	.L206
 5362              	.L205:
1003:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       } else
1004:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       {
1005:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          st->was_speech=0;
 5363              		.loc 3 1005 0
 5364 0f1e 7B68     		ldr	r3, [r7, #4]
 5365 0f20 0022     		movs	r2, #0
 5366 0f22 C3F89420 		str	r2, [r3, #148]
1006:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          return 0;
 5367              		.loc 3 1006 0
 5368 0f26 0023     		movs	r3, #0
 5369 0f28 00E0     		b	.L206
 5370              	.L203:
1007:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       }
1008:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    } else {
1009:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       return 1;
 5371              		.loc 3 1009 0
 5372 0f2a 0123     		movs	r3, #1
 5373              	.L206:
1010:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    }
1011:STM32F10x_Speex_Lib/libspeex/preprocess.c **** }
 5374              		.loc 3 1011 0
 5375 0f2c 1846     		mov	r0, r3
 5376 0f2e 5C37     		adds	r7, r7, #92
 5377              	.LCFI123:
 5378              		.cfi_def_cfa_offset 20
 5379 0f30 BD46     		mov	sp, r7
 5380              	.LCFI124:
 5381              		.cfi_def_cfa_register 13
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 121


 5382              		@ sp needed
 5383 0f32 F0BD     		pop	{r4, r5, r6, r7, pc}
 5384              		.cfi_endproc
 5385              	.LFE32:
 5387              		.section	.text.speex_preprocess_estimate_update,"ax",%progbits
 5388              		.align	2
 5389              		.global	speex_preprocess_estimate_update
 5390              		.thumb
 5391              		.thumb_func
 5393              	speex_preprocess_estimate_update:
 5394              	.LFB33:
1012:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
1013:STM32F10x_Speex_Lib/libspeex/preprocess.c **** EXPORT void speex_preprocess_estimate_update(SpeexPreprocessState *st, spx_int16_t *x)
1014:STM32F10x_Speex_Lib/libspeex/preprocess.c **** {
 5395              		.loc 3 1014 0
 5396              		.cfi_startproc
 5397              		@ args = 0, pretend = 0, frame = 32
 5398              		@ frame_needed = 1, uses_anonymous_args = 0
 5399 0000 90B5     		push	{r4, r7, lr}
 5400              	.LCFI125:
 5401              		.cfi_def_cfa_offset 12
 5402              		.cfi_offset 4, -12
 5403              		.cfi_offset 7, -8
 5404              		.cfi_offset 14, -4
 5405 0002 89B0     		sub	sp, sp, #36
 5406              	.LCFI126:
 5407              		.cfi_def_cfa_offset 48
 5408 0004 00AF     		add	r7, sp, #0
 5409              	.LCFI127:
 5410              		.cfi_def_cfa_register 7
 5411 0006 7860     		str	r0, [r7, #4]
 5412 0008 3960     		str	r1, [r7]
1015:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    int i;
1016:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    int N = st->ps_size;
 5413              		.loc 3 1016 0
 5414 000a 7B68     		ldr	r3, [r7, #4]
 5415 000c 5B68     		ldr	r3, [r3, #4]
 5416 000e BB61     		str	r3, [r7, #24]
1017:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    int N3 = 2*N - st->frame_size;
 5417              		.loc 3 1017 0
 5418 0010 BB69     		ldr	r3, [r7, #24]
 5419 0012 5A00     		lsls	r2, r3, #1
 5420 0014 7B68     		ldr	r3, [r7, #4]
 5421 0016 1B68     		ldr	r3, [r3]
 5422 0018 D31A     		subs	r3, r2, r3
 5423 001a 7B61     		str	r3, [r7, #20]
1018:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    int M;
1019:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    spx_word32_t *ps=st->ps;
 5424              		.loc 3 1019 0
 5425 001c 7B68     		ldr	r3, [r7, #4]
 5426 001e 5B6C     		ldr	r3, [r3, #68]
 5427 0020 3B61     		str	r3, [r7, #16]
1020:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
1021:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    M = st->nbands;
 5428              		.loc 3 1021 0
 5429 0022 7B68     		ldr	r3, [r7, #4]
 5430 0024 DB68     		ldr	r3, [r3, #12]
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 122


 5431 0026 FB60     		str	r3, [r7, #12]
1022:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st->min_count++;
 5432              		.loc 3 1022 0
 5433 0028 7B68     		ldr	r3, [r7, #4]
 5434 002a D3F89830 		ldr	r3, [r3, #152]
 5435 002e 5A1C     		adds	r2, r3, #1
 5436 0030 7B68     		ldr	r3, [r7, #4]
 5437 0032 C3F89820 		str	r2, [r3, #152]
1023:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    
1024:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    preprocess_analysis(st, x);
 5438              		.loc 3 1024 0
 5439 0036 3968     		ldr	r1, [r7]
 5440 0038 7868     		ldr	r0, [r7, #4]
 5441 003a FFF7FEFF 		bl	preprocess_analysis
1025:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
1026:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    update_noise_prob(st);
 5442              		.loc 3 1026 0
 5443 003e 7868     		ldr	r0, [r7, #4]
 5444 0040 FFF7FEFF 		bl	update_noise_prob
1027:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    
1028:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=1;i<N-1;i++)
 5445              		.loc 3 1028 0
 5446 0044 0123     		movs	r3, #1
 5447 0046 FB61     		str	r3, [r7, #28]
 5448 0048 59E0     		b	.L210
 5449              	.L213:
1029:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    {
1030:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       if (!st->update_prob[i] || st->ps[i] < PSHR32(st->noise[i],NOISE_SHIFT))
 5450              		.loc 3 1030 0
 5451 004a 7B68     		ldr	r3, [r7, #4]
 5452 004c 9A6F     		ldr	r2, [r3, #120]
 5453 004e FB69     		ldr	r3, [r7, #28]
 5454 0050 9B00     		lsls	r3, r3, #2
 5455 0052 1344     		add	r3, r3, r2
 5456 0054 1B68     		ldr	r3, [r3]
 5457 0056 002B     		cmp	r3, #0
 5458 0058 0FD0     		beq	.L211
 5459              		.loc 3 1030 0 is_stmt 0 discriminator 1
 5460 005a 7B68     		ldr	r3, [r7, #4]
 5461 005c 5A6C     		ldr	r2, [r3, #68]
 5462 005e FB69     		ldr	r3, [r7, #28]
 5463 0060 9B00     		lsls	r3, r3, #2
 5464 0062 1344     		add	r3, r3, r2
 5465 0064 1A68     		ldr	r2, [r3]
 5466 0066 7B68     		ldr	r3, [r7, #4]
 5467 0068 596D     		ldr	r1, [r3, #84]
 5468 006a FB69     		ldr	r3, [r7, #28]
 5469 006c 9B00     		lsls	r3, r3, #2
 5470 006e 0B44     		add	r3, r3, r1
 5471 0070 1B68     		ldr	r3, [r3]
 5472 0072 4033     		adds	r3, r3, #64
 5473 0074 DB11     		asrs	r3, r3, #7
 5474 0076 9A42     		cmp	r2, r3
 5475 0078 3EDA     		bge	.L212
 5476              	.L211:
1031:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       {
1032:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          st->noise[i] = MULT16_32_Q15(QCONST16(.95f,15),st->noise[i]) + MULT16_32_Q15(QCONST16(.05f
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 123


 5477              		.loc 3 1032 0 is_stmt 1
 5478 007a 7B68     		ldr	r3, [r7, #4]
 5479 007c 5A6D     		ldr	r2, [r3, #84]
 5480 007e FB69     		ldr	r3, [r7, #28]
 5481 0080 9B00     		lsls	r3, r3, #2
 5482 0082 1344     		add	r3, r3, r2
 5483 0084 7A68     		ldr	r2, [r7, #4]
 5484 0086 516D     		ldr	r1, [r2, #84]
 5485 0088 FA69     		ldr	r2, [r7, #28]
 5486 008a 9200     		lsls	r2, r2, #2
 5487 008c 0A44     		add	r2, r2, r1
 5488 008e 1268     		ldr	r2, [r2]
 5489 0090 D213     		asrs	r2, r2, #15
 5490 0092 12B2     		sxth	r2, r2
 5491 0094 1146     		mov	r1, r2
 5492 0096 47F69A12 		movw	r2, #31130
 5493 009a 02FB01F1 		mul	r1, r2, r1
 5494 009e 7A68     		ldr	r2, [r7, #4]
 5495 00a0 506D     		ldr	r0, [r2, #84]
 5496 00a2 FA69     		ldr	r2, [r7, #28]
 5497 00a4 9200     		lsls	r2, r2, #2
 5498 00a6 0244     		add	r2, r2, r0
 5499 00a8 1268     		ldr	r2, [r2]
 5500 00aa C2F30E02 		ubfx	r2, r2, #0, #15
 5501 00ae 47F69A10 		movw	r0, #31130
 5502 00b2 00FB02F2 		mul	r2, r0, r2
 5503 00b6 D213     		asrs	r2, r2, #15
 5504 00b8 1144     		add	r1, r1, r2
 5505 00ba 7A68     		ldr	r2, [r7, #4]
 5506 00bc 506C     		ldr	r0, [r2, #68]
 5507 00be FA69     		ldr	r2, [r7, #28]
 5508 00c0 9200     		lsls	r2, r2, #2
 5509 00c2 0244     		add	r2, r2, r0
 5510 00c4 1268     		ldr	r2, [r2]
 5511 00c6 D201     		lsls	r2, r2, #7
 5512 00c8 D213     		asrs	r2, r2, #15
 5513 00ca 12B2     		sxth	r2, r2
 5514 00cc 1046     		mov	r0, r2
 5515 00ce 40F26662 		movw	r2, #1638
 5516 00d2 02FB00F0 		mul	r0, r2, r0
 5517 00d6 7A68     		ldr	r2, [r7, #4]
 5518 00d8 546C     		ldr	r4, [r2, #68]
 5519 00da FA69     		ldr	r2, [r7, #28]
 5520 00dc 9200     		lsls	r2, r2, #2
 5521 00de 2244     		add	r2, r2, r4
 5522 00e0 1268     		ldr	r2, [r2]
 5523 00e2 D201     		lsls	r2, r2, #7
 5524 00e4 C2F30E02 		ubfx	r2, r2, #0, #15
 5525 00e8 40F26664 		movw	r4, #1638
 5526 00ec 04FB02F2 		mul	r2, r4, r2
 5527 00f0 D213     		asrs	r2, r2, #15
 5528 00f2 0244     		add	r2, r2, r0
 5529 00f4 0A44     		add	r2, r2, r1
 5530 00f6 1A60     		str	r2, [r3]
 5531              	.L212:
1028:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    {
 5532              		.loc 3 1028 0 discriminator 2
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 124


 5533 00f8 FB69     		ldr	r3, [r7, #28]
 5534 00fa 0133     		adds	r3, r3, #1
 5535 00fc FB61     		str	r3, [r7, #28]
 5536              	.L210:
1028:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    {
 5537              		.loc 3 1028 0 is_stmt 0 discriminator 1
 5538 00fe BB69     		ldr	r3, [r7, #24]
 5539 0100 5A1E     		subs	r2, r3, #1
 5540 0102 FB69     		ldr	r3, [r7, #28]
 5541 0104 9A42     		cmp	r2, r3
 5542 0106 A0DC     		bgt	.L213
1033:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       }
1034:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    }
1035:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
1036:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=0;i<N3;i++)
 5543              		.loc 3 1036 0 is_stmt 1
 5544 0108 0023     		movs	r3, #0
 5545 010a FB61     		str	r3, [r7, #28]
 5546 010c 23E0     		b	.L214
 5547              	.L215:
1037:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->outbuf[i] = MULT16_16_Q15(x[st->frame_size-N3+i],st->window[st->frame_size+i]);
 5548              		.loc 3 1037 0 discriminator 3
 5549 010e 7B68     		ldr	r3, [r7, #4]
 5550 0110 D3F88C20 		ldr	r2, [r3, #140]
 5551 0114 FB69     		ldr	r3, [r7, #28]
 5552 0116 5B00     		lsls	r3, r3, #1
 5553 0118 1344     		add	r3, r3, r2
 5554 011a 7A68     		ldr	r2, [r7, #4]
 5555 011c 1168     		ldr	r1, [r2]
 5556 011e 7A69     		ldr	r2, [r7, #20]
 5557 0120 891A     		subs	r1, r1, r2
 5558 0122 FA69     		ldr	r2, [r7, #28]
 5559 0124 0A44     		add	r2, r2, r1
 5560 0126 5200     		lsls	r2, r2, #1
 5561 0128 3968     		ldr	r1, [r7]
 5562 012a 0A44     		add	r2, r2, r1
 5563 012c B2F90020 		ldrsh	r2, [r2]
 5564 0130 1446     		mov	r4, r2
 5565 0132 7A68     		ldr	r2, [r7, #4]
 5566 0134 116D     		ldr	r1, [r2, #80]
 5567 0136 7A68     		ldr	r2, [r7, #4]
 5568 0138 1068     		ldr	r0, [r2]
 5569 013a FA69     		ldr	r2, [r7, #28]
 5570 013c 0244     		add	r2, r2, r0
 5571 013e 5200     		lsls	r2, r2, #1
 5572 0140 0A44     		add	r2, r2, r1
 5573 0142 B2F90020 		ldrsh	r2, [r2]
 5574 0146 02FB04F2 		mul	r2, r2, r4
 5575 014a D213     		asrs	r2, r2, #15
 5576 014c 12B2     		sxth	r2, r2
 5577 014e 1A80     		strh	r2, [r3]	@ movhi
1036:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->outbuf[i] = MULT16_16_Q15(x[st->frame_size-N3+i],st->window[st->frame_size+i]);
 5578              		.loc 3 1036 0 discriminator 3
 5579 0150 FB69     		ldr	r3, [r7, #28]
 5580 0152 0133     		adds	r3, r3, #1
 5581 0154 FB61     		str	r3, [r7, #28]
 5582              	.L214:
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 125


1036:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->outbuf[i] = MULT16_16_Q15(x[st->frame_size-N3+i],st->window[st->frame_size+i]);
 5583              		.loc 3 1036 0 is_stmt 0 discriminator 1
 5584 0156 FA69     		ldr	r2, [r7, #28]
 5585 0158 7B69     		ldr	r3, [r7, #20]
 5586 015a 9A42     		cmp	r2, r3
 5587 015c D7DB     		blt	.L215
1038:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
1039:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    /* Save old power spectrum */
1040:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=0;i<N+M;i++)
 5588              		.loc 3 1040 0 is_stmt 1
 5589 015e 0023     		movs	r3, #0
 5590 0160 FB61     		str	r3, [r7, #28]
 5591 0162 0DE0     		b	.L216
 5592              	.L217:
1041:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->old_ps[i] = ps[i];
 5593              		.loc 3 1041 0 discriminator 3
 5594 0164 7B68     		ldr	r3, [r7, #4]
 5595 0166 DA6D     		ldr	r2, [r3, #92]
 5596 0168 FB69     		ldr	r3, [r7, #28]
 5597 016a 9B00     		lsls	r3, r3, #2
 5598 016c 1344     		add	r3, r3, r2
 5599 016e FA69     		ldr	r2, [r7, #28]
 5600 0170 9200     		lsls	r2, r2, #2
 5601 0172 3969     		ldr	r1, [r7, #16]
 5602 0174 0A44     		add	r2, r2, r1
 5603 0176 1268     		ldr	r2, [r2]
 5604 0178 1A60     		str	r2, [r3]
1040:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->old_ps[i] = ps[i];
 5605              		.loc 3 1040 0 discriminator 3
 5606 017a FB69     		ldr	r3, [r7, #28]
 5607 017c 0133     		adds	r3, r3, #1
 5608 017e FB61     		str	r3, [r7, #28]
 5609              	.L216:
1040:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->old_ps[i] = ps[i];
 5610              		.loc 3 1040 0 is_stmt 0 discriminator 1
 5611 0180 BA69     		ldr	r2, [r7, #24]
 5612 0182 FB68     		ldr	r3, [r7, #12]
 5613 0184 1A44     		add	r2, r2, r3
 5614 0186 FB69     		ldr	r3, [r7, #28]
 5615 0188 9A42     		cmp	r2, r3
 5616 018a EBDC     		bgt	.L217
1042:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
1043:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    for (i=0;i<N;i++)
 5617              		.loc 3 1043 0 is_stmt 1
 5618 018c 0023     		movs	r3, #0
 5619 018e FB61     		str	r3, [r7, #28]
 5620 0190 26E0     		b	.L218
 5621              	.L219:
1044:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->reverb_estimate[i] = MULT16_32_Q15(st->reverb_decay, st->reverb_estimate[i]);
 5622              		.loc 3 1044 0 discriminator 3
 5623 0192 7B68     		ldr	r3, [r7, #4]
 5624 0194 9A6D     		ldr	r2, [r3, #88]
 5625 0196 FB69     		ldr	r3, [r7, #28]
 5626 0198 9B00     		lsls	r3, r3, #2
 5627 019a 1344     		add	r3, r3, r2
 5628 019c 7A68     		ldr	r2, [r7, #4]
 5629 019e B2F92020 		ldrsh	r2, [r2, #32]
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 126


 5630 01a2 1046     		mov	r0, r2
 5631 01a4 7A68     		ldr	r2, [r7, #4]
 5632 01a6 916D     		ldr	r1, [r2, #88]
 5633 01a8 FA69     		ldr	r2, [r7, #28]
 5634 01aa 9200     		lsls	r2, r2, #2
 5635 01ac 0A44     		add	r2, r2, r1
 5636 01ae 1268     		ldr	r2, [r2]
 5637 01b0 D213     		asrs	r2, r2, #15
 5638 01b2 12B2     		sxth	r2, r2
 5639 01b4 02FB00F1 		mul	r1, r2, r0
 5640 01b8 7A68     		ldr	r2, [r7, #4]
 5641 01ba B2F92020 		ldrsh	r2, [r2, #32]
 5642 01be 1446     		mov	r4, r2
 5643 01c0 7A68     		ldr	r2, [r7, #4]
 5644 01c2 906D     		ldr	r0, [r2, #88]
 5645 01c4 FA69     		ldr	r2, [r7, #28]
 5646 01c6 9200     		lsls	r2, r2, #2
 5647 01c8 0244     		add	r2, r2, r0
 5648 01ca 1268     		ldr	r2, [r2]
 5649 01cc C2F30E02 		ubfx	r2, r2, #0, #15
 5650 01d0 02FB04F2 		mul	r2, r2, r4
 5651 01d4 D213     		asrs	r2, r2, #15
 5652 01d6 0A44     		add	r2, r2, r1
 5653 01d8 1A60     		str	r2, [r3]
1043:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->reverb_estimate[i] = MULT16_32_Q15(st->reverb_decay, st->reverb_estimate[i]);
 5654              		.loc 3 1043 0 discriminator 3
 5655 01da FB69     		ldr	r3, [r7, #28]
 5656 01dc 0133     		adds	r3, r3, #1
 5657 01de FB61     		str	r3, [r7, #28]
 5658              	.L218:
1043:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->reverb_estimate[i] = MULT16_32_Q15(st->reverb_decay, st->reverb_estimate[i]);
 5659              		.loc 3 1043 0 is_stmt 0 discriminator 1
 5660 01e0 FA69     		ldr	r2, [r7, #28]
 5661 01e2 BB69     		ldr	r3, [r7, #24]
 5662 01e4 9A42     		cmp	r2, r3
 5663 01e6 D4DB     		blt	.L219
1045:STM32F10x_Speex_Lib/libspeex/preprocess.c **** }
 5664              		.loc 3 1045 0 is_stmt 1
 5665 01e8 00BF     		nop
 5666 01ea 2437     		adds	r7, r7, #36
 5667              	.LCFI128:
 5668              		.cfi_def_cfa_offset 12
 5669 01ec BD46     		mov	sp, r7
 5670              	.LCFI129:
 5671              		.cfi_def_cfa_register 13
 5672              		@ sp needed
 5673 01ee 90BD     		pop	{r4, r7, pc}
 5674              		.cfi_endproc
 5675              	.LFE33:
 5677              		.section	.rodata
 5678              		.align	2
 5679              	.LC0:
 5680 0000 54686520 		.ascii	"The VAD has been replaced by a hack pending a compl"
 5680      56414420 
 5680      68617320 
 5680      6265656E 
 5680      20726570 
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 127


 5681 0033 65746520 		.ascii	"ete rewrite\000"
 5681      72657772 
 5681      69746500 
 5682 003f 00       		.align	2
 5683              	.LC1:
 5684 0040 556E6B6E 		.ascii	"Unknown speex_preprocess_ctl request: \000"
 5684      6F776E20 
 5684      73706565 
 5684      785F7072 
 5684      6570726F 
 5685              		.section	.text.speex_preprocess_ctl,"ax",%progbits
 5686              		.align	2
 5687              		.global	speex_preprocess_ctl
 5688              		.thumb
 5689              		.thumb_func
 5691              	speex_preprocess_ctl:
 5692              	.LFB34:
1046:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
1047:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
1048:STM32F10x_Speex_Lib/libspeex/preprocess.c **** EXPORT int speex_preprocess_ctl(SpeexPreprocessState *state, int request, void *ptr)
1049:STM32F10x_Speex_Lib/libspeex/preprocess.c **** {
 5693              		.loc 3 1049 0
 5694              		.cfi_startproc
 5695              		@ args = 0, pretend = 0, frame = 24
 5696              		@ frame_needed = 1, uses_anonymous_args = 0
 5697 0000 80B5     		push	{r7, lr}
 5698              	.LCFI130:
 5699              		.cfi_def_cfa_offset 8
 5700              		.cfi_offset 7, -8
 5701              		.cfi_offset 14, -4
 5702 0002 86B0     		sub	sp, sp, #24
 5703              	.LCFI131:
 5704              		.cfi_def_cfa_offset 32
 5705 0004 00AF     		add	r7, sp, #0
 5706              	.LCFI132:
 5707              		.cfi_def_cfa_register 7
 5708 0006 F860     		str	r0, [r7, #12]
 5709 0008 B960     		str	r1, [r7, #8]
 5710 000a 7A60     		str	r2, [r7, #4]
1050:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    int i;
1051:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    SpeexPreprocessState *st;
1052:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    st=(SpeexPreprocessState*)state;
 5711              		.loc 3 1052 0
 5712 000c FB68     		ldr	r3, [r7, #12]
 5713 000e 3B61     		str	r3, [r7, #16]
1053:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    switch(request)
 5714              		.loc 3 1053 0
 5715 0010 BB68     		ldr	r3, [r7, #8]
 5716 0012 2D2B     		cmp	r3, #45
 5717 0014 00F25681 		bhi	.L221
 5718 0018 01A2     		adr	r2, .L223
 5719 001a 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 5720 001e 00BF     		.p2align 2
 5721              	.L223:
 5722 0020 D9000000 		.word	.L222+1
 5723 0024 E3000000 		.word	.L224+1
 5724 0028 C5020000 		.word	.L221+1
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 128


 5725 002c C5020000 		.word	.L221+1
 5726 0030 ED000000 		.word	.L225+1
 5727 0034 FD000000 		.word	.L226+1
 5728 0038 C5020000 		.word	.L221+1
 5729 003c C5020000 		.word	.L221+1
 5730 0040 07010000 		.word	.L227+1
 5731 0044 35010000 		.word	.L228+1
 5732 0048 D3020000 		.word	.L261+1
 5733 004c D3020000 		.word	.L261+1
 5734 0050 D3020000 		.word	.L261+1
 5735 0054 D3020000 		.word	.L261+1
 5736 0058 3F010000 		.word	.L233+1
 5737 005c 79010000 		.word	.L234+1
 5738 0060 8F010000 		.word	.L235+1
 5739 0064 C9010000 		.word	.L236+1
 5740 0068 DF010000 		.word	.L237+1
 5741 006c F1010000 		.word	.L238+1
 5742 0070 FB010000 		.word	.L239+1
 5743 0074 0D020000 		.word	.L240+1
 5744 0078 17020000 		.word	.L241+1
 5745 007c 29020000 		.word	.L242+1
 5746 0080 33020000 		.word	.L243+1
 5747 0084 3B020000 		.word	.L244+1
 5748 0088 C5020000 		.word	.L221+1
 5749 008c C5020000 		.word	.L221+1
 5750 0090 C5020000 		.word	.L221+1
 5751 0094 C5020000 		.word	.L221+1
 5752 0098 C5020000 		.word	.L221+1
 5753 009c C5020000 		.word	.L221+1
 5754 00a0 C5020000 		.word	.L221+1
 5755 00a4 C5020000 		.word	.L221+1
 5756 00a8 C5020000 		.word	.L221+1
 5757 00ac C5020000 		.word	.L221+1
 5758 00b0 C5020000 		.word	.L221+1
 5759 00b4 45020000 		.word	.L245+1
 5760 00b8 C5020000 		.word	.L221+1
 5761 00bc 4F020000 		.word	.L246+1
 5762 00c0 C5020000 		.word	.L221+1
 5763 00c4 45020000 		.word	.L245+1
 5764 00c8 C5020000 		.word	.L221+1
 5765 00cc 7D020000 		.word	.L247+1
 5766 00d0 C5020000 		.word	.L221+1
 5767 00d4 AF020000 		.word	.L248+1
 5768              		.p2align 1
 5769              	.L222:
1054:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    {
1055:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    case SPEEX_PREPROCESS_SET_DENOISE:
1056:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->denoise_enabled = (*(spx_int32_t*)ptr);
 5770              		.loc 3 1056 0
 5771 00d8 7B68     		ldr	r3, [r7, #4]
 5772 00da 1A68     		ldr	r2, [r3]
 5773 00dc 3B69     		ldr	r3, [r7, #16]
 5774 00de 5A61     		str	r2, [r3, #20]
1057:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       break;
 5775              		.loc 3 1057 0
 5776 00e0 F8E0     		b	.L249
 5777              	.L224:
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 129


1058:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    case SPEEX_PREPROCESS_GET_DENOISE:
1059:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       (*(spx_int32_t*)ptr) = st->denoise_enabled;
 5778              		.loc 3 1059 0
 5779 00e2 3B69     		ldr	r3, [r7, #16]
 5780 00e4 5A69     		ldr	r2, [r3, #20]
 5781 00e6 7B68     		ldr	r3, [r7, #4]
 5782 00e8 1A60     		str	r2, [r3]
1060:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       break;
 5783              		.loc 3 1060 0
 5784 00ea F3E0     		b	.L249
 5785              	.L225:
1061:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #ifndef FIXED_POINT
1062:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    case SPEEX_PREPROCESS_SET_AGC:
1063:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->agc_enabled = (*(spx_int32_t*)ptr);
1064:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       break;
1065:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    case SPEEX_PREPROCESS_GET_AGC:
1066:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       (*(spx_int32_t*)ptr) = st->agc_enabled;
1067:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       break;
1068:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #ifndef DISABLE_FLOAT_API
1069:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    case SPEEX_PREPROCESS_SET_AGC_LEVEL:
1070:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->agc_level = (*(float*)ptr);
1071:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       if (st->agc_level<1)
1072:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          st->agc_level=1;
1073:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       if (st->agc_level>32768)
1074:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          st->agc_level=32768;
1075:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       break;
1076:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    case SPEEX_PREPROCESS_GET_AGC_LEVEL:
1077:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       (*(float*)ptr) = st->agc_level;
1078:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       break;
1079:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #endif /* #ifndef DISABLE_FLOAT_API */
1080:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    case SPEEX_PREPROCESS_SET_AGC_INCREMENT:
1081:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->max_increase_step = exp(0.11513f * (*(spx_int32_t*)ptr)*st->frame_size / st->sampling_rat
1082:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       break;
1083:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    case SPEEX_PREPROCESS_GET_AGC_INCREMENT:
1084:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       (*(spx_int32_t*)ptr) = floor(.5+8.6858*log(st->max_increase_step)*st->sampling_rate/st->frame
1085:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       break;
1086:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    case SPEEX_PREPROCESS_SET_AGC_DECREMENT:
1087:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->max_decrease_step = exp(0.11513f * (*(spx_int32_t*)ptr)*st->frame_size / st->sampling_rat
1088:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       break;
1089:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    case SPEEX_PREPROCESS_GET_AGC_DECREMENT:
1090:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       (*(spx_int32_t*)ptr) = floor(.5+8.6858*log(st->max_decrease_step)*st->sampling_rate/st->frame
1091:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       break;
1092:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    case SPEEX_PREPROCESS_SET_AGC_MAX_GAIN:
1093:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->max_gain = exp(0.11513f * (*(spx_int32_t*)ptr));
1094:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       break;
1095:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    case SPEEX_PREPROCESS_GET_AGC_MAX_GAIN:
1096:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       (*(spx_int32_t*)ptr) = floor(.5+8.6858*log(st->max_gain));
1097:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       break;
1098:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #endif
1099:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    case SPEEX_PREPROCESS_SET_VAD:
1100:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       speex_warning("The VAD has been replaced by a hack pending a complete rewrite");
 5786              		.loc 3 1100 0
 5787 00ec 7C48     		ldr	r0, .L262
 5788 00ee FFF7FEFF 		bl	speex_warning
1101:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->vad_enabled = (*(spx_int32_t*)ptr);
 5789              		.loc 3 1101 0
 5790 00f2 7B68     		ldr	r3, [r7, #4]
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 130


 5791 00f4 1A68     		ldr	r2, [r3]
 5792 00f6 3B69     		ldr	r3, [r7, #16]
 5793 00f8 9A61     		str	r2, [r3, #24]
1102:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       break;
 5794              		.loc 3 1102 0
 5795 00fa EBE0     		b	.L249
 5796              	.L226:
1103:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    case SPEEX_PREPROCESS_GET_VAD:
1104:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       (*(spx_int32_t*)ptr) = st->vad_enabled;
 5797              		.loc 3 1104 0
 5798 00fc 3B69     		ldr	r3, [r7, #16]
 5799 00fe 9A69     		ldr	r2, [r3, #24]
 5800 0100 7B68     		ldr	r3, [r7, #4]
 5801 0102 1A60     		str	r2, [r3]
1105:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       break;
 5802              		.loc 3 1105 0
 5803 0104 E6E0     		b	.L249
 5804              	.L227:
1106:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    
1107:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    case SPEEX_PREPROCESS_SET_DEREVERB:
1108:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->dereverb_enabled = (*(spx_int32_t*)ptr);
 5805              		.loc 3 1108 0
 5806 0106 7B68     		ldr	r3, [r7, #4]
 5807 0108 1A68     		ldr	r2, [r3]
 5808 010a 3B69     		ldr	r3, [r7, #16]
 5809 010c DA61     		str	r2, [r3, #28]
1109:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       for (i=0;i<st->ps_size;i++)
 5810              		.loc 3 1109 0
 5811 010e 0023     		movs	r3, #0
 5812 0110 7B61     		str	r3, [r7, #20]
 5813 0112 09E0     		b	.L250
 5814              	.L251:
1110:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          st->reverb_estimate[i]=0;
 5815              		.loc 3 1110 0 discriminator 3
 5816 0114 3B69     		ldr	r3, [r7, #16]
 5817 0116 9A6D     		ldr	r2, [r3, #88]
 5818 0118 7B69     		ldr	r3, [r7, #20]
 5819 011a 9B00     		lsls	r3, r3, #2
 5820 011c 1344     		add	r3, r3, r2
 5821 011e 0022     		movs	r2, #0
 5822 0120 1A60     		str	r2, [r3]
1109:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       for (i=0;i<st->ps_size;i++)
 5823              		.loc 3 1109 0 discriminator 3
 5824 0122 7B69     		ldr	r3, [r7, #20]
 5825 0124 0133     		adds	r3, r3, #1
 5826 0126 7B61     		str	r3, [r7, #20]
 5827              	.L250:
1109:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       for (i=0;i<st->ps_size;i++)
 5828              		.loc 3 1109 0 is_stmt 0 discriminator 1
 5829 0128 3B69     		ldr	r3, [r7, #16]
 5830 012a 5A68     		ldr	r2, [r3, #4]
 5831 012c 7B69     		ldr	r3, [r7, #20]
 5832 012e 9A42     		cmp	r2, r3
 5833 0130 F0DC     		bgt	.L251
1111:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       break;
 5834              		.loc 3 1111 0 is_stmt 1
 5835 0132 CFE0     		b	.L249
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 131


 5836              	.L228:
1112:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    case SPEEX_PREPROCESS_GET_DEREVERB:
1113:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       (*(spx_int32_t*)ptr) = st->dereverb_enabled;
 5837              		.loc 3 1113 0
 5838 0134 3B69     		ldr	r3, [r7, #16]
 5839 0136 DA69     		ldr	r2, [r3, #28]
 5840 0138 7B68     		ldr	r3, [r7, #4]
 5841 013a 1A60     		str	r2, [r3]
1114:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       break;
 5842              		.loc 3 1114 0
 5843 013c CAE0     		b	.L249
 5844              	.L233:
1115:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
1116:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    case SPEEX_PREPROCESS_SET_DEREVERB_LEVEL:
1117:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       /* FIXME: Re-enable when de-reverberation is actually enabled again */
1118:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       /*st->reverb_level = (*(float*)ptr);*/
1119:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       break;
1120:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    case SPEEX_PREPROCESS_GET_DEREVERB_LEVEL:
1121:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       /* FIXME: Re-enable when de-reverberation is actually enabled again */
1122:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       /*(*(float*)ptr) = st->reverb_level;*/
1123:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       break;
1124:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    
1125:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    case SPEEX_PREPROCESS_SET_DEREVERB_DECAY:
1126:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       /* FIXME: Re-enable when de-reverberation is actually enabled again */
1127:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       /*st->reverb_decay = (*(float*)ptr);*/
1128:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       break;
1129:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    case SPEEX_PREPROCESS_GET_DEREVERB_DECAY:
1130:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       /* FIXME: Re-enable when de-reverberation is actually enabled again */
1131:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       /*(*(float*)ptr) = st->reverb_decay;*/
1132:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       break;
1133:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
1134:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    case SPEEX_PREPROCESS_SET_PROB_START:
1135:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       *(spx_int32_t*)ptr = MIN32(100,MAX32(0, *(spx_int32_t*)ptr));
 5845              		.loc 3 1135 0
 5846 013e 7B68     		ldr	r3, [r7, #4]
 5847 0140 1B68     		ldr	r3, [r3]
 5848 0142 642B     		cmp	r3, #100
 5849 0144 04DC     		bgt	.L252
 5850              		.loc 3 1135 0 is_stmt 0 discriminator 1
 5851 0146 7B68     		ldr	r3, [r7, #4]
 5852 0148 1B68     		ldr	r3, [r3]
 5853 014a 23EAE373 		bic	r3, r3, r3, asr #31
 5854 014e 00E0     		b	.L253
 5855              	.L252:
 5856              		.loc 3 1135 0 discriminator 2
 5857 0150 6423     		movs	r3, #100
 5858              	.L253:
 5859              		.loc 3 1135 0 discriminator 4
 5860 0152 7A68     		ldr	r2, [r7, #4]
 5861 0154 1360     		str	r3, [r2]
1136:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->speech_prob_start = DIV32_16(MULT16_16(Q15ONE,*(spx_int32_t*)ptr), 100);
 5862              		.loc 3 1136 0 is_stmt 1 discriminator 4
 5863 0156 7B68     		ldr	r3, [r7, #4]
 5864 0158 1B68     		ldr	r3, [r3]
 5865 015a 1BB2     		sxth	r3, r3
 5866 015c 1A46     		mov	r2, r3
 5867 015e 1346     		mov	r3, r2
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 132


 5868 0160 DB03     		lsls	r3, r3, #15
 5869 0162 9B1A     		subs	r3, r3, r2
 5870 0164 5F4A     		ldr	r2, .L262+4
 5871 0166 82FB0312 		smull	r1, r2, r2, r3
 5872 016a 5211     		asrs	r2, r2, #5
 5873 016c DB17     		asrs	r3, r3, #31
 5874 016e D31A     		subs	r3, r2, r3
 5875 0170 1AB2     		sxth	r2, r3
 5876 0172 3B69     		ldr	r3, [r7, #16]
 5877 0174 9A84     		strh	r2, [r3, #36]	@ movhi
1137:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       break;
 5878              		.loc 3 1137 0 discriminator 4
 5879 0176 ADE0     		b	.L249
 5880              	.L234:
1138:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    case SPEEX_PREPROCESS_GET_PROB_START:
1139:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       (*(spx_int32_t*)ptr) = MULT16_16_Q15(st->speech_prob_start, 100);
 5881              		.loc 3 1139 0
 5882 0178 3B69     		ldr	r3, [r7, #16]
 5883 017a B3F92430 		ldrsh	r3, [r3, #36]
 5884 017e 1A46     		mov	r2, r3
 5885 0180 6423     		movs	r3, #100
 5886 0182 03FB02F3 		mul	r3, r3, r2
 5887 0186 DA13     		asrs	r2, r3, #15
 5888 0188 7B68     		ldr	r3, [r7, #4]
 5889 018a 1A60     		str	r2, [r3]
1140:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       break;
 5890              		.loc 3 1140 0
 5891 018c A2E0     		b	.L249
 5892              	.L235:
1141:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
1142:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    case SPEEX_PREPROCESS_SET_PROB_CONTINUE:
1143:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       *(spx_int32_t*)ptr = MIN32(100,MAX32(0, *(spx_int32_t*)ptr));
 5893              		.loc 3 1143 0
 5894 018e 7B68     		ldr	r3, [r7, #4]
 5895 0190 1B68     		ldr	r3, [r3]
 5896 0192 642B     		cmp	r3, #100
 5897 0194 04DC     		bgt	.L254
 5898              		.loc 3 1143 0 is_stmt 0 discriminator 1
 5899 0196 7B68     		ldr	r3, [r7, #4]
 5900 0198 1B68     		ldr	r3, [r3]
 5901 019a 23EAE373 		bic	r3, r3, r3, asr #31
 5902 019e 00E0     		b	.L255
 5903              	.L254:
 5904              		.loc 3 1143 0 discriminator 2
 5905 01a0 6423     		movs	r3, #100
 5906              	.L255:
 5907              		.loc 3 1143 0 discriminator 4
 5908 01a2 7A68     		ldr	r2, [r7, #4]
 5909 01a4 1360     		str	r3, [r2]
1144:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->speech_prob_continue = DIV32_16(MULT16_16(Q15ONE,*(spx_int32_t*)ptr), 100);
 5910              		.loc 3 1144 0 is_stmt 1 discriminator 4
 5911 01a6 7B68     		ldr	r3, [r7, #4]
 5912 01a8 1B68     		ldr	r3, [r3]
 5913 01aa 1BB2     		sxth	r3, r3
 5914 01ac 1A46     		mov	r2, r3
 5915 01ae 1346     		mov	r3, r2
 5916 01b0 DB03     		lsls	r3, r3, #15
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 133


 5917 01b2 9B1A     		subs	r3, r3, r2
 5918 01b4 4B4A     		ldr	r2, .L262+4
 5919 01b6 82FB0312 		smull	r1, r2, r2, r3
 5920 01ba 5211     		asrs	r2, r2, #5
 5921 01bc DB17     		asrs	r3, r3, #31
 5922 01be D31A     		subs	r3, r2, r3
 5923 01c0 1AB2     		sxth	r2, r3
 5924 01c2 3B69     		ldr	r3, [r7, #16]
 5925 01c4 DA84     		strh	r2, [r3, #38]	@ movhi
1145:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       break;
 5926              		.loc 3 1145 0 discriminator 4
 5927 01c6 85E0     		b	.L249
 5928              	.L236:
1146:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    case SPEEX_PREPROCESS_GET_PROB_CONTINUE:
1147:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       (*(spx_int32_t*)ptr) = MULT16_16_Q15(st->speech_prob_continue, 100);
 5929              		.loc 3 1147 0
 5930 01c8 3B69     		ldr	r3, [r7, #16]
 5931 01ca B3F92630 		ldrsh	r3, [r3, #38]
 5932 01ce 1A46     		mov	r2, r3
 5933 01d0 6423     		movs	r3, #100
 5934 01d2 03FB02F3 		mul	r3, r3, r2
 5935 01d6 DA13     		asrs	r2, r3, #15
 5936 01d8 7B68     		ldr	r3, [r7, #4]
 5937 01da 1A60     		str	r2, [r3]
1148:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       break;
 5938              		.loc 3 1148 0
 5939 01dc 7AE0     		b	.L249
 5940              	.L237:
1149:STM32F10x_Speex_Lib/libspeex/preprocess.c **** 
1150:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    case SPEEX_PREPROCESS_SET_NOISE_SUPPRESS:
1151:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->noise_suppress = -ABS(*(spx_int32_t*)ptr);
 5941              		.loc 3 1151 0
 5942 01de 7B68     		ldr	r3, [r7, #4]
 5943 01e0 1B68     		ldr	r3, [r3]
 5944 01e2 002B     		cmp	r3, #0
 5945 01e4 B8BF     		it	lt
 5946 01e6 5B42     		rsblt	r3, r3, #0
 5947 01e8 5A42     		negs	r2, r3
 5948 01ea 3B69     		ldr	r3, [r7, #16]
 5949 01ec 9A62     		str	r2, [r3, #40]
1152:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       break;
 5950              		.loc 3 1152 0
 5951 01ee 71E0     		b	.L249
 5952              	.L238:
1153:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    case SPEEX_PREPROCESS_GET_NOISE_SUPPRESS:
1154:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       (*(spx_int32_t*)ptr) = st->noise_suppress;
 5953              		.loc 3 1154 0
 5954 01f0 3B69     		ldr	r3, [r7, #16]
 5955 01f2 9A6A     		ldr	r2, [r3, #40]
 5956 01f4 7B68     		ldr	r3, [r7, #4]
 5957 01f6 1A60     		str	r2, [r3]
1155:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       break;
 5958              		.loc 3 1155 0
 5959 01f8 6CE0     		b	.L249
 5960              	.L239:
1156:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    case SPEEX_PREPROCESS_SET_ECHO_SUPPRESS:
1157:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->echo_suppress = -ABS(*(spx_int32_t*)ptr);
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 134


 5961              		.loc 3 1157 0
 5962 01fa 7B68     		ldr	r3, [r7, #4]
 5963 01fc 1B68     		ldr	r3, [r3]
 5964 01fe 002B     		cmp	r3, #0
 5965 0200 B8BF     		it	lt
 5966 0202 5B42     		rsblt	r3, r3, #0
 5967 0204 5A42     		negs	r2, r3
 5968 0206 3B69     		ldr	r3, [r7, #16]
 5969 0208 DA62     		str	r2, [r3, #44]
1158:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       break;
 5970              		.loc 3 1158 0
 5971 020a 63E0     		b	.L249
 5972              	.L240:
1159:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    case SPEEX_PREPROCESS_GET_ECHO_SUPPRESS:
1160:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       (*(spx_int32_t*)ptr) = st->echo_suppress;
 5973              		.loc 3 1160 0
 5974 020c 3B69     		ldr	r3, [r7, #16]
 5975 020e DA6A     		ldr	r2, [r3, #44]
 5976 0210 7B68     		ldr	r3, [r7, #4]
 5977 0212 1A60     		str	r2, [r3]
1161:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       break;
 5978              		.loc 3 1161 0
 5979 0214 5EE0     		b	.L249
 5980              	.L241:
1162:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    case SPEEX_PREPROCESS_SET_ECHO_SUPPRESS_ACTIVE:
1163:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->echo_suppress_active = -ABS(*(spx_int32_t*)ptr);
 5981              		.loc 3 1163 0
 5982 0216 7B68     		ldr	r3, [r7, #4]
 5983 0218 1B68     		ldr	r3, [r3]
 5984 021a 002B     		cmp	r3, #0
 5985 021c B8BF     		it	lt
 5986 021e 5B42     		rsblt	r3, r3, #0
 5987 0220 5A42     		negs	r2, r3
 5988 0222 3B69     		ldr	r3, [r7, #16]
 5989 0224 1A63     		str	r2, [r3, #48]
1164:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       break;
 5990              		.loc 3 1164 0
 5991 0226 55E0     		b	.L249
 5992              	.L242:
1165:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    case SPEEX_PREPROCESS_GET_ECHO_SUPPRESS_ACTIVE:
1166:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       (*(spx_int32_t*)ptr) = st->echo_suppress_active;
 5993              		.loc 3 1166 0
 5994 0228 3B69     		ldr	r3, [r7, #16]
 5995 022a 1A6B     		ldr	r2, [r3, #48]
 5996 022c 7B68     		ldr	r3, [r7, #4]
 5997 022e 1A60     		str	r2, [r3]
1167:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       break;
 5998              		.loc 3 1167 0
 5999 0230 50E0     		b	.L249
 6000              	.L243:
1168:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    case SPEEX_PREPROCESS_SET_ECHO_STATE:
1169:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->echo_state = (SpeexEchoState*)ptr;
 6001              		.loc 3 1169 0
 6002 0232 3B69     		ldr	r3, [r7, #16]
 6003 0234 7A68     		ldr	r2, [r7, #4]
 6004 0236 5A63     		str	r2, [r3, #52]
1170:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       break;
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 135


 6005              		.loc 3 1170 0
 6006 0238 4CE0     		b	.L249
 6007              	.L244:
1171:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    case SPEEX_PREPROCESS_GET_ECHO_STATE:
1172:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       (*(SpeexEchoState**)ptr) = (SpeexEchoState*)st->echo_state;
 6008              		.loc 3 1172 0
 6009 023a 3B69     		ldr	r3, [r7, #16]
 6010 023c 5A6B     		ldr	r2, [r3, #52]
 6011 023e 7B68     		ldr	r3, [r7, #4]
 6012 0240 1A60     		str	r2, [r3]
1173:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       break;
 6013              		.loc 3 1173 0
 6014 0242 47E0     		b	.L249
 6015              	.L245:
1174:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #ifndef FIXED_POINT
1175:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    case SPEEX_PREPROCESS_GET_AGC_LOUDNESS:
1176:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       (*(spx_int32_t*)ptr) = pow(st->loudness, 1.0/LOUDNESS_EXP);
1177:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       break;
1178:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    case SPEEX_PREPROCESS_GET_AGC_GAIN:
1179:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       (*(spx_int32_t*)ptr) = floor(.5+8.6858*log(st->agc_gain));
1180:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       break;
1181:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #endif
1182:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    case SPEEX_PREPROCESS_GET_PSD_SIZE:
1183:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    case SPEEX_PREPROCESS_GET_NOISE_PSD_SIZE:
1184:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       (*(spx_int32_t*)ptr) = st->ps_size;
 6016              		.loc 3 1184 0
 6017 0244 3B69     		ldr	r3, [r7, #16]
 6018 0246 5A68     		ldr	r2, [r3, #4]
 6019 0248 7B68     		ldr	r3, [r7, #4]
 6020 024a 1A60     		str	r2, [r3]
1185:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       break;
 6021              		.loc 3 1185 0
 6022 024c 42E0     		b	.L249
 6023              	.L246:
1186:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    case SPEEX_PREPROCESS_GET_PSD:
1187:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       for(i=0;i<st->ps_size;i++)
 6024              		.loc 3 1187 0
 6025 024e 0023     		movs	r3, #0
 6026 0250 7B61     		str	r3, [r7, #20]
 6027 0252 0DE0     		b	.L256
 6028              	.L257:
1188:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       	((spx_int32_t *)ptr)[i] = (spx_int32_t) st->ps[i];
 6029              		.loc 3 1188 0 discriminator 3
 6030 0254 7B69     		ldr	r3, [r7, #20]
 6031 0256 9B00     		lsls	r3, r3, #2
 6032 0258 7A68     		ldr	r2, [r7, #4]
 6033 025a 1344     		add	r3, r3, r2
 6034 025c 3A69     		ldr	r2, [r7, #16]
 6035 025e 516C     		ldr	r1, [r2, #68]
 6036 0260 7A69     		ldr	r2, [r7, #20]
 6037 0262 9200     		lsls	r2, r2, #2
 6038 0264 0A44     		add	r2, r2, r1
 6039 0266 1268     		ldr	r2, [r2]
 6040 0268 1A60     		str	r2, [r3]
1187:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       	((spx_int32_t *)ptr)[i] = (spx_int32_t) st->ps[i];
 6041              		.loc 3 1187 0 discriminator 3
 6042 026a 7B69     		ldr	r3, [r7, #20]
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 136


 6043 026c 0133     		adds	r3, r3, #1
 6044 026e 7B61     		str	r3, [r7, #20]
 6045              	.L256:
1187:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       	((spx_int32_t *)ptr)[i] = (spx_int32_t) st->ps[i];
 6046              		.loc 3 1187 0 is_stmt 0 discriminator 1
 6047 0270 3B69     		ldr	r3, [r7, #16]
 6048 0272 5A68     		ldr	r2, [r3, #4]
 6049 0274 7B69     		ldr	r3, [r7, #20]
 6050 0276 9A42     		cmp	r2, r3
 6051 0278 ECDC     		bgt	.L257
1189:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       break;
 6052              		.loc 3 1189 0 is_stmt 1
 6053 027a 2BE0     		b	.L249
 6054              	.L247:
1190:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    case SPEEX_PREPROCESS_GET_NOISE_PSD:
1191:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       for(i=0;i<st->ps_size;i++)
 6055              		.loc 3 1191 0
 6056 027c 0023     		movs	r3, #0
 6057 027e 7B61     		str	r3, [r7, #20]
 6058 0280 0FE0     		b	.L258
 6059              	.L259:
1192:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       	((spx_int32_t *)ptr)[i] = (spx_int32_t) PSHR32(st->noise[i], NOISE_SHIFT);
 6060              		.loc 3 1192 0 discriminator 3
 6061 0282 7B69     		ldr	r3, [r7, #20]
 6062 0284 9B00     		lsls	r3, r3, #2
 6063 0286 7A68     		ldr	r2, [r7, #4]
 6064 0288 1344     		add	r3, r3, r2
 6065 028a 3A69     		ldr	r2, [r7, #16]
 6066 028c 516D     		ldr	r1, [r2, #84]
 6067 028e 7A69     		ldr	r2, [r7, #20]
 6068 0290 9200     		lsls	r2, r2, #2
 6069 0292 0A44     		add	r2, r2, r1
 6070 0294 1268     		ldr	r2, [r2]
 6071 0296 4032     		adds	r2, r2, #64
 6072 0298 D211     		asrs	r2, r2, #7
 6073 029a 1A60     		str	r2, [r3]
1191:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       	((spx_int32_t *)ptr)[i] = (spx_int32_t) PSHR32(st->noise[i], NOISE_SHIFT);
 6074              		.loc 3 1191 0 discriminator 3
 6075 029c 7B69     		ldr	r3, [r7, #20]
 6076 029e 0133     		adds	r3, r3, #1
 6077 02a0 7B61     		str	r3, [r7, #20]
 6078              	.L258:
1191:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       	((spx_int32_t *)ptr)[i] = (spx_int32_t) PSHR32(st->noise[i], NOISE_SHIFT);
 6079              		.loc 3 1191 0 is_stmt 0 discriminator 1
 6080 02a2 3B69     		ldr	r3, [r7, #16]
 6081 02a4 5A68     		ldr	r2, [r3, #4]
 6082 02a6 7B69     		ldr	r3, [r7, #20]
 6083 02a8 9A42     		cmp	r2, r3
 6084 02aa EADC     		bgt	.L259
1193:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       break;
 6085              		.loc 3 1193 0 is_stmt 1
 6086 02ac 12E0     		b	.L249
 6087              	.L248:
1194:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    case SPEEX_PREPROCESS_GET_PROB:
1195:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       (*(spx_int32_t*)ptr) = MULT16_16_Q15(st->speech_prob, 100);
 6088              		.loc 3 1195 0
 6089 02ae 3B69     		ldr	r3, [r7, #16]
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 137


 6090 02b0 B3F93830 		ldrsh	r3, [r3, #56]
 6091 02b4 1A46     		mov	r2, r3
 6092 02b6 6423     		movs	r3, #100
 6093 02b8 03FB02F3 		mul	r3, r3, r2
 6094 02bc DA13     		asrs	r2, r3, #15
 6095 02be 7B68     		ldr	r3, [r7, #4]
 6096 02c0 1A60     		str	r2, [r3]
1196:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       break;
 6097              		.loc 3 1196 0
 6098 02c2 07E0     		b	.L249
 6099              	.L221:
1197:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #ifndef FIXED_POINT
1198:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    case SPEEX_PREPROCESS_SET_AGC_TARGET:
1199:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       st->agc_level = (*(spx_int32_t*)ptr);
1200:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       if (st->agc_level<1)
1201:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          st->agc_level=1;
1202:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       if (st->agc_level>32768)
1203:STM32F10x_Speex_Lib/libspeex/preprocess.c ****          st->agc_level=32768;
1204:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       break;
1205:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    case SPEEX_PREPROCESS_GET_AGC_TARGET:
1206:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       (*(spx_int32_t*)ptr) = st->agc_level;
1207:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       break;
1208:STM32F10x_Speex_Lib/libspeex/preprocess.c **** #endif
1209:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    default:
1210:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       speex_warning_int("Unknown speex_preprocess_ctl request: ", request);
 6100              		.loc 3 1210 0
 6101 02c4 B968     		ldr	r1, [r7, #8]
 6102 02c6 0848     		ldr	r0, .L262+8
 6103 02c8 FFF7FEFF 		bl	speex_warning_int
1211:STM32F10x_Speex_Lib/libspeex/preprocess.c ****       return -1;
 6104              		.loc 3 1211 0
 6105 02cc 4FF0FF33 		mov	r3, #-1
 6106 02d0 01E0     		b	.L260
 6107              	.L261:
1119:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    case SPEEX_PREPROCESS_GET_DEREVERB_LEVEL:
 6108              		.loc 3 1119 0
 6109 02d2 00BF     		nop
 6110              	.L249:
1212:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    }
1213:STM32F10x_Speex_Lib/libspeex/preprocess.c ****    return 0;
 6111              		.loc 3 1213 0
 6112 02d4 0023     		movs	r3, #0
 6113              	.L260:
1214:STM32F10x_Speex_Lib/libspeex/preprocess.c **** }
 6114              		.loc 3 1214 0
 6115 02d6 1846     		mov	r0, r3
 6116 02d8 1837     		adds	r7, r7, #24
 6117              	.LCFI133:
 6118              		.cfi_def_cfa_offset 8
 6119 02da BD46     		mov	sp, r7
 6120              	.LCFI134:
 6121              		.cfi_def_cfa_register 13
 6122              		@ sp needed
 6123 02dc 80BD     		pop	{r7, pc}
 6124              	.L263:
 6125 02de 00BF     		.align	2
 6126              	.L262:
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 138


 6127 02e0 00000000 		.word	.LC0
 6128 02e4 1F85EB51 		.word	1374389535
 6129 02e8 40000000 		.word	.LC1
 6130              		.cfi_endproc
 6131              	.LFE34:
 6133              		.section	.rodata.table.5856,"a",%progbits
 6134              		.align	2
 6137              	table.5856:
 6138 0000 4A1A     		.short	6730
 6139 0002 A520     		.short	8357
 6140 0004 8C26     		.short	9868
 6141 0006 032C     		.short	11267
 6142 0008 1331     		.short	12563
 6143 000a CA35     		.short	13770
 6144 000c 323A     		.short	14898
 6145 000e 573E     		.short	15959
 6146 0010 4142     		.short	16961
 6147 0012 F745     		.short	17911
 6148 0014 8049     		.short	18816
 6149 0016 E24C     		.short	19682
 6150 0018 2050     		.short	20512
 6151 001a 3F53     		.short	21311
 6152 001c 4256     		.short	22082
 6153 001e 2B59     		.short	22827
 6154 0020 FD5B     		.short	23549
 6155 0022 BA5E     		.short	24250
 6156 0024 6361     		.short	24931
 6157 0026 FA63     		.short	25594
 6158 0028 8166     		.short	26241
 6159              		.text
 6160              	.Letext0:
 6161              		.file 4 "Inc/speex/speex_config_types.h"
 6162              		.file 5 "Inc/speex/speex_preprocess.h"
 6163              		.file 6 "Inc/speex/speex_echo.h"
 6164              		.file 7 "STM32F10x_Speex_Lib/libspeex/arch.h"
 6165              		.file 8 "STM32F10x_Speex_Lib/libspeex/filterbank.h"
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 139


DEFINED SYMBOLS
                            *ABS*:0000000000000000 preprocess.c
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:20     .text.spx_ilog2:0000000000000000 $t
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:24     .text.spx_ilog2:0000000000000000 spx_ilog2
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:128    .text.spx_ilog4:0000000000000000 $t
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:132    .text.spx_ilog4:0000000000000000 spx_ilog4
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:222    .text.spx_sqrt:0000000000000000 $t
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:226    .text.spx_sqrt:0000000000000000 spx_sqrt
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:341    .text._spx_cos_pi_2:0000000000000000 $t
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:345    .text._spx_cos_pi_2:0000000000000000 _spx_cos_pi_2
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:457    .text._spx_cos_pi_2:00000000000000dc $d
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:462    .text.spx_cos_norm:0000000000000000 $t
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:466    .text.spx_cos_norm:0000000000000000 spx_cos_norm
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:563    .text.spx_cos_norm:0000000000000084 $d
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:568    .text.spx_exp2:0000000000000000 $t
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:572    .text.spx_exp2:0000000000000000 spx_exp2
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:684    .text.spx_exp:0000000000000000 $t
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:688    .text.spx_exp:0000000000000000 spx_exp
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:749    .text.spx_exp:0000000000000050 $d
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:754    .text.speex_alloc:0000000000000000 $t
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:758    .text.speex_alloc:0000000000000000 speex_alloc
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:797    .text.speex_free:0000000000000000 $t
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:801    .text.speex_free:0000000000000000 speex_free
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:836    .text.speex_warning:0000000000000000 $t
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:840    .text.speex_warning:0000000000000000 speex_warning
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:876    .text.speex_warning_int:0000000000000000 $t
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:880    .text.speex_warning_int:0000000000000000 speex_warning_int
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:917    .text.DIV32_16_Q8:0000000000000000 $t
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:921    .text.DIV32_16_Q8:0000000000000000 DIV32_16_Q8
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:1025   .text.DIV32_16_Q15:0000000000000000 $t
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:1029   .text.DIV32_16_Q15:0000000000000000 DIV32_16_Q15
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:1129   .text.conj_window:0000000000000000 $t
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:1133   .text.conj_window:0000000000000000 conj_window
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:1293   .text.conj_window:0000000000000108 $d
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:1298   .text.hypergeom_gain:0000000000000000 $t
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:1302   .text.hypergeom_gain:0000000000000000 hypergeom_gain
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:1400   .text.hypergeom_gain:0000000000000098 $d
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:6137   .rodata.table.5856:0000000000000000 table.5856
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:1406   .text.qcurve:0000000000000000 $t
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:1410   .text.qcurve:0000000000000000 qcurve
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:1469   .text.qcurve:0000000000000050 $d
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:1474   .text.compute_gain_floor:0000000000000000 $t
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:1478   .text.compute_gain_floor:0000000000000000 compute_gain_floor
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:1852   .text.speex_preprocess_state_init:0000000000000000 $t
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:1857   .text.speex_preprocess_state_init:0000000000000000 speex_preprocess_state_init
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:2401   .text.speex_preprocess_state_destroy:0000000000000000 $t
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:2406   .text.speex_preprocess_state_destroy:0000000000000000 speex_preprocess_state_destroy
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:2556   .text.preprocess_analysis:0000000000000000 $t
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:2560   .text.preprocess_analysis:0000000000000000 preprocess_analysis
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:2939   .text.update_noise_prob:0000000000000000 $t
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:2943   .text.update_noise_prob:0000000000000000 update_noise_prob
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:3464   .text.speex_preprocess:0000000000000000 $t
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:3469   .text.speex_preprocess:0000000000000000 speex_preprocess
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:3513   .text.speex_preprocess_run:0000000000000000 speex_preprocess_run
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:3508   .text.speex_preprocess_run:0000000000000000 $t
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:4763   .text.speex_preprocess_run:0000000000000a54 $d
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:4766   .text.speex_preprocess_run:0000000000000a58 $t
ARM GAS  /var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s 			page 140


/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:5388   .text.speex_preprocess_estimate_update:0000000000000000 $t
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:5393   .text.speex_preprocess_estimate_update:0000000000000000 speex_preprocess_estimate_update
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:5678   .rodata:0000000000000000 $d
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:5686   .text.speex_preprocess_ctl:0000000000000000 $t
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:5691   .text.speex_preprocess_ctl:0000000000000000 speex_preprocess_ctl
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:5722   .text.speex_preprocess_ctl:0000000000000020 $d
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:5768   .text.speex_preprocess_ctl:00000000000000d8 $t
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:6127   .text.speex_preprocess_ctl:00000000000002e0 $d
/var/folders/kh/x4vltyy52lbg7p4pcyglc5080000gp/T//cc5Y4WR8.s:6134   .rodata.table.5856:0000000000000000 $d
                     .debug_frame:0000000000000010 $d

UNDEFINED SYMBOLS
calloc
free
filterbank_new
spx_fft_init
spx_fft_destroy
filterbank_destroy
spx_fft
filterbank_compute_bank32
speex_echo_get_residual
filterbank_compute_psd16
spx_ifft
